"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[1089],{3396:(C,_,r)=>{r.d(_,{B:()=>h});var e=r(6814),m=r(9207),f=r(9468);let h=(()=>{class c{static#t=this.\u0275fac=function(o){return new(o||c)};static#e=this.\u0275mod=f.oAB({type:c});static#n=this.\u0275inj=f.cJS({imports:[e.ez,m.m]})}return c})()},5779:(C,_,r)=>{r.d(_,{P:()=>f});var e=r(95),m=r(9468);let f=(()=>{class h{constructor(){}createFormActionSuggeree(p){return new e.cw({id:new e.NI(this.getActionSuggereeId(p),{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI(this.getActionSuggereeLibelle(p),{nonNullable:!0,validators:[e.kI.required]}),statut:new e.NI(this.getActionSuggereeStatut(p),{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI(this.getActionSuggereeDescription(p),{}),refSys:new e.NI(this.getActionSuggereeRefSys(p),{})})}createFormNewActionSuggeree(){return new e.cw({id:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),statut:new e.NI(null,{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI("",{}),refSys:new e.NI("",{})})}getActionSuggereeId(p){return null!==p?p.id:0}getActionSuggereeLibelle(p){return null!==p?p.libelle:""}getActionSuggereeStatut(p){return null!==p?p.statut:null}getActionSuggereeDescription(p){return null!==p?p.description:""}getActionSuggereeRefSys(p){return null!==p?p.refSys:""}static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275prov=m.Yz7({token:h,factory:h.\u0275fac})}return h})()},4970:(C,_,r)=>{r.d(_,{W:()=>h});var e=r(95),m=r(9468),f=r(5779);let h=(()=>{class c{constructor(i){this.actionSuggereeFormService=i}createFormEtape(i){return new e.cw({id:new e.NI(this.getEtapeId(i),{nonNullable:!0,validators:[e.kI.required]}),numeroEtape:new e.NI(this.getEtapeNumeroEtape(i),{nonNullable:!0,validators:[e.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormActionSuggeree(this.getEtapeActionSuggeree(i)),refSys:new e.NI(this.getEtapeRefSys(i),{})})}createFormNewEtape(){return new e.cw({id:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),numeroEtape:new e.NI(0,{nonNullable:!0,validators:[e.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormNewActionSuggeree(),refSys:new e.NI("",{})})}getEtapeId(i){return null!==i?i.id:""}getEtapeRefSys(i){return null!==i?i.refSys:""}getEtapeNumeroEtape(i){return null!==i?i.numeroEtape:0}getEtapeActionSuggeree(i){return null!==i?i.actionSuggere:null}static#t=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.P))};static#e=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},1793:(C,_,r)=>{r.d(_,{K:()=>Q});var e=r(6814),m=r(9207),f=r(2984),h=r(676),c=r(198);const i=(0,h.Lq)({savedFile:null,errors:null},(0,h.on)(c.NY.importFileSuccess,(E,R)=>({...E,savedFile:R.fileUploadResult})),(0,h.on)(c.NY.resetErrorField,(E,R)=>{let T={};return null!==E.errors&&Object.entries(E.errors).forEach(([y,V])=>{y!==R.fieldName&&(T[`${y}`]=V)}),{...E,errors:T}}));(0,h.ZF)("file-imports");var s=r(6465),x=r(6063),b=r(7398),O=r(6306),G=r(8504),W=r(7634),N=r(9468),z=r(8281),H=r(797);let Y=(()=>{class E{constructor(T,y,V,J,j){this.fileService=T,this.actions$=y,this.router=V,this.modalService=J,this.store=j,this.importFile$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(c.NY.importFile),(0,W.z)($=>(this.store.dispatch((0,x.Q)()),this.fileService.import($.filePath).pipe((0,b.U)(B=>(console.log(B),this.store.dispatch((0,x.Z)()),c.NY.importFileSuccess({fileUploadResult:B,id:$.id}))),(0,O.K)(B=>(console.log(B),(0,G._)(()=>B))))))),{dispatch:!0})}static#t=this.\u0275fac=function(y){return new(y||E)(N.LFG(f.I),N.LFG(s.eX),N.LFG(z.F0),N.LFG(H.Z),N.LFG(h.yh))};static#e=this.\u0275prov=N.Yz7({token:E,factory:E.\u0275fac})}return E})(),Q=(()=>{class E{static#t=this.\u0275fac=function(y){return new(y||E)};static#e=this.\u0275mod=N.oAB({type:E});static#n=this.\u0275inj=N.cJS({providers:[f.I],imports:[e.ez,m.m,h.Aw.forFeature("file-imports",i),s.sQ.forFeature(Y)]})}return E})()},2984:(C,_,r)=>{r.d(_,{I:()=>h});var e=r(1946),m=r(9468),f=r(9862);let h=(()=>{class c{constructor(i){this.http=i,this.url="http://192.168.1.120:8080/source_file_service-impl-1.0-SNAPSHOT/api",this.resourceBasePath="items-file"}getResourceBasePath(){return`${e.y}/incident`}import(i){const o=new FormData;return o.append("file",i),this.http.post(`${this.url}/${this.resourceBasePath}/upload`,o)}static#t=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.eN))};static#e=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},198:(C,_,r)=>{r.d(_,{NY:()=>o});var e=r(676);const m="FileUpload",o={importFile:(0,e.PH)(`[${m} API] Import File`,(0,e.Ky)()),importFileSuccess:(0,e.PH)(`[${m} API] Import File Success`,(0,e.Ky)()),setError:(0,e.PH)(`[${m} API] Create Error`,(0,e.Ky)()),resetError:(0,e.PH)(`[${m} API] Reset Error`),resetErrorField:(0,e.PH)(`[${m} API] Reset Error Field`,(0,e.Ky)())}},8510:(C,_,r)=>{r.d(_,{Y:()=>o});var e=r(6814),m=r(9207),f=r(2030),h=r(3396),c=r(1793),p=r(9468);let i=(()=>{class s{static#t=this.\u0275fac=function(O){return new(O||s)};static#e=this.\u0275mod=p.oAB({type:s});static#n=this.\u0275inj=p.cJS({imports:[e.ez,m.m]})}return s})(),o=(()=>{class s{static#t=this.\u0275fac=function(O){return new(O||s)};static#e=this.\u0275mod=p.oAB({type:s});static#n=this.\u0275inj=p.cJS({imports:[e.ez,m.m,f.h,i,h.B,c.K]})}return s})()},3096:(C,_,r)=>{r.d(_,{X:()=>h});var e=r(95),m=r(9468),f=r(3975);let h=(()=>{class c{constructor(i){this.solutionFormService=i}createForm(i,o,s){return this.currentIncident=s,this.currentOperationType=i,this.currentRoleIncident=o,console.log("Create Form : "+this.currentRoleIncident),new e.cw({titre:new e.NI(s.titre,{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI(s.description,{nonNullable:!0,validators:[e.kI.required]}),equipement:new e.NI(s.equipement,{nonNullable:!0,validators:[e.kI.required]}),groupeEquipement:new e.NI(s.groupeEquipement),categorieEquipement:new e.NI(s.categorieEquipement),sousCategorieEquipement:new e.NI(s.sousCategorieEquipement),libelleEquipement:new e.NI(s.libelleEquipement),numeroSerie:new e.NI(s.numeroSerie),refSys:new e.NI(s.refSys),etapeIncident:new e.NI(s.etapeIncident),prioriteIncident:new e.NI(s.prioriteIncident,{}),typeIncident:new e.NI(s.typeIncident,{nonNullable:!0,validators:[e.kI.required]}),probleme:new e.NI(s.probleme,{nonNullable:"USER"!==this.currentRoleIncident,validators:[this.problemeValidator.bind(this)]}),impact:new e.NI(s.impact,{validators:[this.impactValidator.bind(this)]}),categorieIncident:new e.NI(s.categorieIncident,{validators:[this.categorieValidator.bind(this)]}),firstName:new e.NI(s.firstName),lastName:new e.NI(s.lastName),userName:new e.NI(s.userName),demandeur:new e.NI(s.demandeur,{validators:[this.demandeurValidator.bind(this)]}),firstNameGestionnaire:new e.NI(s.firstNameGestionnaire),lastNameGestionnaire:new e.NI(s.lastNameGestionnaire),userNameGestionnaire:new e.NI(s.userNameGestionnaire),firstNameSupport:new e.NI(s.firstNameSupport),lastNameSupport:new e.NI(s.lastNameSupport),userNameSupport:new e.NI(s.userNameSupport),test:new e.NI(s.test),gestionnaire:new e.NI(s.gestionnaire,{validators:[this.gestionnaireValidator.bind(this)]}),source:new e.NI(s.source,{nonNullable:!0,validators:[e.kI.required]}),severite:new e.NI(s.severite,{nonNullable:!0,validators:[e.kI.required]}),solution:this.solutionFormService.createFormSolution(this.currentOperationType,s.solution),dateCreation:new e.NI(s.dateCreation),dateDerniereModification:new e.NI(s.dateDerniereModification)})}createSearchForm(){return new e.cw({titre:new e.NI("",{nonNullable:!0})})}problemeValidator(i){return"USER"===this.currentRoleIncident?"ADD"===this.currentOperationType?null===i.value?null:{problemeInvalide:!0}:null===i.value?{problemeInvalide:!0}:null:(console.log(this.currentRoleIncident),null===i.value?{problemeInvalide:!0}:null)}impactValidator(i){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===i.value?null:{impactInvalide:!0}:null===i.value?{impactInvalide:!0}:null}gestionnaireValidator(i){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===i.value?null:{gestionnaireInvalide:!0}:null===i.value?{gestionnaireInvalide:!0}:null}demandeurValidator(i){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===i.value?null:{demandeurInvalide:!0}:null===i.value?{demandeurInvalide:!0}:null}categorieValidator(i){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===i.value?null:{categorieInvalide:!0}:null===i.value?{categorieInvalide:!0}:null}static#t=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.x))};static#e=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},3975:(C,_,r)=>{r.d(_,{x:()=>h});var e=r(95),m=r(9468),f=r(4970);let h=(()=>{class c{constructor(i){this.etapeFormService=i}createFormSolution(i,o){return new e.cw({id:new e.NI({value:this.getSolutionId(o),disabled:"BEING_RESOLVED"!==i},{nonNullable:!0,validators:[e.kI.required]}),code:new e.NI({value:this.getSolutionCode(o),disabled:"BEING_RESOLVED"!==i},{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI({value:this.getSolutionLibelle(o),disabled:"BEING_RESOLVED"!==i},{nonNullable:!0,validators:[e.kI.required]}),refSys:new e.NI({value:this.getSolutionRefSys(o),disabled:"BEING_RESOLVED"!==i},{}),description:new e.NI({value:this.getSolutionDescription(o),disabled:"BEING_RESOLVED"!==i},{}),nombreEtape:new e.NI({value:this.getSolutionNumber(o),disabled:"BEING_RESOLVED"!==i},{nonNullable:!0,validators:[e.kI.required]}),etapes:new e.Oe(this.createEtapeForms(this.getSolutionEtapes(o)))})}getSolutionId(i){return i?i.id:""}getSolutionCode(i){return i?i.code:""}getSolutionRefSys(i){return i?i.refSys:""}getSolutionLibelle(i){return i?i.libelle:""}getSolutionDescription(i){return i?i.description:""}getSolutionNumber(i){return i?i.nombreEtape:0}getSolutionEtapes(i){return i?i.etapes:[]}createEtapeForms(i){return i.map(o=>this.etapeFormService.createFormEtape(o))}static#t=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.W))};static#e=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},2030:(C,_,r)=>{r.d(_,{h:()=>h});var e=r(6814),m=r(9207),f=r(9468);let h=(()=>{class c{static#t=this.\u0275fac=function(o){return new(o||c)};static#e=this.\u0275mod=f.oAB({type:c});static#n=this.\u0275inj=f.cJS({imports:[e.ez,m.m]})}return c})()},1089:(C,_,r)=>{r.r(_),r.d(_,{IncidentValidationSolutionModule:()=>de});var e=r(6814),m=r(4970),f=r(5779),h=r(3975),c=r(3096),p=r(2572),i=r(7398),o=r(676);const s="Incident Validation Solution IT",x=(0,o.PH)(`[${s} API] Load All`),b=(0,o.PH)(`[${s} API] Load All Success`,(0,o.Ky)()),O=(0,o.PH)(`[${s} API] Create`,(0,o.Ky)()),G=(0,o.PH)(`[${s} API] Create Success`,(0,o.Ky)()),W=(0,o.PH)(`[${s} API] Load`,(0,o.Ky)()),N=(0,o.PH)(`[${s} API] Reset`),z=(0,o.PH)(`[${s} API] Load Success`,(0,o.Ky)()),H=(0,o.PH)(`[${s} API] Delete`,(0,o.Ky)()),Y=(0,o.PH)(`[${s} API] Delete Success`,(0,o.Ky)()),Q=(0,o.PH)(`[${s} API] Update`,(0,o.Ky)()),E=(0,o.PH)(`[${s} API] Update Success`,(0,o.Ky)()),R=(0,o.PH)(`[${s} API] Load Form Model`),T=(0,o.PH)(`[${s} API] Reset Form Model`),y=(0,o.PH)(`[${s} API] Load Form Model Success`,(0,o.Ky)()),V=(0,o.PH)(`[${s} API] Reset Search`),J=(0,o.PH)(`[${s} API] Search`,(0,o.Ky)()),j=(0,o.PH)(`[${s} API] Change Page`,(0,o.Ky)()),$=(0,o.PH)(`[${s} API] Change Page Size`,(0,o.Ky)()),d={loadItems:x,loadItemsSuccess:b,resetItem:N,createItem:O,createItemSuccess:G,loadItem:W,loadItemSuccess:z,updateItem:Q,updateItemSuccess:E,deleteItem:H,deleteItemSuccess:Y,loadFormModel:R,resetFormModel:T,loadFormModelSuccess:y,setError:(0,o.PH)(`[${s} API] Create Error`,(0,o.Ky)()),resetError:(0,o.PH)(`[${s} API] Reset Error`),resetErrorField:(0,o.PH)(`[${s} API] Reset Error Field`,(0,o.Ky)()),resetSearch:V,search:J,changePage:j,changePageSize:$},ct=(0,o.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,o.on)(d.loadItemsSuccess,(n,l)=>({...n,items:l.items,totalElement:l.totalElement})),(0,o.on)(d.resetItem,(n,l)=>({...n,currentItem:null})),(0,o.on)(d.createItemSuccess,(n,l)=>({...n})),(0,o.on)(d.deleteItemSuccess,(n,l)=>({...n})),(0,o.on)(d.loadItemSuccess,(n,l)=>({...n,currentItem:l.item})),(0,o.on)(d.updateItemSuccess,(n,l)=>({...n})),(0,o.on)(d.loadFormModel,(n,l)=>({...n,formModel:null})),(0,o.on)(d.loadFormModelSuccess,(n,l)=>({...n,formModel:l.formModel})),(0,o.on)(d.resetSearch,(n,l)=>({...n,searchModel:{}})),(0,o.on)(d.search,(n,l)=>({...n,searchModel:l.searchModel})),(0,o.on)(d.changePage,(n,l)=>({...n,page:l.page})),(0,o.on)(d.changePageSize,(n,l)=>({...n,pageSize:l.pageSize})),(0,o.on)(d.setError,(n,l)=>({...n,errors:l.errors})),(0,o.on)(d.resetError,(n,l)=>({...n,errors:{}})),(0,o.on)(d.resetErrorField,(n,l)=>{let a={};return null!==n.errors&&Object.entries(n.errors).forEach(([u,v])=>{u!==l.fieldName&&(a[`${u}`]=v)}),{...n,errors:a}})),F=(0,o.ZF)("incident-validation-solutions"),ut=(0,o.P1)(F,n=>n.items),dt=((0,o.P1)(F,n=>n.currentItem),(0,o.P1)(F,n=>n.formModel),(0,o.P1)(F,n=>n.searchModel)),nt=(0,o.P1)(F,n=>n.page),rt=(0,o.P1)(F,n=>n.pageSize),pt=(0,o.P1)(F,n=>n.totalElement);(0,o.P1)(F,n=>n.errors);var t=r(9468),X=r(8281),it=r(3849),K=r(95),mt=r(7251),ht=r(166),ft=r(6327),_t=r(8564),gt=r(8223),It=r(602),vt=r(1469),St=r(6326),Et=r(8346),Ct=r(1171),Pt=r(547),Dt=r(362);function Nt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"R\xe9f\xe9rence"),t.qZA())}const A=function(n){return{alert:n}};function yt(n,l){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,u.isDueDate(a.dateEcheancePriseEnCharge))),t.xp6(1),t.hij("",a.refSys," ")}}function At(n,l){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Libell\xe9 Demande"),t.qZA())}function Mt(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",a.titre," ")}}function Tt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Equipement"),t.qZA())}function Ft(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",a.equipement.libelle," ")}}function Lt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Statut"),t.qZA())}function xt(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",a.statutIncident," ")}}function Ot(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Demandeur"),t.qZA())}function Bt(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(3,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.AsE("",null==a.demandeur?null:a.demandeur.firstName," ",null==a.demandeur?null:a.demandeur.lastName," ")}}function bt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Priorit\xe9"),t.qZA())}function Ut(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",a.prioriteIncident," ")}}function Zt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"S\xe9v\xe9rit\xe9"),t.qZA())}function Rt(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",null==a.severite?null:a.severite.libelle," ")}}function Vt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Date Cr\xe9ation"),t.qZA())}function $t(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(5,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",t.xi3(2,2,a.dateCreation,"dd/MM/y \xe0 HH:mm:ss")," ")}}function Kt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Date R\xe9solution"),t.qZA())}function wt(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(5,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",t.xi3(2,2,a.dateResolution,"dd/MM/y \xe0 HH:mm:ss")," ")}}function Gt(n,l){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Date Derni\xe8re Modif"),t.qZA())}function Wt(n,l){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const a=l.$implicit,u=t.oxw(3);t.Q6J("ngClass",t.VKq(5,A,u.isDueDate(a.dateEcheanceCloture))),t.xp6(1),t.hij("",t.xi3(2,2,a.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss")," ")}}function zt(n,l){if(1&n){const a=t.EpF();t.TgZ(0,"table",17),t.NdJ("itemSelected",function(v){t.CHM(a);const M=t.oxw(2);return t.KtG(M.itemSelected(v))}),t.ynx(1,18),t.YNc(2,Nt,2,0,"th",19),t.YNc(3,yt,2,4,"td",20),t.BQk(),t.ynx(4,21),t.YNc(5,At,2,0,"th",22),t.YNc(6,Mt,2,4,"td",23),t.BQk(),t.ynx(7,24),t.YNc(8,Tt,2,0,"th",19),t.YNc(9,Ft,2,4,"td",23),t.BQk(),t.ynx(10,25),t.YNc(11,Lt,2,0,"th",19),t.YNc(12,xt,2,4,"td",23),t.BQk(),t.ynx(13,26),t.YNc(14,Ot,2,0,"th",19),t.YNc(15,Bt,2,5,"td",23),t.BQk(),t.ynx(16,27),t.YNc(17,bt,2,0,"th",19),t.YNc(18,Ut,2,4,"td",23),t.BQk(),t.ynx(19,28),t.YNc(20,Zt,2,0,"th",19),t.YNc(21,Rt,2,4,"td",23),t.BQk(),t.ynx(22,29),t.YNc(23,Vt,2,0,"th",19),t.YNc(24,$t,3,7,"td",23),t.BQk(),t.ynx(25,30),t.YNc(26,Kt,2,0,"th",19),t.YNc(27,wt,3,7,"td",23),t.BQk(),t.ynx(28,31),t.YNc(29,Gt,2,0,"th",19),t.YNc(30,Wt,3,7,"td",23),t.BQk(),t.qZA()}if(2&n){const a=l.ngIf,u=t.oxw(2);t.Q6J("items",a)("headers",u.headerTable)("selectable",!0)}}function Ht(n,l){if(1&n){const a=t.EpF();t.TgZ(0,"app-crud-list",3),t.NdJ("searchButtonClicked",function(){t.CHM(a);const v=t.oxw();return t.KtG(v.searchButtonClicked())})("refreshButtonClicked",function(){t.CHM(a);const v=t.oxw();return t.KtG(v.refreshButtonClicked())})("pageSelected",function(v){t.CHM(a);const M=t.oxw();return t.KtG(M.pageSelected(v))})("pageSizeChange",function(v){t.CHM(a);const M=t.oxw();return t.KtG(M.pageSizeChange(v))})("closeButtonClicked",function(){t.CHM(a);const v=t.oxw();return t.KtG(v.closeButtonClicked())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._UZ(4,"app-form-label",7),t.qZA(),t.TgZ(5,"div",8),t._UZ(6,"app-custom-textfield",9),t.qZA()()(),t._UZ(7,"div",10)(8,"div",11),t.TgZ(9,"div",12),t._UZ(10,"app-custom-button",13),t.TgZ(11,"app-print-button",14),t.NdJ("printButtonClicked",function(){t.CHM(a);const v=t.oxw();return t.KtG(v.printButtonClicked())}),t.qZA()(),t.TgZ(12,"div",15),t.YNc(13,zt,31,3,"table",16),t.ALo(14,"async"),t.qZA()()}if(2&n){const a=l.ngIf,u=t.oxw();t.Q6J("itemSelected",u.isItemSelected())("pageSize",a.pageSize)("currentPage",a.page)("totalElements",a.totalElement),t.xp6(1),t.Q6J("formGroup",u.searchForm),t.xp6(6),t.Q6J("formGroup",u.searchForm),t.xp6(6),t.Q6J("ngIf",t.lcZ(14,7,u.items$))}}let Yt=(()=>{class n{constructor(a,u,v){this.router=a,this.store=u,this.incidentFormService=v,this.isUpdateActivated=!1,this.headerTable=["R\xe9f\xe9rence","Libell\xe9 Demande","Equipement","Statut","Priorit\xe9","S\xe9v\xe9rit\xe9","Impact","Demandeur","service/unit.Fonct","Date Cr\xe9ation","Date R\xe9solution","Date Dern modif"],this.items$=this.store.select(ut),this.page$=this.store.select(nt),this.pageSize$=this.store.select(rt),this.totalElement$=this.store.select(pt),this.data$=(0,p.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,i.U)(([M,q,tt])=>({page:M,pageSize:q,totalElement:tt}))),this.selectedItem=null,this.actualDate=0}ngOnInit(){this.searchForm=this.incidentFormService.createSearchForm(),this.store.dispatch(d.loadItems()),this.actualDate=Date.now()}isDueDate(a){return console.log(a-this.actualDate<=0),a-this.actualDate<=0}validateButtonClicked(){const a=this.selectedItem?.id;a&&(this.store.dispatch(d.resetItem()),this.router.navigate(["incidents","attente-validation","validate",a]))}itemSelected(a){this.selectedItem=a}pageSelected(a){this.store.dispatch(d.changePage({page:a}))}pageSizeChange(a){this.store.dispatch(d.changePageSize({pageSize:a}))}closeButtonClicked(){this.router.navigate(["incidents"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(d.resetSearch())}searchButtonClicked(){this.store.dispatch(d.search({searchModel:this.searchForm.value}))}printButtonClicked(){}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(X.F0),t.Y36(o.yh),t.Y36(c.X))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-incident-validation-solution-list"]],features:[t._Bn([c.X,h.x,m.W,f.P])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Support IT","pathLevelTwo","En Attente de Validation de Solution","pathLevelThree","Liste"],["title","Liste des Incidents En Attente de Validation de Solution",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Incidents En Attente de Validation de Solution",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","titre"],[1,"advance-search",3,"formGroup"],[1,"primary-actions"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","",3,"ngClass",4,"appCellDefTemplate"],["appCellDef","Libell\xe9 Demande"],["app-header-attribute-def-template","","class","width-35",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","left",3,"ngClass",4,"appCellDefTemplate"],["appCellDef","Equipement"],["appCellDef","Statut"],["appCellDef","Demandeur"],["appCellDef","Priorit\xe9"],["appCellDef","S\xe9v\xe9rit\xe9"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Date R\xe9solution"],["appCellDef","Date Modification"],["app-header-attribute-def-template",""],["app-cell-def-template","",3,"ngClass"],["app-header-attribute-def-template","",1,"width-35"],["app-cell-def-template","",1,"left",3,"ngClass"]],template:function(u,v){1&u&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,Ht,15,9,"app-crud-list",2),t.ALo(3,"async")),2&u&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,v.data$)))},dependencies:[e.mk,e.O5,it.L,K.JJ,K.JL,K.sg,K.u,mt._,ht.x,ft.N,_t.D,gt.h,It.u,vt.O,St.q,Et.W,Ct.h,Pt.Z,Dt.V,e.Ov,e.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.left[_ngcontent-%COMP%]{text-align:left!important}.alert[_ngcontent-%COMP%]{background-color:#f5c2c7!important}"]})}return n})();var Qt=r(8510),g=r(6465),Jt=r(9207),jt=r(1793),Xt=r(3396),kt=r(2030),qt=r(2460),L=r(6328),te=r(9026),U=r(6306),k=r(9397),ee=r(1631),P=r(6063),D=r(2096),ne=r(9862),re=r(3186),ie=r(4664),oe=r(9989),se=r(1946);let ot=(()=>{class n extends oe.v{getResourceBasePath(){return`${se.y}/support-incident-resolu`}getIdValue(a){return a.id}static#t=this.\u0275fac=function(){let a;return function(v){return(a||(a=t.n5z(n)))(v||n)}}();static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();var ae=r(6366),le=r(797);let ce=(()=>{class n{constructor(a,u,v,M,q,tt){this.incidentValidationSolutionService=a,this.authService=u,this.actions$=v,this.router=M,this.modalService=q,this.store=tt,this.loadItems$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.loadItems),(0,qt.M)(this.store.select(nt),this.store.select(rt),this.store.select(dt)),(0,L.b)(([I,S,w,et])=>(console.log(S),this.store.dispatch((0,P.Q)()),(0,te.$)(this.incidentValidationSolutionService.getAllWithPagination(S,w,et),this.incidentValidationSolutionService.count(et)).pipe((0,i.U)(([Z,pe])=>(this.store.dispatch((0,P.Z)()),d.loadItemsSuccess({items:Z,totalElement:pe}))),(0,U.K)(Z=>(this.store.dispatch((0,P.Z)()),(0,D.of)(d.setError({errors:Z})))))))),{dispatch:!0}),this.createItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.createItem),(0,L.b)(I=>(this.store.dispatch((0,P.Q)()),console.log(I.item),this.incidentValidationSolutionService.add(I.item).pipe((0,k.b)(()=>{this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/attente-validation")}),(0,i.U)(S=>d.createItemSuccess({item:S})),(0,U.K)(S=>(this.store.dispatch((0,P.Z)()),(0,D.of)(d.setError({errors:S})))))))),{dispatch:!0}),this.loadItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.loadItem),(0,ee.z)(I=>this.incidentValidationSolutionService.findById(I.id).pipe((0,i.U)(S=>d.loadItemSuccess({item:S})),(0,U.K)(S=>(this.store.dispatch((0,P.Z)()),(0,D.of)(d.setError({errors:S}))))))),{dispatch:!0}),this.deleteItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.deleteItem),(0,L.b)(I=>this.incidentValidationSolutionService.delete(I.item.id,I.item)),(0,k.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident supprim\xe9 avec succ\xe8s"})}),(0,i.U)(()=>d.loadItems()),(0,U.K)(I=>(this.store.dispatch((0,P.Z)()),(0,D.of)(d.setError({errors:I}))))),{dispatch:!0}),this.updateItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.updateItem),(0,L.b)(I=>(this.store.dispatch((0,P.Q)()),this.incidentValidationSolutionService.update(I.item.id,I.item).pipe((0,k.b)(()=>{this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/attente-validation")}),(0,i.U)(S=>d.createItemSuccess({item:S})),(0,U.K)(S=>(this.store.dispatch((0,P.Z)()),(0,D.of)(d.setError({errors:S})))))))),{dispatch:!0}),this.loadFormModel$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.loadFormModel),(0,L.b)(()=>this.incidentValidationSolutionService.getFormModel()),(0,i.U)(I=>d.loadFormModelSuccess({formModel:I})),(0,U.K)(I=>(0,D.of)(d.setError({errors:I}))))),this.resetSearch$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.resetSearch),(0,L.b)(()=>(0,D.of)(d.changePage({page:1}))))),this.search$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.search),(0,L.b)(()=>(0,D.of)(d.changePage({page:1}))))),this.changePage$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.changePage),(0,i.U)(I=>d.loadItems()))),this.changePageSize$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.changePageSize),(0,L.b)(()=>(0,D.of)(d.changePage({page:1}))))),this.handleError$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.setError),(0,ie.w)(I=>{if(this.store.dispatch((0,P.Q)()),I.errors instanceof ne.UA){if(422===I.errors.status){let S="",w=0;for(const[et,Z]of Object.entries(I.errors.error))S+=0===w?Z:"\n"+Z,w++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:S})}if(403===I.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===I.errors.status){let S="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:S}),(0,D.of)(re.jM())}}return this.store.dispatch((0,P.Z)()),(0,D.of)({type:"noop"})})),{dispatch:!0})}static#t=this.\u0275fac=function(u){return new(u||n)(t.LFG(ot),t.LFG(ae.e),t.LFG(g.eX),t.LFG(X.F0),t.LFG(le.Z),t.LFG(o.yh))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();const ue=[{path:"",component:Yt,pathMatch:"prefix"}];let de=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[ot],imports:[e.ez,it.L,o.Aw.forFeature("incident-validation-solutions",ct),g.sQ.forFeature(ce),Qt.Y,kt.h,Xt.B,jt.K,Jt.m,X.Bz.forChild(ue)]})}return n})()},8346:(C,_,r)=>{r.d(_,{W:()=>h});var e=r(9468),m=r(95),f=r(7394);let h=(()=>{class c{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new f.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new m.NI}writeValue(i){this.control.setValue(i)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i,i?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(i=>{this.onChange(i)})}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||c)};static#e=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[e._Bn([{provide:m.JU,useExisting:(0,e.Gpc)(()=>c),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(o,s){1&o&&e._UZ(0,"input",0),2&o&&(e.Gre("custom-text-field m-0 form-control-sm ",s.otherclass,""),e.s9C("placeholder",s.placeholder),e.Q6J("type",s.type)("formControl",s.control)("readonly",s.readonly))},dependencies:[m.Fj,m.JJ,m.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return c})()},1171:(C,_,r)=>{r.d(_,{h:()=>m});var e=r(9468);let m=(()=>{class f{constructor(){this.title="",this.class=""}static#t=this.\u0275fac=function(p){return new(p||f)};static#e=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(p,i){1&p&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&p&&(e.Tol(i.class),e.xp6(1),e.Oqu(i.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return f})()},3849:(C,_,r)=>{r.d(_,{L:()=>c});var e=r(9468),m=r(2463),f=r(6814),h=r(166);let c=(()=>{class p{constructor(){this.printButtonClicked=new e.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#t=this.\u0275fac=function(s){return new(s||p)};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[e.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(s,x){1&s&&(e.TgZ(0,"app-custom-button",0),e.NdJ("buttonClicked",function(){return x.emitPrintButtonClicked()}),e.qZA())},dependencies:[f.ez,m.v,h.x],styles:["[_nghost-%COMP%]{display:block}"]})}return p})()},547:(C,_,r)=>{r.d(_,{Z:()=>f});var e=r(9468),m=r(95);let f=(()=>{class h{constructor(p){this.ngControl=p}static#t=this.\u0275fac=function(i){return new(i||h)(e.Y36(m.a5,10))};static#e=this.\u0275dir=e.lG2({type:h,selectors:[["","formControl",""],["","formControlName",""]]})}return h})()}}]);