"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[1590],{1590:(Q,I,n)=>{n.r(I),n.d(I,{EmployeModule:()=>jt});var h=n(6814),e=n(9468),c=n(95);let v=(()=>{class o{constructor(){}createForm(t,r){return new c.cw({matricule:new c.NI(t.matricule,{nonNullable:!0,validators:[c.kI.required]}),numeroSecuriteSocial:new c.NI(t.numeroSecuriteSocial),adresseResidence:new c.NI(t.adresseResidence),numeroTelephone:new c.NI(t.numeroTelephone),adresseMail:new c.NI(t.adresseMail),dateNaissance:new c.NI(t.dateNaissance),dateEmbauche:new c.NI(t.dateEmbauche),sexe:new c.NI(t.sexe),statutEmploi:new c.NI(t.statutEmploi),pwd:new c.NI(t.pwd,{nonNullable:!0,validators:[c.kI.required]}),userName:new c.NI(t.userName,{nonNullable:!0,validators:[c.kI.required]}),firstName:new c.NI(t.firstName,{nonNullable:!0,validators:[c.kI.required]}),lastName:new c.NI(t.lastName),role:new c.NI(t.role,{nonNullable:"ADD"===r,validators:[c.kI.required]}),nomUniteFonctionnel:new c.NI(t.nomUniteFonctionnel),sigleUniteFonctionnel:new c.NI(t.sigleUniteFonctionnel),uniteFonctionnel:new c.NI(t.uniteFonctionnel),batiment:new c.NI(t.batiment),site:new c.NI(t.site),entreprise:new c.NI(t.enteprise),filiale:new c.NI(t.filiale),nomBureau:new c.NI(t.nomBureau),bureau:new c.NI(t.bureau),utilisateurModification:new c.NI(t.utilisateurModification),utilisateurCreation:new c.NI(t.utilisateurCreation),dateCreation:new c.NI(t.dateCreation),dateDerniereModification:new c.NI(t.dateDerniereModification)})}getPassword(t){return null===t?"":t.pwd}getUsername(t){return null===t?"":t.userName}getFirstname(t){return null===t?"":t.firstName}getLastname(t){return null===t?"":t.lastName}getRole(t){return null===t?null:(console.log(t.role),t.role)}createSearchForm(){return new c.cw({matricule:new c.NI("",{nonNullable:!0})})}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();var _=n(2572),g=n(7398),l=n(676);const m="Employe",A=(0,l.PH)(`[${m} API] Load All`),T=(0,l.PH)(`[${m} API] Load All Success`,(0,l.Ky)()),E=(0,l.PH)(`[${m} API] Create`,(0,l.Ky)()),M=(0,l.PH)(`[${m} API] Create Success`,(0,l.Ky)()),U=(0,l.PH)(`[${m} API] Load`,(0,l.Ky)()),j=(0,l.PH)(`[${m} API] Load Success`,(0,l.Ky)()),V=(0,l.PH)(`[${m} API] Create Error`,(0,l.Ky)()),X=(0,l.PH)(`[${m} API] Reset Error`),ee=(0,l.PH)(`[${m} API] Reset Error Field`,(0,l.Ky)()),te=(0,l.PH)(`[${m} API] Reset`),oe=(0,l.PH)(`[${m} API] Delete`,(0,l.Ky)()),re=(0,l.PH)(`[${m} API] Delete Success`,(0,l.Ky)()),a={loadItems:A,loadItemsSuccess:T,resetItem:te,createItem:E,createItemSuccess:M,loadItem:U,loadItemSuccess:j,updateItem:(0,l.PH)(`[${m} API] Update`,(0,l.Ky)()),updateItemSuccess:(0,l.PH)(`[${m} API] Update Success`,(0,l.Ky)()),deleteItem:oe,deleteItemSuccess:re,setError:V,resetError:X,resetErrorField:ee,loadFormModel:(0,l.PH)(`[${m} API] Load Form Model`),resetFormModel:(0,l.PH)(`[${m} API] Reset Form Model`),loadFormModelSuccess:(0,l.PH)(`[${m} API] Load Form Model Success`,(0,l.Ky)()),resetSearch:(0,l.PH)(`[${m} API] Reset Search`),search:(0,l.PH)(`[${m} API] Search`,(0,l.Ky)()),changePage:(0,l.PH)(`[${m} API] Change Page`,(0,l.Ky)()),changePageSize:(0,l.PH)(`[${m} API] Change Page Size`,(0,l.Ky)())},_e=(0,l.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,l.on)(a.loadItemsSuccess,(o,i)=>(console.log(i.items),{...o,items:i.items,totalElement:i.totalElement})),(0,l.on)(a.resetItem,(o,i)=>({...o,currentItem:null})),(0,l.on)(a.createItemSuccess,(o,i)=>({...o})),(0,l.on)(a.deleteItemSuccess,(o,i)=>({...o})),(0,l.on)(a.loadItemSuccess,(o,i)=>({...o,currentItem:i.item})),(0,l.on)(a.updateItemSuccess,(o,i)=>({...o})),(0,l.on)(a.loadFormModel,(o,i)=>({...o,formModel:null})),(0,l.on)(a.loadFormModelSuccess,(o,i)=>({...o,formModel:i.formModel})),(0,l.on)(a.resetSearch,(o,i)=>({...o,searchModel:{}})),(0,l.on)(a.search,(o,i)=>({...o,searchModel:i.searchModel})),(0,l.on)(a.changePage,(o,i)=>({...o,page:i.page})),(0,l.on)(a.changePageSize,(o,i)=>({...o,pageSize:i.pageSize})),(0,l.on)(a.setError,(o,i)=>({...o,errors:i.errors})),(0,l.on)(a.resetError,(o,i)=>({...o,errors:null})),(0,l.on)(a.resetErrorField,(o,i)=>{let t={};return null!==o.errors&&Object.entries(o.errors).forEach(([r,s])=>{r!==i.fieldName&&(t[`${r}`]=s)}),{...o,errors:t}})),x=(0,l.ZF)("employes"),fe=(0,l.P1)(x,o=>o.items),he=(0,l.P1)(x,o=>o.currentItem),D=(0,l.P1)(x,o=>o.formModel),ge=(0,l.P1)(x,o=>o.searchModel),Y=(0,l.P1)(x,o=>o.page),H=(0,l.P1)(x,o=>o.pageSize),Ce=(0,l.P1)(x,o=>o.totalElement),K=(0,l.P1)(x,o=>o.errors);var ye=n(4849),N=n(8281),L=n(797),G=n(3849),Ze=n(7251),ve=n(166),Ee=n(6327),xe=n(8564),be=n(8223),Te=n(602),Ie=n(1469),Ne=n(6326),k=n(8346),z=n(1171),R=n(547),w=n(362);function Fe(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}function Se(o,i){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.refSys)}}function Ae(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Matricule"),e.qZA())}function Me(o,i){if(1&o&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.matricule)}}function Pe(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Noms & Pr\xe9noms"),e.qZA())}function Ue(o,i){if(1&o&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.AsE("",t.user.firstName," ",t.user.lastName," ")}}function De(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Login"),e.qZA())}function Le(o,i){if(1&o&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.user.userName)}}function we(o,i){1&o&&(e.TgZ(0,"th",38),e._uU(1,"Date cr\xe9ation"),e.qZA())}function Be(o,i){if(1&o&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,t.dateCreation,"dd/MM/y \xe0 HH:mm:ss")," ")}}function $e(o,i){1&o&&(e.TgZ(0,"th",38),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function Oe(o,i){if(1&o&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,t.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss")," ")}}function Je(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"table",22),e.NdJ("itemSelected",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.itemSelected(s))}),e.ynx(1,23),e.YNc(2,Fe,2,0,"th",24),e.YNc(3,Se,2,1,"td",25),e.BQk(),e.ynx(4,26),e.YNc(5,Ae,2,0,"th",24),e.YNc(6,Me,2,1,"td",27),e.BQk(),e.ynx(7,28),e.YNc(8,Pe,2,0,"th",24),e.YNc(9,Ue,2,2,"td",27),e.BQk(),e.ynx(10,29),e.YNc(11,De,2,0,"th",24),e.YNc(12,Le,2,1,"td",30),e.BQk(),e.ynx(13,31),e.YNc(14,we,2,0,"th",32),e.YNc(15,Be,3,4,"td",30),e.BQk(),e.ynx(16,33),e.YNc(17,$e,2,0,"th",32),e.YNc(18,Oe,3,4,"td",30),e.BQk(),e.qZA()}if(2&o){const t=i.ngIf,r=e.oxw(2);e.Q6J("items",t)("headers",r.headerTable)("selectable",!0)}}function Qe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.refreshButtonClicked())})("pageSelected",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.pageSelected(s))})("pageSizeChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.pageSizeChange(s))})("closeButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e.TgZ(7,"div",10),e._UZ(8,"div",11),e.qZA(),e.TgZ(9,"div",12)(10,"app-custom-button",13),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addButtonClicked())}),e.qZA(),e.TgZ(11,"app-custom-button",14),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editButtonClicked())}),e.qZA(),e.TgZ(12,"app-custom-button",15),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteButtonClicked())}),e.qZA()(),e.TgZ(13,"div",16),e._UZ(14,"app-custom-button",17)(15,"app-custom-button",18),e.TgZ(16,"app-print-button",19),e.NdJ("printButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.printButtonClicked())}),e.qZA()(),e.TgZ(17,"div",20),e.YNc(18,Je,19,3,"table",21),e.ALo(19,"async"),e.qZA()()}if(2&o){const t=i.ngIf,r=e.oxw();e.Q6J("itemSelected",r.isItemSelected())("pageSize",t.pageSize)("currentPage",t.page)("totalElements",t.totalElement),e.xp6(1),e.Q6J("formGroup",r.searchForm),e.xp6(6),e.Q6J("formGroup",r.searchForm),e.xp6(4),e.Q6J("disabled",!r.isItemSelected()),e.xp6(1),e.Q6J("disabled",!r.isItemSelected()),e.xp6(6),e.Q6J("ngIf",e.lcZ(19,9,r.items$))}}let Ye=(()=>{class o{constructor(t,r,s,p){this.router=t,this.modalService=r,this.store=s,this.employeFormService=p,this.headerTable=["R\xe9f\xe9rence","Matricule","Noms & Pr\xe9noms","Login","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(fe),this.page$=this.store.select(Y),this.pageSize$=this.store.select(H),this.totalElement$=this.store.select(Ce),this.data$=(0,_.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,g.U)(([Z,O,d])=>({page:Z,pageSize:O,totalElement:d}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.employeFormService.createSearchForm(),this.store.dispatch(a.loadItems())}addButtonClicked(){this.router.navigate(["administration","employes","add"])}editButtonClicked(){const t=this.selectedItem?.id;t&&(this.store.dispatch(a.resetItem()),this.router.navigate(["administration","employes","edit",t]))}deleteButtonClicked(){const t=this.selectedItem;t&&this.modalService.openComponent(ye.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(r=>{r&&"yes"===r&&this.store.dispatch(a.deleteItem({item:t}))})}itemSelected(t){this.selectedItem=t}pageSelected(t){this.store.dispatch(a.changePage({page:t}))}pageSizeChange(t){this.store.dispatch(a.changePageSize({pageSize:t}))}closeButtonClicked(){this.router.navigate(["administration"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(a.resetSearch())}searchButtonClicked(){this.store.dispatch(a.search({searchModel:this.searchForm.value}))}printButtonClicked(){}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(N.F0),e.Y36(L.Z),e.Y36(l.yh),e.Y36(v))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employe-list"]],features:[e._Bn([v,{provide:e.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Domiciliations","pathLevelTwo","Bureaux","pathLevelThree","Liste"],["title","Liste des Employ\xe9s",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Employ\xe9s",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","col-auto"],["title","Matricule"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","matricule"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Importer","url","import.svg"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Matricule"],["app-cell-def-template","","class","table-align-left",4,"appCellDefTemplate"],["appCellDef","Noms & Pr\xe9noms"],["appCellDef","Login"],["app-cell-def-template","",4,"appCellDefTemplate"],["appCellDef","Date Cr\xe9ation"],["app-header-attribute-def-template","","class","table-td-width",4,"appHeaderDefTemplate"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-cell-def-template","",1,"table-align-left"],["app-cell-def-template",""],["app-header-attribute-def-template","",1,"table-td-width"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Qe,20,11,"app-crud-list",2),e.ALo(3,"async")),2&r&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,s.data$)))},dependencies:[h.O5,G.L,c.JJ,c.JL,c.sg,c.u,Ze._,ve.x,Ee.N,xe.D,be.h,Te.u,Ie.O,Ne.q,k.W,z.h,R.Z,w.V,h.Ov,h.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return o})();var B=function(o){return o.ADD="ADD",o.EDIT="EDIT",o}(B||{}),He=n(8819),Ke=n(9543),Ge=n(8145),ke=n(1588),ze=n(7435),Re=n(7152),qe=n(3227),We=n(3846),je=n(8764),Ve=n(8795),Xe=n(7426),et=n(9887),tt=n(5973),ot=n(4944),rt=n(2093),it=n(6136),nt=n(8513),lt=n(586),st=n(1327),at=n(5188);function ct(o,i){if(1&o&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij("",t," ")}}function pt(o,i){if(1&o&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij("",t," ")}}function mt(o,i){1&o&&(e.TgZ(0,"th",63),e._uU(1," Libell\xe9 "),e.qZA())}function dt(o,i){if(1&o&&(e.TgZ(0,"td",64),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.libelle," ")}}function ut(o,i){1&o&&(e.TgZ(0,"th",63),e._uU(1," Description "),e.qZA())}function _t(o,i){if(1&o&&(e.TgZ(0,"td",64),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function ft(o,i){1&o&&(e.TgZ(0,"table",58),e.ynx(1,59),e.YNc(2,mt,2,0,"th",60),e.YNc(3,dt,2,1,"td",61),e.BQk(),e.ynx(4,62),e.YNc(5,ut,2,0,"th",60),e.YNc(6,_t,2,1,"td",61),e.BQk(),e.qZA())}function ht(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",55),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.resetBackendError(s))}),e.TgZ(1,"app-item-selection",56),e.YNc(2,ft,7,0,"table",57),e.qZA()()}if(2&o){const t=i.ngIf,r=e.oxw(3);e.Q6J("errors",r.errors),e.xp6(1),e.Q6J("headers",r.roleSelectItemsHeader)("items",t.roles)("criterias",r.roleItemCritterias)("itemDescription",r.roleItemDescription)}}function gt(o,i){if(1&o&&(e.TgZ(0,"div",20),e._UZ(1,"app-form-label",53),e.YNc(2,ht,3,5,"app-field-error-wrapper",54),e.ALo(3,"async"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,t.formModel$))}}function Ct(o,i){1&o&&(e.TgZ(0,"th",87),e._uU(1,"Code"),e.qZA())}function yt(o,i){if(1&o&&(e.TgZ(0,"td",88),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function Zt(o,i){1&o&&(e.TgZ(0,"th",87),e._uU(1,"Niveau "),e.qZA())}function vt(o,i){if(1&o&&(e.TgZ(0,"td",88),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.niveau," ")}}function Et(o,i){1&o&&(e.TgZ(0,"table",82),e.ynx(1,83),e.YNc(2,Ct,2,0,"th",84),e.YNc(3,yt,2,1,"td",85),e.BQk(),e.ynx(4,86),e.YNc(5,Zt,2,0,"th",84),e.YNc(6,vt,2,1,"td",85),e.BQk(),e.qZA())}function xt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",18),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.resetBackendError(s))}),e.TgZ(1,"app-item-search",80),e.YNc(2,Et,7,0,"table",81),e.qZA()()}if(2&o){const t=i.ngIf,r=e.oxw(3);e.Q6J("errors",r.errors),e.xp6(1),e.Q6J("headers",r.bureauSelectItemsHeader)("items",t.bureaux)("criterias",r.bureauItemCritterias)("itemDescription",r.bureauItemDescription)}}function bt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-panel-custom",65)(1,"div",66),e.YNc(2,xt,3,5,"app-field-error-wrapper",67),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"div",5)(5,"div",6),e._UZ(6,"app-form-label",68),e.TgZ(7,"div",8)(8,"app-field-error-wrapper",18),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.resetBackendError(s))}),e._UZ(9,"app-custom-textfield",69),e.qZA()()(),e.TgZ(10,"div",70),e._UZ(11,"app-form-label",71),e.TgZ(12,"div",8),e._UZ(13,"app-custom-textfield",72),e.qZA()(),e.TgZ(14,"div",73),e._UZ(15,"app-form-label",74),e.TgZ(16,"div",8),e._UZ(17,"app-custom-textfield",75),e.qZA()()(),e.TgZ(18,"div",5)(19,"div",6),e._UZ(20,"app-form-label",76),e.TgZ(21,"div",8),e._UZ(22,"app-custom-textfield",77),e.qZA()(),e.TgZ(23,"div",70),e._UZ(24,"app-form-label",78),e.TgZ(25,"div",8),e._UZ(26,"app-custom-textfield",79),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,7,t.formModel$)),e.xp6(6),e.Q6J("errors",t.errors),e.xp6(1),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0)}}function Tt(o,i){1&o&&(e.TgZ(0,"th",87),e._uU(1,"Sigle"),e.qZA())}function It(o,i){if(1&o&&(e.TgZ(0,"td",88),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.sigle," ")}}function Nt(o,i){1&o&&(e.TgZ(0,"th",87),e._uU(1,"Libell\xe9 "),e.qZA())}function Ft(o,i){if(1&o&&(e.TgZ(0,"td",88),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.libelle," ")}}function St(o,i){1&o&&(e.TgZ(0,"th",87),e._uU(1," Description "),e.qZA())}function At(o,i){if(1&o&&(e.TgZ(0,"td",88),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Mt(o,i){1&o&&(e.TgZ(0,"table",82),e.ynx(1,95),e.YNc(2,Tt,2,0,"th",84),e.YNc(3,It,2,1,"td",85),e.BQk(),e.ynx(4,96),e.YNc(5,Nt,2,0,"th",84),e.YNc(6,Ft,2,1,"td",85),e.BQk(),e.ynx(7,97),e.YNc(8,St,2,0,"th",84),e.YNc(9,At,2,1,"td",85),e.BQk(),e.qZA())}function Pt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",18),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.resetBackendError(s))}),e.TgZ(1,"app-item-search",94),e.YNc(2,Mt,10,0,"table",81),e.qZA()()}if(2&o){const t=i.ngIf,r=e.oxw(3);e.Q6J("errors",r.errors),e.xp6(1),e.Q6J("headers",r.uniteSelectItemsHeader)("items",t.uniteFonctionnels)("criterias",r.uniteItemCritterias)("itemDescription",r.uniteItemDescription)}}function Ut(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-panel-custom",89)(1,"div",66),e.YNc(2,Pt,3,5,"app-field-error-wrapper",67),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"div",5)(5,"div",6),e._UZ(6,"app-form-label",90),e.TgZ(7,"div",8)(8,"app-field-error-wrapper",18),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.resetBackendError(s))}),e._UZ(9,"app-custom-textfield",91),e.qZA()()(),e.TgZ(10,"div",70),e._UZ(11,"app-form-label",92),e.TgZ(12,"div",8),e._UZ(13,"app-custom-textfield",93),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,t.formModel$)),e.xp6(6),e.Q6J("errors",t.errors),e.xp6(1),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0)}}function Dt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"app-panel-custom",4)(3,"div",5)(4,"div",6),e._UZ(5,"app-form-label",7),e.TgZ(6,"div",8),e._UZ(7,"app-custom-textfield",9),e.qZA()(),e.TgZ(8,"div",6),e._UZ(9,"app-form-label",10),e.TgZ(10,"div",8),e._UZ(11,"app-custom-textfield",11),e.qZA()()(),e.TgZ(12,"div",5)(13,"div",6),e._UZ(14,"app-form-label",12),e.TgZ(15,"div",8),e._UZ(16,"app-custom-textfield",13),e.qZA()(),e.TgZ(17,"div",6),e._UZ(18,"app-form-label",14),e.TgZ(19,"div",8),e._UZ(20,"app-custom-textfield",15),e.qZA()()()(),e.TgZ(21,"app-panel-custom",16)(22,"div",5)(23,"div",6),e._UZ(24,"app-form-label",17),e.TgZ(25,"div",8)(26,"app-field-error-wrapper",18),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.resetBackendError(s))}),e._UZ(27,"app-custom-textfield",19),e.qZA()()(),e.TgZ(28,"div",20),e._UZ(29,"app-form-label",21),e.TgZ(30,"div",8),e._UZ(31,"app-custom-textfield",22),e.qZA()()(),e.TgZ(32,"div",5)(33,"div",6),e._UZ(34,"app-form-label",23),e.TgZ(35,"div",8)(36,"app-field-error-wrapper",18),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.resetBackendError(s))}),e._UZ(37,"app-custom-textfield",24),e.qZA()()(),e.TgZ(38,"div",20),e._UZ(39,"app-form-label",25),e.TgZ(40,"div",8),e._UZ(41,"app-custom-textfield",26),e.qZA()()(),e.TgZ(42,"div",5)(43,"div",6),e._UZ(44,"app-form-label",27),e.TgZ(45,"div",8)(46,"app-field-error-wrapper",18),e.NdJ("resetField",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.resetBackendError(s))}),e._UZ(47,"app-custom-textfield",28),e.qZA()()(),e.TgZ(48,"div",20),e._UZ(49,"app-form-label",29),e.TgZ(50,"div",8)(51,"select",30),e.YNc(52,ct,2,2,"option",31),e.qZA()()()(),e.TgZ(53,"div",5)(54,"div",6),e._UZ(55,"app-form-label",32),e.TgZ(56,"div",8),e._UZ(57,"app-custom-textfield",33),e.qZA()(),e.TgZ(58,"div",20),e._UZ(59,"app-form-label",34),e.TgZ(60,"div",8),e._UZ(61,"app-custom-textfield",35),e.qZA()()(),e.TgZ(62,"div",5)(63,"div",6),e._UZ(64,"app-form-label",36),e.TgZ(65,"div",8)(66,"select",37),e.YNc(67,pt,2,2,"option",31),e.qZA()()(),e.YNc(68,gt,4,3,"div",38),e.qZA(),e.TgZ(69,"div",5)(70,"div",6),e._UZ(71,"app-form-label",39),e.TgZ(72,"div",8),e._UZ(73,"app-custom-textfield",40),e.qZA()(),e.TgZ(74,"div",20),e._UZ(75,"app-form-label",41),e.TgZ(76,"div",8),e._UZ(77,"app-custom-textfield",42),e.qZA()()(),e.TgZ(78,"div",5)(79,"div",6),e._UZ(80,"app-form-label",43),e.TgZ(81,"div",8),e._UZ(82,"app-custom-textfield",44),e.qZA()(),e.TgZ(83,"div",20),e._UZ(84,"app-form-label",45),e.TgZ(85,"div",8),e._UZ(86,"app-custom-textfield",46),e.qZA()()()(),e.YNc(87,bt,27,9,"app-panel-custom",47),e.YNc(88,Ut,14,6,"app-panel-custom",48),e.TgZ(89,"div",49)(90,"app-primary-button",50),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.submitForm())}),e.qZA(),e.TgZ(91,"app-cancel-button",51),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.returnToList())}),e.qZA()()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(6),e.Q6J("errors",t.errors),e.xp6(10),e.Q6J("errors",t.errors),e.xp6(10),e.Q6J("errors",t.errors),e.xp6(6),e.Q6J("ngForOf",t.sexe),e.xp6(15),e.Q6J("ngForOf",t.statutEmploye),e.xp6(1),e.Q6J("ngIf",t.isADD()),e.xp6(19),e.Q6J("ngIf",t.isADD()),e.xp6(1),e.Q6J("ngIf",t.isADD())}}let q=(()=>{class o{constructor(t,r,s,p){this.formService=t,this.modalService=r,this.router=s,this.store=p,this.formModel$=this.store.select(D),this.errors=null,this.sexe=["MASCULIN","FEMININ"],this.statutEmploye=["Temps plein","Temps partiel","Permanent","Temporaire"],this.formSubmitted=new e.vpe,this.roleSelectItemsHeader=["Libell\xe9","Description"],this.roleItemDescription=Z=>Z.libelle,this.roleItemCritterias={libelle:"Libell\xe9",description:"Description"},this.bureauSelectItemsHeader=["Code","Niveau"],this.bureauItemDescription=Z=>Z.code,this.bureauItemCritterias={code:"Code",niveau:"Niveau"},this.uniteSelectItemsHeader=["Sigle","Libell\xe9","Description"],this.uniteItemDescription=Z=>Z.sigle,this.uniteItemCritterias={sigle:"Sigle",libelle:"Libell\xe9",description:"Description"}}ngOnInit(){this.store.dispatch(a.loadFormModel()),this.store.select(K).subscribe(t=>{this.errors=t}),this.store.dispatch(a.resetError()),this.form=this.formService.createForm(this.employe,this.markForm),this.formModel$.subscribe(t=>{console.log(t)}),this.form.get("bureau")?.valueChanges.subscribe(t=>{t&&(this.form.get("entreprise")?.setValue(t.batiment.site.filiale.entreprise.nomLong),this.form.get("filiale")?.setValue(t.batiment.site.filiale.nomLong),this.form.get("batiment")?.setValue(t.batiment.code),this.form.get("site")?.setValue(t.batiment.site.nomLong),this.form.get("nomBureau")?.setValue(t.code))}),this.form.get("uniteFonctionnel")?.valueChanges.subscribe(t=>{t&&(this.form.get("nomUniteFonctionnel")?.setValue(t.libelle),this.form.get("sigleUniteFonctionnel")?.setValue(t.sigle))})}ngOnDestroy(){}isADD(){return"ADD"===this.markForm}submitForm(){this.formSubmitted.emit(this.form.getRawValue())}returnToList(){this.router.navigateByUrl("administration/employes")}resetBackendError(t){this.store.dispatch(a.resetErrorField({fieldName:t}))}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(v),e.Y36(L.Z),e.Y36(N.F0),e.Y36(l.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employe-form"]],inputs:{employe:"employe",markForm:"markForm"},outputs:{formSubmitted:"formSubmitted"},features:[e._Bn([v])],decls:2,vars:1,consts:[["id","main",1,"ps-3","pe-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-4"],["title","Date Cr\xe9ation",1,"col-5","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],["title","Cr\xe9\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"col-5","text-end"],["otherclass","custom-style-form","formControlName","dateDerniereModification","placeholder","",3,"readonly"],["title","Modifi\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","title","Informations g\xe9n\xe9rales"],["title","Matricule",1,"col-5","text-end"],[3,"errors","resetField"],["otherclass","custom-style-form","placeholder","","formControlName","matricule"],[1,"input-container","col-5"],["title","Num\xe9ro s\xe9curit\xe9 sociale",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","numeroSecuriteSocial"],["title","Adresse R\xe9sidence",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","adresseResidence"],["title","Num\xe9ro T\xe9l\xe9phone",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","numeroTelephone"],["title","Adresse Mail",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","adresseMail"],["title","Sexe",1,"col-5","text-end"],["formControlName","sexe",1,"form-select-sm","col-12","custom-style-select","custom-bg"],[3,"ngValue",4,"ngFor","ngForOf"],["title","Date de Naissance",1,"col-5","text-end"],["otherclass","custom-style-form custom-bg","placeholder","","type","date","formControlName","dateNaissance"],["title","Date Embauche",1,"col-5","text-end"],["otherclass","custom-style-form custom-bg","placeholder","","type","date","formControlName","dateEmbauche"],["title","Statut Employ\xe9",1,"col-5","text-end"],["formControlName","statutEmploye",1,"form-select-sm","col-12","custom-style-select","custom-bg"],["class","input-container col-5",4,"ngIf"],["title","Noms de l'Employ\xe9",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","firstName"],["title","Pr\xe9noms de l'Employ\xe9",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","lastName"],["title","Nom d'Utilisateur",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","userName"],["title","Mot de passe",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","pwd"],["icon","fa fa-angle-right","title","Affectation de l'Employ\xe9 \xe0 un Bureau",4,"ngIf"],["icon","fa fa-angle-right","title","Affectation de l'Employ\xe9 \xe0 une Unit\xe9 Fonctionnelle",4,"ngIf"],[1,"form-actions"],["title","Enregistrer",1,"me-1",3,"buttonClicked"],["title","Annuler","otherclass","custom-cancel-button",3,"buttonClicked"],[3,"ngValue"],["title","R\xf4le",1,"col-5","text-end"],["class","",3,"errors","resetField",4,"ngIf"],[1,"",3,"errors","resetField"],["otherclass","custom-style-item-selection-form","formControlName","role",1,"ml-2",3,"headers","items","criterias","itemDescription"],["app-item-selection-template-attribute","",4,"appItemSelectionTemplate"],["app-item-selection-template-attribute",""],["appItemSelectionCellDef","Libell\xe9"],["app-item-selection-header-def-template","","class","custom-head",4,"appItemSelectionHeaderDefTemplate"],["app-item-selection-cell-def-template","","class","custom-head",4,"appItemSelectionCellDefTemplate"],["appItemSelectionCellDef","Description"],["app-item-selection-header-def-template","",1,"custom-head"],["app-item-selection-cell-def-template","",1,"custom-head"],["icon","fa fa-angle-right","title","Affectation de l'Employ\xe9 \xe0 un Bureau"],[1,"button-head","ms-auto"],[3,"errors","resetField",4,"ngIf"],["title","Entreprise",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","entreprise",3,"readonly"],[1,"input-container","col-4","ms-0","me-0"],["title","Filiale",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","filiale",3,"readonly"],[1,"input-container","col-4","ms-0"],["title","B\xe2timent",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","batiment",3,"readonly"],["title","Site",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","site",3,"readonly"],["title","Bureau",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","nomBureau",3,"readonly"],["otherclass","custom-style-item-selection-form col","formControlName","bureau",3,"headers","items","criterias","itemDescription"],["app-item-search-template-attribute","",4,"appItemSearchTemplate"],["app-item-search-template-attribute",""],["appItemSearchCellDef","Code"],["app-item-search-header-def-template","","class","custom-head",4,"appItemSearchHeaderDefTemplate"],["app-item-search-cell-def-template","","class","custom-head",4,"appItemSearchCellDefTemplate"],["appItemSearchCellDef","Niveau"],["app-item-search-header-def-template","",1,"custom-head"],["app-item-search-cell-def-template","",1,"custom-head"],["icon","fa fa-angle-right","title","Affectation de l'Employ\xe9 \xe0 une Unit\xe9 Fonctionnelle"],["title","Sigle",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","sigleUniteFonctionnel",3,"readonly"],["title","Libell\xe9",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","nomUniteFonctionnel",3,"readonly"],["otherclass","custom-style-item-selection-form col","formControlName","uniteFonctionnel",3,"headers","items","criterias","itemDescription"],["appItemSearchCellDef","Sigle"],["appItemSearchCellDef","Libell\xe9"],["appItemSearchCellDef","Description"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0),e.YNc(1,Dt,92,13,"form",1),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[h.sg,h.O5,c._Y,c.YN,c.Kr,c.EJ,c.JJ,c.JL,c.sg,c.u,He.F,k.W,z.h,Ke.C,Ge.K,ke.o,ze.o,Re.P,qe.F,We.e,je.T,Ve.k,R.Z,Xe.p,et.l,tt.v,ot.K,rt.d,it.D,nt.T,lt.o,st.g,at.K,h.Ov],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return o})(),Lt=(()=>{class o{constructor(t){this.store=t,this.formModel$=this.store.select(D),this.markForm=B.ADD,this.employe={id:"",matricule:"",numeroSecuriteSocial:"",adresseResidence:"",numeroTelephone:"",adresseMail:"",dateNaissance:null,dateEmbauche:null,sexe:null,statutEmploi:null,userName:"",pwd:"",firstName:"",lastName:"",enteprise:"",filiale:"",batiment:"",site:"",nomBureau:"",nomUniteFonctionnel:"",sigleUniteFonctionnel:"",role:null,bureau:null,uniteFonctionnel:null,dateDerniereModification:null,dateCreation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(a.resetItem()),this.store.dispatch(a.resetFormModel())}addEmploye(t){this.store.dispatch(a.createItem({item:{matricule:t.matricule,numeroSecuriteSocial:t.numeroSecuriteSocial,adresseResidence:t.adresseResidence,numeroTelephone:t.numeroTelephone,adresseMail:t.adresseMail,dateNaissance:t.dateNaissance,dateEmbauche:t.dateEmbauche,sexe:t.sexe,statutEmploi:t.statutEmploi,role:t.role,userName:t.userName,pwd:t.pwd,firstName:t.firstName,lastName:t.lastName,bureau:t.bureau,uniteFonctionnel:t.uniteFonctionnel}}))}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(l.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employe-add"]],decls:3,vars:2,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Domiciliations","pathLevelTwo","Employ\xe9s","pathLevelThree","Ajouter"],["id","main",3,"employe","markForm","formSubmitted"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.TgZ(2,"app-employe-form",2),e.NdJ("formSubmitted",function(Z){return s.addEmploye(Z)}),e.qZA()),2&r&&(e.xp6(2),e.Q6J("employe",s.employe)("markForm",s.markForm))},dependencies:[w.V,q],styles:["[_nghost-%COMP%]{width:100%}"]})}return o})();var wt=n(7394);function Bt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-employe-form",3),e.NdJ("formSubmitted",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.editEmploye(s))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("employe",t.employeDto)("markForm",t.markForm)}}let $t=(()=>{class o{constructor(t,r,s){this.store=t,this.route=r,this.router=s,this.formModel$=this.store.select(D),this.employe$=this.store.select(he),this.employeDto=null,this.errors$=this.store.select(K),this.error={},this.markForm=B.EDIT,this.subscription=new wt.w0}ngOnInit(){this.store.dispatch(a.resetFormModel()),this.subscription=this.route.params.subscribe(t=>{this.id=t.id,this.id&&this.store.dispatch(a.loadItem({id:this.id}))}),this.store.dispatch(a.resetItem()),this.store.dispatch(a.loadFormModel()),this.errors$.subscribe(t=>{null!==t&&(this.error=t)}),this.employe$.subscribe(t=>{null!==t&&(console.log(t),this.employeDto={id:t.id,matricule:t.matricule,numeroSecuriteSocial:t.numeroSecuriteSocial,adresseResidence:t.adresseResidence,numeroTelephone:t.numeroTelephone,adresseMail:t.adresseMail,dateNaissance:t.dateNaissance,dateEmbauche:t.dateEmbauche,sexe:t.sexe,statutEmploi:t.statutEmploi,userName:null===t.user?"":t.user.userName,pwd:null===t.user?"":t.user.pwd,firstName:null===t.user?"":t.user.firstName,lastName:null===t.user?"":t.user.lastName,enteprise:"",filiale:"",batiment:"",site:"",nomBureau:"",nomUniteFonctionnel:"",sigleUniteFonctionnel:"",role:null,bureau:null,uniteFonctionnel:null,dateDerniereModification:null===t.dateDerniereModification?"":this.formatDate(t.dateDerniereModification),dateCreation:null===t.dateCreation?"":this.formatDate(t.dateCreation),utilisateurCreation:t.utilisateurCreation,utilisateurModification:t.utilisateurModification})})}formatDate(t){if(t){const r=new Date(t);return r.toLocaleDateString()+" \xe0 "+r.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}resetBackendError(t){console.log(t),this.store.dispatch(a.resetErrorField({fieldName:t}))}editEmploye(t){const r={id:t.id,matricule:t.matricule,numeroSecuriteSocial:t.numeroSecuriteSocial,adresseResidence:t.adresseResidence,numeroTelephone:t.numeroTelephone,adresseMail:t.adresseMail,dateNaissance:t.dateNaissance,dateEmbauche:t.dateEmbauche,sexe:t.sexe,statutEmploi:t.statutEmploi,userName:t.userName,pwd:t.pwd,firstName:t.firstName,lastName:t.lastName};this.store.dispatch(a.updateItem({id:Number(this.id),item:r}))}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(l.yh),e.Y36(N.gz),e.Y36(N.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employe-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Domiciliations","pathLevelTwo","Employ\xe9s","pathLevelThree","Editer"],[3,"employe","markForm","formSubmitted",4,"ngIf"],[3,"employe","markForm","formSubmitted"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Bt,1,2,"app-employe-form",2)),2&r&&(e.xp6(2),e.Q6J("ngIf",s.employeDto))},dependencies:[h.O5,w.V,q],styles:["[_nghost-%COMP%]{width:100%}"]})}return o})();var u=n(6465),C=n(6063),Ot=n(9862),Jt=n(2460),b=n(6328),Qt=n(9026),F=n(6306),$=n(9397),Yt=n(1631),y=n(2096),Ht=n(3186),Kt=n(4664),Gt=n(9989),kt=n(1946);let W=(()=>{class o extends Gt.v{getResourceBasePath(){return`${kt.y}/employe`}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.n5z(o)))(s||o)}}();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();var zt=n(6366);let Rt=(()=>{class o{constructor(t,r,s,p,Z,O){this.employeService=t,this.authService=r,this.actions$=s,this.router=p,this.modalService=Z,this.store=O,this.loadItems$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.loadItems),(0,Jt.M)(this.store.select(Y),this.store.select(H),this.store.select(ge)),(0,b.b)(([d,f,P,J])=>(console.log(f),this.store.dispatch((0,C.Q)()),(0,Qt.$)(this.employeService.getAllWithPagination(f,P,J),this.employeService.count(J)).pipe((0,g.U)(([S,Vt])=>(this.store.dispatch((0,C.Z)()),a.loadItemsSuccess({items:S,totalElement:Vt}))),(0,F.K)(S=>(this.store.dispatch((0,C.Z)()),(0,y.of)(a.setError({errors:S})))))))),{dispatch:!0}),this.createItem$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.createItem),(0,b.b)(d=>(this.store.dispatch((0,C.Q)()),this.employeService.add(d.item).pipe((0,$.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Employ\xe9 ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("administration/employes")}),(0,g.U)(f=>a.createItemSuccess({item:f})),(0,F.K)(f=>(this.store.dispatch((0,C.Z)()),(0,y.of)(a.setError({errors:f})))))))),{dispatch:!0}),this.loadItem$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.loadItem),(0,Yt.z)(d=>this.employeService.findById(d.id).pipe((0,g.U)(f=>a.loadItemSuccess({item:f})),(0,F.K)(f=>(this.store.dispatch((0,C.Z)()),(0,y.of)(a.setError({errors:f}))))))),{dispatch:!0}),this.deleteItem$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.deleteItem),(0,b.b)(d=>this.employeService.delete(d.item.id,d.item)),(0,$.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Employ\xe9 supprim\xe9 avec succ\xe8s"})}),(0,g.U)(()=>a.loadItems()),(0,F.K)(d=>(this.store.dispatch((0,C.Z)()),(0,y.of)(a.setError({errors:d}))))),{dispatch:!0}),this.updateItem$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.updateItem),(0,b.b)(d=>(this.store.dispatch((0,C.Q)()),this.employeService.update(d.id,d.item).pipe((0,$.b)(()=>{this.store.dispatch((0,C.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Employ\xe9 modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("administration/employes")}),(0,g.U)(f=>a.createItemSuccess({item:f})),(0,F.K)(f=>(this.store.dispatch((0,C.Z)()),(0,y.of)(a.setError({errors:f})))))))),{dispatch:!0}),this.loadFormModel$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.loadFormModel),(0,b.b)(()=>this.employeService.getFormModel()),(0,g.U)(d=>a.loadFormModelSuccess({formModel:d})),(0,F.K)(d=>(this.store.dispatch((0,C.Z)()),(0,y.of)(a.setError({errors:d})))))),this.resetSearch$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.resetSearch),(0,b.b)(()=>(0,y.of)(a.changePage({page:1}))))),this.search$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.search),(0,b.b)(()=>(0,y.of)(a.changePage({page:1}))))),this.changePage$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.changePage),(0,g.U)(d=>a.loadItems()))),this.changePageSize$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.changePageSize),(0,b.b)(()=>(0,y.of)(a.changePage({page:1}))))),this.handleError$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(a.setError),(0,Kt.w)(d=>{if(this.store.dispatch((0,C.Q)()),d.errors instanceof Ot.UA){if(422===d.errors.status){let f="",P=0;for(const[J,S]of Object.entries(d.errors.error))f+=0===P?S:"\n"+S,P++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:f})}if(403===d.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===d.errors.status)return this.authService.removeToken(),this.authService.removeUserInfo(),(0,y.of)(Ht.jM())}return this.store.dispatch((0,C.Z)()),(0,y.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(r){return new(r||o)(e.LFG(W),e.LFG(zt.e),e.LFG(u.eX),e.LFG(N.F0),e.LFG(L.Z),e.LFG(l.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();var qt=n(9207);const Wt=[{path:"",component:Ye,pathMatch:"prefix"},{path:"add",component:Lt,pathMatch:"prefix"},{path:"edit/:id",component:$t,pathMatch:"prefix"}];let jt=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({providers:[W],imports:[h.ez,G.L,l.Aw.forFeature("employes",_e),u.sQ.forFeature(Rt),qt.m,N.Bz.forChild(Wt)]})}return o})()},4849:(Q,I,n)=>{n.d(I,{n:()=>l});var h=n(1892),e=n(6814),c=n(8666),v=n(2463),_=n(9468),g=n(166);let l=(()=>{class m{constructor(T,E){this.modalData=T,this.modalRef=E}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#e=this.\u0275fac=function(E){return new(E||m)(_.Y36(h.S),_.Y36(h.R))};static#t=this.\u0275cmp=_.Xpm({type:m,selectors:[["app-confirm-alert"]],standalone:!0,features:[_.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(E,M){1&E&&(_.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),_._uU(3,"Confirmation de Suppression"),_.qZA()()(),_.TgZ(4,"div",3)(5,"div",4)(6,"div",5),_._UZ(7,"img",6),_.qZA(),_.TgZ(8,"div",7),_._uU(9," Voulez-vous vraiment effectuer cette action ? "),_.qZA()(),_.TgZ(10,"div",8)(11,"app-custom-button",9),_.NdJ("buttonClicked",function(){return M.confirmAction()}),_.qZA(),_.TgZ(12,"app-custom-button",10),_.NdJ("buttonClicked",function(){return M.close()}),_.qZA()()())},dependencies:[e.ez,c.a,v.v,g.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return m})()},3849:(Q,I,n)=>{n.d(I,{L:()=>_});var h=n(9468),e=n(2463),c=n(6814),v=n(166);let _=(()=>{class g{constructor(){this.printButtonClicked=new h.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(A){return new(A||g)};static#t=this.\u0275cmp=h.Xpm({type:g,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[h.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(A,T){1&A&&(h.TgZ(0,"app-custom-button",0),h.NdJ("buttonClicked",function(){return T.emitPrintButtonClicked()}),h.qZA())},dependencies:[c.ez,e.v,v.x],styles:["[_nghost-%COMP%]{display:block}"]})}return g})()}}]);