"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[2016],{9989:(B,f,a)=>{a.d(f,{v:()=>y});var b=a(5966),e=a(9468),c=a(9862);let y=(()=>{class g{constructor(o,h){this.url=o,this.http=h}getAll(){return this.http.post(`${this.url}/${this.getResourceBasePath()}`,{})}getCurrent(){return this.http.get(`${this.url}/${this.getResourceBasePath()}/current`)}getFormModel(){return this.http.get(`${this.url}/${this.getResourceBasePath()}/form-model`)}saveCurrent(o){return this.http.post(`${this.url}/${this.getResourceBasePath()}/save-current`,o)}getAllWithPagination(o,h,m){return this.http.post(`${this.url}/${this.getResourceBasePath()}/findwithpagination/${o}/${h}`,m)}add(o){return this.http.post(`${this.url}/${this.getResourceBasePath()}/add`,o)}update(o,h){return this.http.post(`${this.url}/${this.getResourceBasePath()}/update/${o}`,h)}delete(o,h){return this.http.post(`${this.url}/${this.getResourceBasePath()}/delete/${o}`,h)}findById(o){return this.http.get(`${this.url}/${this.getResourceBasePath()}/findbyid/${o}`)}count(o){return this.http.post(`${this.url}/${this.getResourceBasePath()}/count`,o)}static#e=this.\u0275fac=function(h){return new(h||g)(e.LFG(b.z),e.LFG(c.eN))};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac})}return g})()},2016:(B,f,a)=>{a.r(f),a.d(f,{TableauDeBordModule:()=>k});var b=a(6814),e=a(676);const c="Tableau de Bord",m={loadItems:(0,e.PH)(`[${c} API] Load All`),loadItemsSuccess:(0,e.PH)(`[${c} API] Load All Success`,(0,e.Ky)()),setError:(0,e.PH)(`[${c} API] Create Error`,(0,e.Ky)()),resetError:(0,e.PH)(`[${c} API] Reset Error`),resetErrorField:(0,e.PH)(`[${c} API] Reset Error Field`,(0,e.Ky)())},Z=(0,e.Lq)({items:null},(0,e.on)(m.loadItemsSuccess,(s,A)=>(console.log(A.items),{...s,items:A.items}))),n=(0,e.ZF)("tableau-de-bords"),E=(0,e.P1)(n,s=>s.items);var t=a(9468),l=a(8281),p=a(362),M=a(2652),U=a(2685),F=a(1392);function D(s,A){if(1&s&&t._UZ(0,"app-chart-bar-area",6),2&s){const r=t.oxw();t.Q6J("valueItems",r.barAreaItems)("valueLabels",r.barAreaLabels)("title",r.barAreaTitle)("label",r.barAreaLabel)}}function S(s,A){if(1&s&&t._UZ(0,"app-chart-pie-area",6),2&s){const r=t.oxw();t.Q6J("valueItems",r.pieAreaItems)("valueLabels",r.pieAreaLabels)("title",r.pieAreaTitle)("label",r.pieAreaLabel)}}function R(s,A){if(1&s&&t._UZ(0,"app-chart-mixed",7),2&s){const r=t.oxw();t.Q6J("valueBarItems1",r.mixedBarItems1)("valueBarItems2",r.mixedBarItems2)("valueLineItems",r.mixedLineItems)("valueLabels",r.mixedAreaLabels)("title",r.mixedAreaTitle)("lineLabel",r.lineLabel)("barLabel1",r.barLabel1)("barLabel2",r.barLabel2)}}let J=(()=>{class s{constructor(r,i){this.router=r,this.store=i,this.items$=this.store.select(E),this.barAreaLabels=[],this.barAreaItems=[],this.barAreaLabel="incidents",this.barAreaTitle="Diagramme des Incidents par Etape de Traitement",this.pieAreaLabels=[],this.pieAreaItems=[],this.pieAreaLabel="incidents",this.pieAreaTitle="Diagramme des Incidents Clos par Support IT",this.mixedAreaLabels=[],this.mixedBarItems1=[],this.mixedBarItems2=[],this.mixedLineItems=[],this.lineLabel="Solution Rej\xe9t\xe9e",this.barLabel1="Solution Valid\xe9e",this.barLabel2="Solution En Attente",this.mixedAreaTitle="Diagramme des Etats de solutions par Support IT"}ngOnInit(){this.store.dispatch(m.loadItems()),this.items$.subscribe(r=>{null!==r&&(r.incidentEtapTraitement.forEach(i=>{this.barAreaLabels.push(i.key),this.barAreaItems.push(i.value)}),r.supportIncidentClos.forEach(i=>{this.pieAreaLabels.push(i.key),this.pieAreaItems.push(i.value)}),r.supportSolutionAccept.forEach(i=>{this.mixedAreaLabels.push(i.key),this.mixedBarItems1.push(i.value)}),r.supportSolutionEnAttente.forEach(i=>{this.mixedBarItems2.push(i.value)}),r.supportSolutionRejet.forEach(i=>{this.mixedLineItems.push(i.value)}))})}static#e=this.\u0275fac=function(i){return new(i||s)(t.Y36(l.F0),t.Y36(e.yh))};static#t=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-tableau-de-bord"]],decls:7,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Pilotage","pathLevelTwo","Tableau de Bord","pathLevelThree","Diagrammes"],[1,"d-flex","align-items-center","ps-4","pe-3","pt-2","mb-4","col-12"],["class","d-flex",3,"valueItems","valueLabels","title","label",4,"ngIf"],[1,"d-flex","align-items-center","ps-4","pe-3","pt-2","pb-3","col-12"],["class","d-flex",3,"valueBarItems1","valueBarItems2","valueLineItems","valueLabels","title","lineLabel","barLabel1","barLabel2",4,"ngIf"],[1,"d-flex",3,"valueItems","valueLabels","title","label"],[1,"d-flex",3,"valueBarItems1","valueBarItems2","valueLineItems","valueLabels","title","lineLabel","barLabel1","barLabel2"]],template:function(i,d){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,D,1,4,"app-chart-bar-area",3),t.YNc(4,S,1,4,"app-chart-pie-area",3),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,R,1,8,"app-chart-mixed",5),t.qZA()),2&i&&(t.xp6(3),t.Q6J("ngIf",d.barAreaItems.length>0&&d.barAreaLabels.length>0),t.xp6(1),t.Q6J("ngIf",d.pieAreaItems.length>0&&d.pieAreaLabels.length>0),t.xp6(2),t.Q6J("ngIf",(d.mixedBarItems1.length>0||d.mixedBarItems2.length>0||d.mixedLineItems.length>0)&&d.mixedAreaLabels.length>0))},dependencies:[b.O5,p.V,M.Y,U.S,F.M],styles:["[_nghost-%COMP%]{width:100%}"]})}return s})();var Q=a(9207),z=a(9989),w=a(1946);let C=(()=>{class s extends z.v{getResourceBasePath(){return`${w.y}/diagrammes-incident`}getEtapeTraiement(){return this.http.get(`${this.url}/${this.getResourceBasePath()}/dashboard`)}static#e=this.\u0275fac=function(){let r;return function(d){return(r||(r=t.n5z(s)))(d||s)}}();static#t=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac})}return s})();var v=a(6465),x=a(6063),N=a(9862),Y=a(6328),j=a(7398),G=a(6306),P=a(2096),K=a(3186),V=a(4664),W=a(6366),H=a(797);let X=(()=>{class s{constructor(r,i,d,_,ee,te){this.tableauDebordService=r,this.authService=i,this.actions$=d,this.router=_,this.modalService=ee,this.store=te,this.loadItems$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(m.loadItems),(0,Y.b)(L=>(this.store.dispatch((0,x.Q)()),this.tableauDebordService.getEtapeTraiement().pipe((0,j.U)(u=>(this.store.dispatch((0,x.Z)()),console.log(u),m.loadItemsSuccess({items:u}))),(0,G.K)(u=>(this.store.dispatch((0,x.Z)()),(0,P.of)(m.setError({errors:u})))))))),{dispatch:!0}),this.handleError$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(m.setError),(0,V.w)(L=>{if(this.store.dispatch((0,x.Q)()),L.errors instanceof N.UA){if(422===L.errors.status){let u="",O=0;for(const[ae,$]of Object.entries(L.errors.error))u+=0===O?$:"\n"+$,O++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:u})}if(403===L.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===L.errors.status){let u="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,x.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:u}),(0,P.of)(K.jM())}}return this.store.dispatch((0,x.Z)()),(0,P.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(i){return new(i||s)(t.LFG(C),t.LFG(W.e),t.LFG(v.eX),t.LFG(l.F0),t.LFG(H.Z),t.LFG(e.yh))};static#t=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac})}return s})();const q=[{path:"",component:J,pathMatch:"prefix"}];let k=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=t.oAB({type:s});static#a=this.\u0275inj=t.cJS({providers:[C],imports:[b.ez,Q.m,e.Aw.forFeature("tableau-de-bords",Z),v.sQ.forFeature(X),l.Bz.forChild(q)]})}return s})()},362:(B,f,a)=>{a.d(f,{V:()=>Z});var b=a(590),e=a(9468),c=a(6814),y=a(5597);let g=(()=>{class n{constructor(){this.periode=""}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-periode"]],inputs:{periode:"periode"},decls:4,vars:1,consts:[[1,"periode-box"],[1,"triangle-box"],[1,"panel-periode"]],template:function(l,p){1&l&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.qZA()()),2&l&&(e.xp6(3),e.hij(" ",p.periode," "))},styles:[".periode-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.triangle-box[_ngcontent-%COMP%]{clip-path:polygon(100% 0,0 55%,100% 100%);border:1px solid #dd0e14;background-color:#dd0e14;width:13px;height:13px;margin-right:-2px}.panel-periode[_ngcontent-%COMP%]{color:#fff;display:flex;align-items:center;justify-content:center;padding:5px;border:1px solid #dd0e14;background-color:#dd0e14;font-weight:400!important;border-radius:6px;font-size:.68rem}"]})}return n})();var I=a(1227);(0,c.qS)(I.Z,"fr-Fr");let o=(()=>{class n{constructor(){this.nbreElt=0}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-nbre-elt"]],inputs:{nbreElt:"nbreElt"},features:[e._Bn([{provide:e.soG,useValue:"fr-FR"}])],decls:7,vars:3,consts:[[1,"info-element-box"],[1,"icons-icon-view"],[1,"label-element","me-1","ms-1"],[1,"number"]],template:function(l,p){1&l&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"span",2),e._uU(3,"Nombre d'El\xe9ments :"),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"number"),e.qZA()()),2&l&&(e.xp6(5),e.Oqu(e.lcZ(6,1,p.nbreElt)))},dependencies:[c.JJ],styles:[".info-element-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-left:auto;border:1px solid #d0d5d9;padding:5px 10px;border-radius:5px;background-color:#e9f0f8;font-size:.68rem}span.icons-icon-view[_ngcontent-%COMP%]{font-size:17px;color:#4a5068}span.number[_ngcontent-%COMP%]{font-weight:700;color:#2d72b7}"]})}return n})();function h(n,E){if(1&n&&e._UZ(0,"app-periode",18),2&n){const t=e.oxw();e.Q6J("periode",t.periode)}}function m(n,E){if(1&n&&e._UZ(0,"app-nbre-elt",19),2&n){const t=e.oxw();e.Q6J("nbreElt",t.nbreElt)}}const T=function(n){return{"ms-auto":n}};let Z=(()=>{class n{constructor(){this.pathLevelOne="",this.pathLevelTwo="",this.pathLevelThree="",this.hide=!0,this.periode="",this.nbreElt=0,this.month=0,this.realMonth="0",this.realDay="0",this.year="0",this.chevronRigth=b._tD}ngOnInit(){this.date=new Date,this.realDay=this.formatNumber(this.date.getDate()),this.month=this.date.getMonth()+1,this.realMonth=this.formatNumber(this.month),this.year=this.date.getFullYear().toString().substr(-2),""===this.periode&&(this.periode="P\xe9riode du : "+this.realDay+"/"+this.realMonth+"/"+this.date.getFullYear())}formatNumber(t){return t<10?"0"+t:""+t}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-custom-breadcrumb"]],inputs:{pathLevelOne:"pathLevelOne",pathLevelTwo:"pathLevelTwo",pathLevelThree:"pathLevelThree",hide:"hide",periode:"periode",nbreElt:"nbreElt"},decls:27,vars:13,consts:[["id","breadcrumb","hide","hide","periode","periode","nbreElt","nbreElt",1,"w-full","mb-1"],[1,"d-flex","align-items-center","mb-1"],[1,"icons-icon-home","pt-1",2,"font-size","18px"],[1,"pt-2",2,"margin-right","5px","margin-left","5px","font-size","10px"],[3,"icon"],[1,"pt-2"],[1,"clip-path"],[1,"triangle"],[1,"ms-2"],["class","ms-1",3,"periode",4,"ngIf"],["class","ms-auto me-2",3,"nbreElt",4,"ngIf"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"me-1"],["src","/assets/images/Icones/icon-calendar.svg","width","20px"],[1,"today-day"],[1,"today-month"],[1,"today-year"],[1,"mt-0"],[1,"ms-1",3,"periode"],[1,"ms-auto","me-2",3,"nbreElt"]],template:function(l,p){1&l&&(e.TgZ(0,"div",0)(1,"h6",1),e._UZ(2,"span",2),e.TgZ(3,"span",3),e._UZ(4,"fa-icon",4),e.qZA(),e.TgZ(5,"span",5),e._uU(6),e.qZA(),e.TgZ(7,"span",3),e._UZ(8,"fa-icon",4),e.qZA(),e.TgZ(9,"span",5),e._uU(10),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"div",7),e.TgZ(13,"span",8),e._uU(14),e.qZA()(),e.YNc(15,h,1,1,"app-periode",9),e.YNc(16,m,1,1,"app-nbre-elt",10),e.TgZ(17,"div",11)(18,"span",12),e._UZ(19,"img",13),e.qZA(),e.TgZ(20,"span",14),e._uU(21),e.qZA(),e.TgZ(22,"span",15),e._uU(23),e.qZA(),e.TgZ(24,"span",16),e._uU(25),e.qZA()()(),e._UZ(26,"hr",17),e.qZA()),2&l&&(e.xp6(4),e.Q6J("icon",p.chevronRigth),e.xp6(2),e.Oqu(p.pathLevelOne),e.xp6(2),e.Q6J("icon",p.chevronRigth),e.xp6(2),e.Oqu(p.pathLevelTwo),e.xp6(4),e.Oqu(p.pathLevelThree),e.xp6(1),e.Q6J("ngIf",!1===p.hide&&""!==p.periode),e.xp6(1),e.Q6J("ngIf",!1===p.hide),e.xp6(1),e.Q6J("ngClass",e.VKq(11,T,!0===p.hide)),e.xp6(4),e.Oqu(p.realDay),e.xp6(2),e.Oqu(p.realMonth),e.xp6(2),e.Oqu(p.year))},dependencies:[c.mk,c.O5,y.BN,g,o],styles:["#breadcrumb[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12.25px;font-weight:600}h6[_ngcontent-%COMP%]   .fa.fa-chevron-right[_ngcontent-%COMP%]{color:#3a3a38}.today-day[_ngcontent-%COMP%], .today-month[_ngcontent-%COMP%], .today-year[_ngcontent-%COMP%]{background-color:#2f4050;border:1px solid #2f4050;color:#fff;display:flex;align-items:center;justify-content:center;width:21px;height:21px;font-weight:400!important}.today-month[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px}hr[_ngcontent-%COMP%]{background-color:#bcbabb!important;color:#bcbabb!important;height:1px}.clip-path[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,85% 0,100% 50%,84% 100%,0% 100%);background:linear-gradient(to right,#5eb78b,#5aaf8e,#52a591,#519e98,#498d98,#488598,#436c98);font-weight:550;color:#fff;min-width:50px;min-height:15px;display:flex;align-items:center;margin-top:8px;margin-left:5px;padding-right:15px;border:1px solid white}.triangle[_ngcontent-%COMP%]{clip-path:polygon(100% 47%,0 0,0 100%);background-color:#fff;max-width:5px;min-width:5px;max-height:8px;min-height:8px;border:1px solid white}"]})}return n})()}}]);