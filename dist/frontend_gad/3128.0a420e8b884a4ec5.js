(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[3128],{3128:(I,M,r)=>{"use strict";r.r(M),r.d(M,{VersionModule:()=>de});var n=r(6814),C=r(8281),v=r(9207),t=r(9468),c=r(95);let _=(()=>{class e{constructor(){}createForm(o){return new c.cw({libelle:new c.NI(o.libelle,{nonNullable:!0,validators:[c.kI.required]}),description:new c.NI(o.description),utilisateurModification:new c.NI(o.utilisateurModification),utilisateurCreation:new c.NI(o.utilisateurCreation),dateCreation:new c.NI(o.dateCreation),dateDerniereModification:new c.NI(o.dateDerniereModification)})}createSearchForm(){return new c.cw({libelle:new c.NI("",{nonNullable:!0,validators:[c.kI.required]}),description:new c.NI("",{nonNullable:!0,validators:[c.kI.required]})})}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var d=r(2572),g=r(7398),i=r(676);const s="Version",h=(0,i.PH)(`[${s} API] Load All`),f=(0,i.PH)(`[${s} API] Load All Success`,(0,i.Ky)()),p=(0,i.PH)(`[${s} API] Create`,(0,i.Ky)()),y=(0,i.PH)(`[${s} API] Create Success`,(0,i.Ky)()),Z=(0,i.PH)(`[${s} API] Create Error`,(0,i.Ky)()),A=(0,i.PH)(`[${s} API] Reset Error`),O=(0,i.PH)(`[${s} API] Reset Error Field`,(0,i.Ky)()),N=(0,i.PH)(`[${s} API] Load`,(0,i.Ky)()),V=(0,i.PH)(`[${s} API] Load Success`,(0,i.Ky)()),L=(0,i.PH)(`[${s} API] Reset`),nt=(0,i.PH)(`[${s} API] Delete`,(0,i.Ky)()),rt=(0,i.PH)(`[${s} API] Delete Success`,(0,i.Ky)()),l={loadItems:h,loadItemsSuccess:f,resetItem:L,createItem:p,createItemSuccess:y,loadItem:N,loadItemSuccess:V,updateItem:(0,i.PH)(`[${s} API] Update`,(0,i.Ky)()),updateItemSuccess:(0,i.PH)(`[${s} API] Update Success`,(0,i.Ky)()),deleteItem:nt,deleteItemSuccess:rt,setError:Z,resetError:A,resetErrorField:O,loadFormModel:(0,i.PH)(`[${s} API] Load Form Model`),resetFormModel:(0,i.PH)(`[${s} API] Reset Form Model`),loadFormModelSuccess:(0,i.PH)(`[${s} API] Load Form Model Success`,(0,i.Ky)()),resetSearch:(0,i.PH)(`[${s} API] Reset Search`),search:(0,i.PH)(`[${s} API] Search`,(0,i.Ky)()),changePage:(0,i.PH)(`[${s} API] Change Page`,(0,i.Ky)()),changePageSize:(0,i.PH)(`[${s} API] Change Page Size`,(0,i.Ky)()),downloadFile:(0,i.PH)(`[${s} API] Download File`),downloadFileSuccess:(0,i.PH)(`[${s} API] Download File Success`)},gt=(0,i.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,i.on)(l.loadItemsSuccess,(e,u)=>(console.log(u.items),{...e,items:u.items,totalElement:u.totalElement})),(0,i.on)(l.resetItem,(e,u)=>({...e,currentItem:null})),(0,i.on)(l.createItemSuccess,(e,u)=>({...e})),(0,i.on)(l.deleteItemSuccess,(e,u)=>({...e})),(0,i.on)(l.loadItemSuccess,(e,u)=>({...e,currentItem:u.item})),(0,i.on)(l.updateItemSuccess,(e,u)=>({...e})),(0,i.on)(l.loadFormModel,(e,u)=>({...e,formModel:null})),(0,i.on)(l.loadFormModelSuccess,(e,u)=>({...e,formModel:u.formModel})),(0,i.on)(l.resetSearch,(e,u)=>({...e,searchModel:{}})),(0,i.on)(l.search,(e,u)=>({...e,searchModel:u.searchModel})),(0,i.on)(l.changePage,(e,u)=>({...e,page:u.page})),(0,i.on)(l.changePageSize,(e,u)=>({...e,pageSize:u.pageSize})),(0,i.on)(l.setError,(e,u)=>({...e,errors:u.errors})),(0,i.on)(l.resetError,(e,u)=>({...e,errors:null})),(0,i.on)(l.resetErrorField,(e,u)=>{let o={};return null!==e.errors&&Object.entries(e.errors).forEach(([a,m])=>{a!==u.fieldName&&(o[`${a}`]=m)}),{...e,errors:o}})),D=(0,i.ZF)("versions"),vt=(0,i.P1)(D,e=>e.items),Ct=(0,i.P1)(D,e=>e.currentItem),K=(0,i.P1)(D,e=>e.formModel),bt=(0,i.P1)(D,e=>e.searchModel),G=(0,i.P1)(D,e=>e.page),W=(0,i.P1)(D,e=>e.pageSize),yt=(0,i.P1)(D,e=>e.totalElement),xt=(0,i.P1)(D,e=>e.errors);var Et=r(1227),Mt=r(4849),k=r(797),Q=r(3849),Pt=r(7251),Tt=r(166),It=r(6327),Zt=r(8564),St=r(8223),At=r(602),Ot=r(1469),Dt=r(6326),j=r(8346),Y=r(1171),X=r(547),H=r(362);function Ft(e,u){1&e&&(t.TgZ(0,"th",35),t._uU(1,"R\xe9f\xe9rence"),t.qZA())}function Lt(e,u){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const o=u.$implicit;t.xp6(1),t.Oqu(o.refSys)}}function Bt(e,u){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Libell\xe9"),t.qZA())}function Ut(e,u){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const o=u.$implicit;t.xp6(1),t.Oqu(o.libelle)}}function wt(e,u){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Description"),t.qZA())}function $t(e,u){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const o=u.$implicit;t.xp6(1),t.Oqu(o.description)}}function Nt(e,u){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Date cr\xe9ation"),t.qZA())}function Vt(e,u){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=u.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function Rt(e,u){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Date Derni\xe8re Modif"),t.qZA())}function Kt(e,u){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=u.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function kt(e,u){if(1&e){const o=t.EpF();t.TgZ(0,"table",25),t.NdJ("itemSelected",function(m){t.CHM(o);const T=t.oxw(2);return t.KtG(T.itemSelected(m))}),t.ynx(1,26),t.YNc(2,Ft,2,0,"th",27),t.YNc(3,Lt,2,1,"td",28),t.BQk(),t.ynx(4,29),t.YNc(5,Bt,2,0,"th",27),t.YNc(6,Ut,2,1,"td",28),t.BQk(),t.ynx(7,30),t.YNc(8,wt,2,0,"th",31),t.YNc(9,$t,2,1,"td",28),t.BQk(),t.ynx(10,32),t.YNc(11,Nt,2,0,"th",27),t.YNc(12,Vt,3,4,"td",33),t.BQk(),t.ynx(13,34),t.YNc(14,Rt,2,0,"th",27),t.YNc(15,Kt,3,4,"td",33),t.BQk(),t.qZA()}if(2&e){const o=u.ngIf,a=t.oxw(2);t.Q6J("items",o)("headers",a.headerTable)("selectable",!0)}}function Ht(e,u){if(1&e){const o=t.EpF();t.TgZ(0,"app-crud-list",3),t.NdJ("searchButtonClicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.searchButtonClicked())})("refreshButtonClicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.refreshButtonClicked())})("pageSelected",function(m){t.CHM(o);const T=t.oxw();return t.KtG(T.pageSelected(m))})("pageSizeChange",function(m){t.CHM(o);const T=t.oxw();return t.KtG(T.pageSizeChange(m))})("closeButtonClicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.closeButtonClicked())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._UZ(4,"app-form-label",7),t.qZA(),t.TgZ(5,"div",8),t._UZ(6,"app-custom-textfield",9),t.qZA()()(),t.TgZ(7,"div",10)(8,"div",11)(9,"div",6),t._UZ(10,"app-form-label",12),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-custom-textfield",13),t.qZA()()(),t.TgZ(13,"div",14)(14,"app-custom-button",15),t.NdJ("buttonClicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.addButtonClicked())}),t.qZA(),t.TgZ(15,"app-custom-button",16),t.NdJ("buttonClicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.editButtonClicked())}),t.qZA(),t._UZ(16,"app-custom-button",17),t.TgZ(17,"app-custom-button",18),t.NdJ("buttonClicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.deleteButtonClicked())}),t.qZA()(),t.TgZ(18,"div",19),t._UZ(19,"app-custom-button",20)(20,"app-custom-button",21),t.TgZ(21,"app-print-button",22),t.NdJ("printButtonClicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.printButtonClicked())}),t.qZA()(),t.TgZ(22,"div",23),t.YNc(23,kt,16,3,"table",24),t.ALo(24,"async"),t.qZA()()}if(2&e){const o=u.ngIf,a=t.oxw();t.Q6J("itemSelected",a.isItemSelected())("pageSize",o.pageSize)("currentPage",o.page)("totalElements",o.totalElement),t.xp6(1),t.Q6J("formGroup",a.searchForm),t.xp6(6),t.Q6J("formGroup",a.searchForm),t.xp6(8),t.Q6J("disabled",!a.isItemSelected()),t.xp6(1),t.Q6J("disabled",!a.isItemSelected()),t.xp6(1),t.Q6J("disabled",!a.isItemSelected()),t.xp6(6),t.Q6J("ngIf",t.lcZ(24,10,a.items$))}}(0,n.qS)(Et.Z,"fr-Fr");let zt=(()=>{class e{constructor(o,a,m,T){this.router=o,this.modalService=a,this.store=m,this.versionFormService=T,this.headerTable=["R\xe9f\xe9rence","Lib\xe9ll\xe9","Description","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(vt),this.page$=this.store.select(G),this.pageSize$=this.store.select(W),this.totalElement$=this.store.select(yt),this.data$=(0,d.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,g.U)(([U,J,E])=>({page:U,pageSize:J,totalElement:E}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.versionFormService.createSearchForm(),this.store.dispatch(l.loadItems())}addButtonClicked(){this.router.navigate(["parc-informatique","version","add"])}editButtonClicked(){const o=this.selectedItem?.id;o&&(this.store.dispatch(l.resetItem()),this.router.navigate(["parc-informatique","version","edit",o]))}deleteButtonClicked(){const o=this.selectedItem;o&&(this.modalService.openComponent(Mt.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(a=>{}),this.store.dispatch(l.deleteItem({item:o})))}itemSelected(o){this.selectedItem=o}pageSelected(o){this.store.dispatch(l.changePage({page:o}))}pageSizeChange(o){this.store.dispatch(l.changePageSize({pageSize:o}))}closeButtonClicked(){this.router.navigate(["parc-informatique"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(l.resetSearch())}searchButtonClicked(){this.store.dispatch(l.search({searchModel:this.searchForm.value}))}printButtonClicked(){this.store.dispatch(l.downloadFile())}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(C.F0),t.Y36(k.Z),t.Y36(i.yh),t.Y36(_))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-version-list"]],features:[t._Bn([_,{provide:t.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Version Equipement","pathLevelThree","Liste"],["title","liste des Versions",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","liste des Versions",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","libelle"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Description"],["placeholder","","otherclass","item-input","formControlName","description"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["url","consulter.svg","title","Consulter",1,"me-1",3,"disabled"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Importer","url","import.svg"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Lib\xe9ll\xe9"],["appCellDef","Description"],["app-header-attribute-def-template","","class","w-50",4,"appHeaderDefTemplate"],["appCellDef","Date Cr\xe9ation"],["app-cell-def-template","",4,"appCellDefTemplate"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-header-attribute-def-template","",1,"w-50"],["app-cell-def-template",""]],template:function(a,m){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,Ht,25,12,"app-crud-list",2),t.ALo(3,"async")),2&a&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,m.data$)))},dependencies:[Q.L,n.O5,c.JJ,c.JL,c.sg,c.u,Pt._,Tt.x,It.N,Zt.D,St.h,At.u,Ot.O,Dt.q,j.W,Y.h,X.Z,H.V,n.Ov,n.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return e})();var x=r(6465),q=r(1631),F=r(6328),Jt=r(9026),z=r(9397),S=r(2096),Gt=r(9862),B=r(6306),P=r(6063),Wt=r(2460),Qt=r(3186),jt=r(4664),Yt=r(217),Xt=r(1946),qt=r(9989);let tt=(()=>{class e extends qt.v{getResourceBasePath(){return`${Xt.y}/version-equipement`}getPrintAll(){return this.http.post(`${this.url}/${this.getResourceBasePath()}/print/all`,{},{observe:"response",responseType:"blob"})}static#t=this.\u0275fac=function(){let o;return function(m){return(o||(o=t.n5z(e)))(m||e)}}();static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var te=r(6366);let ee=(()=>{class e{constructor(o,a,m,T,U,J){this.versionService=o,this.authService=a,this.actions$=m,this.router=T,this.modalService=U,this.store=J,this.loadItems$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.loadItems),(0,Wt.M)(this.store.select(G),this.store.select(W),this.store.select(bt)),(0,F.b)(([E,b,w,R])=>(console.log(b),this.store.dispatch((0,P.Q)()),(0,Jt.$)(this.versionService.getAllWithPagination(b,w,R),this.versionService.count(R)).pipe((0,g.U)(([$,ue])=>(this.store.dispatch((0,P.Z)()),l.loadItemsSuccess({items:$,totalElement:ue}))),(0,B.K)($=>(this.store.dispatch((0,P.Z)()),(0,S.of)(l.setError({errors:$})))))))),{dispatch:!0}),this.createItem$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.createItem),(0,F.b)(E=>(this.store.dispatch((0,P.Q)()),this.versionService.add(E.item).pipe((0,z.b)(()=>{this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Version ajout\xe9e avec succ\xe8s"}),this.router.navigate(["parc-informatique","version"])}),(0,g.U)(b=>l.createItemSuccess({item:b})),(0,B.K)(b=>(this.store.dispatch((0,P.Z)()),(0,S.of)(l.setError({errors:b})))))))),{dispatch:!0}),this.loadItem$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.loadItem),(0,q.z)(E=>(this.store.dispatch((0,P.Q)()),this.versionService.findById(E.id).pipe((0,g.U)(b=>(this.store.dispatch((0,P.Z)()),l.loadItemSuccess({item:b}))),(0,B.K)(b=>(this.store.dispatch((0,P.Z)()),(0,S.of)(l.setError({errors:b})))))))),{dispatch:!0}),this.deleteItem$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.deleteItem),(0,F.b)(E=>this.versionService.delete(E.item.id,E.item)),(0,z.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Version supprim\xe9e avec succ\xe8s"})}),(0,g.U)(()=>l.loadItems()),(0,B.K)(E=>(this.store.dispatch((0,P.Z)()),(0,S.of)(l.setError({errors:E}))))),{dispatch:!0}),this.updateItem$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.updateItem),(0,F.b)(E=>(this.store.dispatch((0,P.Q)()),this.versionService.update(E.id,E.item).pipe((0,z.b)(()=>{this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Version modifi\xe9e avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/version")}),(0,g.U)(b=>l.updateItemSuccess({item:b})),(0,B.K)(b=>(this.store.dispatch((0,P.Z)()),(0,S.of)(l.setError({errors:b})))))))),{dispatch:!0}),this.downloadFile$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.downloadFile),(0,q.z)(E=>(this.store.dispatch((0,P.Q)()),this.versionService.getPrintAll().pipe((0,g.U)(b=>{console.log(b),this.store.dispatch((0,P.Z)());let w=b.headers.get("content-disposition")?.split(";")[1].split("=")[1];return(0,Yt.saveAs)(b.body,w),l.loadItems()}),(0,B.K)(b=>(this.store.dispatch((0,P.Z)()),(0,S.of)(l.setError({errors:b})))))))),{dispatch:!0}),this.loadFormModel$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.loadFormModel),(0,F.b)(()=>this.versionService.getFormModel()),(0,g.U)(E=>l.loadFormModelSuccess({formModel:E})),(0,B.K)(E=>(0,S.of)(l.setError({errors:E}))))),this.resetSearch$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.resetSearch),(0,F.b)(()=>(0,S.of)(l.changePage({page:1}))))),this.search$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.search),(0,F.b)(()=>(0,S.of)(l.changePage({page:1}))))),this.changePage$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.changePage),(0,g.U)(E=>l.loadItems()))),this.changePageSize$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.changePageSize),(0,F.b)(()=>(0,S.of)(l.changePage({page:1}))))),this.handleError$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(l.setError),(0,jt.w)(E=>{if(this.store.dispatch((0,P.Q)()),E.errors instanceof Gt.UA){if(422===E.errors.status){let b="",w=0;for(const[R,$]of Object.entries(E.errors.error))b+=0===w?$:"\n"+$,w++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:b})}if(403===E.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===E.errors.status){let b="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:b}),(0,S.of)(Qt.jM())}}return this.store.dispatch((0,P.Z)()),(0,S.of)({type:"noop"})})),{dispatch:!0})}static#t=this.\u0275fac=function(a){return new(a||e)(t.LFG(tt),t.LFG(te.e),t.LFG(x.eX),t.LFG(C.F0),t.LFG(k.Z),t.LFG(i.yh))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var et=r(7394),oe=r(8819),ne=r(9543),re=r(7426),ie=r(9887);function se(e,u){if(1&e){const o=t.EpF();t.TgZ(0,"form",3)(1,"div",4)(2,"app-panel-custom",5)(3,"div",6)(4,"div",7),t._UZ(5,"app-form-label",8),t.TgZ(6,"div",9),t._UZ(7,"app-custom-textfield",10),t.qZA()(),t.TgZ(8,"div",7),t._UZ(9,"app-form-label",11),t.TgZ(10,"div",9),t._UZ(11,"app-custom-textfield",12),t.qZA()()(),t.TgZ(12,"div",6)(13,"div",7),t._UZ(14,"app-form-label",13),t.TgZ(15,"div",9),t._UZ(16,"app-custom-textfield",14),t.qZA()(),t.TgZ(17,"div",7),t._UZ(18,"app-form-label",15),t.TgZ(19,"div",9),t._UZ(20,"app-custom-textfield",16),t.qZA()()()(),t.TgZ(21,"app-panel-custom",17)(22,"div",18)(23,"div",19)(24,"div",20),t._UZ(25,"app-form-label",21),t.TgZ(26,"div",9)(27,"app-field-error-wrapper",22),t.NdJ("resetField",function(m){t.CHM(o);const T=t.oxw(2);return t.KtG(T.resetBackendError(m))}),t._UZ(28,"app-custom-textfield",23),t.qZA()()()(),t.TgZ(29,"div",24)(30,"div",25),t._UZ(31,"app-form-label",26),t.TgZ(32,"div",9),t._UZ(33,"textarea",27),t.qZA()()()()(),t.TgZ(34,"div",28)(35,"app-primary-button",29),t.NdJ("buttonClicked",function(){t.CHM(o);const m=t.oxw(2);return t.KtG(m.submitForm())}),t.qZA(),t.TgZ(36,"app-cancel-button",30),t.NdJ("buttonClicked",function(){t.CHM(o);const m=t.oxw(2);return t.KtG(m.returnToList())}),t.qZA()()()()}if(2&e){const o=t.oxw(2);t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(7),t.Q6J("errors",o.errors)}}function ae(e,u){if(1&e&&(t.TgZ(0,"div",1),t.YNc(1,se,37,6,"form",2),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.form)}}let ot=(()=>{class e{constructor(o,a,m,T){this.formService=o,this.modalService=a,this.router=m,this.store=T,this.errors=null,this.formSubmitted=new t.vpe,this.subscription=new et.w0,this.headers=["S\xe9lection","Lib\xe9ll\xe9","Description","Participant"],this.items=[{label:"Hello",description:"Salutation",participant:"Victor"},{label:"Hello",description:"Salutation",participant:"Tanguy"}],this.itemCritterias={label:"Libell\xe9",description:"Description",participant:"Participant"},this.formControl=new c.NI(this.items[0],{nonNullable:!1}),this.itemDescription=U=>U.participant}ngOnInit(){this.store.select(xt).subscribe(o=>{this.errors=o}),this.subscription=this.store.select(K).subscribe(o=>{o&&(this.formModel={...this.formModel,...o},this.form=this.formService.createForm(this.version))}),this.form=this.formService.createForm(this.version)}ngOnDestroy(){this.subscription.unsubscribe()}submitForm(){this.formSubmitted.emit(this.form.value)}returnToList(){this.router.navigateByUrl("parc-informatique/version")}resetBackendError(o){this.store.dispatch(l.resetErrorField({fieldName:o}))}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(_),t.Y36(k.Z),t.Y36(C.F0),t.Y36(i.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-version-form"]],inputs:{version:"version"},outputs:{formSubmitted:"formSubmitted"},features:[t._Bn([_])],decls:1,vars:1,consts:[["class","pe-3 ps-3 pt-0",4,"ngIf"],[1,"pe-3","ps-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-4"],["title","Date Cr\xe9ation",1,"col-5","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],["title","Cr\xe9\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"col-5","text-end"],["otherclass","custom-style-form","formControlName","dateDerniereModification","placeholder","",3,"readonly"],["title","Modifi\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","title","Informations g\xe9n\xe9rales"],[1,"general-info","flex-column"],[1,"col-12","mb-2"],[1,"input-container","col-6"],["title","Libell\xe9",1,"col-2","text-end","me-1"],[3,"errors","resetField"],["otherclass","custom-style-form","placeholder","","formControlName","libelle"],[1,"col-12"],[1,"input-container","col-6","d-flex","align-items-center"],["title","Description",1,"col-2","text-end","me-1"],["placeholder","","formControlName","description",1,"custom-style-textarea"],[1,"form-actions"],["title","Enregistrer",1,"me-1",3,"buttonClicked"],["title","Annuler","otherclass","custom-cancel-button",3,"buttonClicked"]],template:function(a,m){1&a&&t.YNc(0,ae,2,1,"div",0),2&a&&t.Q6J("ngIf",!m.formModel)},dependencies:[n.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,oe.F,j.W,Y.h,ne.C,X.Z,re.p,ie.l],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.input-container[_ngcontent-%COMP%]{display:flex}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%] + .input-container[_ngcontent-%COMP%]{margin-left:32px}.input-textfield-container[_ngcontent-%COMP%]{width:250px;margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return e})();function le(e,u){if(1&e){const o=t.EpF();t.TgZ(0,"app-version-form",3),t.NdJ("formSubmitted",function(m){t.CHM(o);const T=t.oxw();return t.KtG(T.editVersion(m))}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("version",o.versionDto)}}const pe=[{path:"",component:zt,pathMatch:"prefix"},{path:"add",component:(()=>{class e{constructor(o){this.store=o,this.formModel$=this.store.select(K),this.version={id:"",libelle:"",description:"",dateDerniereModification:null,dateCreation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(l.resetItem()),this.store.dispatch(l.resetFormModel())}addVersion(o){this.store.dispatch(l.createItem({item:{libelle:o.libelle,description:o.description}}))}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(i.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-version-add"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Version Equipement","pathLevelThree","Ajouter"],[3,"version","formSubmitted"]],template:function(a,m){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.TgZ(2,"app-version-form",2),t.NdJ("formSubmitted",function(U){return m.addVersion(U)}),t.qZA()),2&a&&(t.xp6(2),t.Q6J("version",m.version))},dependencies:[H.V,ot],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})(),pathMatch:"prefix"},{path:"edit/:id",component:(()=>{class e{constructor(o,a){this.store=o,this.route=a,this.formModel$=this.store.select(K),this.version$=this.store.select(Ct),this.versionDto=null,this.subscription=new et.w0}ngOnInit(){this.store.dispatch(l.resetFormModel()),this.subscription=this.route.params.subscribe(o=>{this.id=o.id,this.id&&this.store.dispatch(l.loadItem({id:this.id}))}),this.version$.subscribe(o=>{o&&(this.versionDto={id:o.id,libelle:o.libelle,description:o.description,dateDerniereModification:null===o.dateDerniereModification?"":this.formatDate(o.dateDerniereModification),dateCreation:null===o.dateCreation?"":this.formatDate(o.dateCreation),utilisateurCreation:o.utilisateurCreation,utilisateurModification:o.utilisateurModification})})}formatDate(o){if(o){const a=new Date(o);return a.toLocaleDateString()+" \xe0 "+a.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}editVersion(o){this.store.dispatch(l.updateItem({id:this.id,item:{id:this.id,libelle:o.libelle,description:o.description}}))}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(i.yh),t.Y36(C.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-version-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Version Equipement","pathLevelThree","Editer"],[3,"version","formSubmitted",4,"ngIf"],[3,"version","formSubmitted"]],template:function(a,m){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,le,1,1,"app-version-form",2)),2&a&&(t.xp6(2),t.Q6J("ngIf",m.versionDto))},dependencies:[n.O5,H.V,ot],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})(),pathMatch:"prefix"}];let de=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({providers:[tt],imports:[Q.L,n.ez,i.Aw.forFeature("versions",gt),x.sQ.forFeature(ee),v.m,C.Bz.forChild(pe)]})}return e})()},8819:(I,M,r)=>{"use strict";r.d(M,{F:()=>C});var n=r(9468);let C=(()=>{class v{constructor(){this.disabled=!1,this.buttonClicked=new n.vpe}emitButtonClicked(){this.buttonClicked.emit()}static#t=this.\u0275fac=function(_){return new(_||v)};static#e=this.\u0275cmp=n.Xpm({type:v,selectors:[["app-cancel-button"]],inputs:{title:"title",url:"url",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(_,d){1&_&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return d.emitButtonClicked()}),n._uU(1),n.qZA()),2&_&&(n.Gre("cancel-button ",d.otherclass,""),n.Q6J("disabled",d.disabled),n.xp6(1),n.hij(" ",d.title,"\n"))},styles:[".cancel-button[_ngcontent-%COMP%]{color:#000;border:1px solid #6d7582;background-color:#fff;min-width:120px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:25px;padding:.75rem 0rem;border-radius:3px}"]})}return v})()},4849:(I,M,r)=>{"use strict";r.d(M,{n:()=>d});var n=r(1892),C=r(6814),v=r(8666),t=r(2463),c=r(9468),_=r(166);let d=(()=>{class g{constructor(s,h){this.modalData=s,this.modalRef=h}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#t=this.\u0275fac=function(h){return new(h||g)(c.Y36(n.S),c.Y36(n.R))};static#e=this.\u0275cmp=c.Xpm({type:g,selectors:[["app-confirm-alert"]],standalone:!0,features:[c.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(h,f){1&h&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),c._uU(3,"Confirmation de Suppression"),c.qZA()()(),c.TgZ(4,"div",3)(5,"div",4)(6,"div",5),c._UZ(7,"img",6),c.qZA(),c.TgZ(8,"div",7),c._uU(9," Voulez-vous vraiment effectuer cette action ? "),c.qZA()(),c.TgZ(10,"div",8)(11,"app-custom-button",9),c.NdJ("buttonClicked",function(){return f.confirmAction()}),c.qZA(),c.TgZ(12,"app-custom-button",10),c.NdJ("buttonClicked",function(){return f.close()}),c.qZA()()())},dependencies:[C.ez,v.a,t.v,_.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return g})()},8346:(I,M,r)=>{"use strict";r.d(M,{W:()=>t});var n=r(9468),C=r(95),v=r(7394);let t=(()=>{class c{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new v.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new C.NI}writeValue(d){this.control.setValue(d)}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}setDisabledState(d){this.disabled=d,d?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(d=>{this.onChange(d)})}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(g){return new(g||c)};static#e=this.\u0275cmp=n.Xpm({type:c,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[n._Bn([{provide:C.JU,useExisting:(0,n.Gpc)(()=>c),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(g,i){1&g&&n._UZ(0,"input",0),2&g&&(n.Gre("custom-text-field m-0 form-control-sm ",i.otherclass,""),n.s9C("placeholder",i.placeholder),n.Q6J("type",i.type)("formControl",i.control)("readonly",i.readonly))},dependencies:[C.Fj,C.JJ,C.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return c})()},1171:(I,M,r)=>{"use strict";r.d(M,{h:()=>C});var n=r(9468);let C=(()=>{class v{constructor(){this.title="",this.class=""}static#t=this.\u0275fac=function(_){return new(_||v)};static#e=this.\u0275cmp=n.Xpm({type:v,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(_,d){1&_&&(n.TgZ(0,"label"),n._uU(1),n.qZA()),2&_&&(n.Tol(d.class),n.xp6(1),n.Oqu(d.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return v})()},9887:(I,M,r)=>{"use strict";r.d(M,{l:()=>d});var n=r(9468),C=r(6814);function v(g,i){if(1&g&&(n.TgZ(0,"h5",3),n._UZ(1,"span"),n._uU(2),n.Hsn(3,1),n.qZA()),2&g){const s=n.oxw();n.xp6(1),n.Tol(s.icon),n.xp6(1),n.hij(" ",s.title," ")}}function t(g,i){1&g&&n._UZ(0,"hr",4)}const c=["*",[["",8,"button-head"]]],_=["*",".button-head"];let d=(()=>{class g{constructor(){this.title="",this.icon="",this.background="white",this.otherclass=""}static#t=this.\u0275fac=function(h){return new(h||g)};static#e=this.\u0275cmp=n.Xpm({type:g,selectors:[["app-panel-custom"]],inputs:{title:"title",icon:"icon",background:"background",otherclass:"otherclass"},ngContentSelectors:_,decls:5,vars:6,consts:[["class","title-panel-custom mb-1",4,"ngIf"],["class","mt-0",4,"ngIf"],[1,"panel-custom-body"],[1,"title-panel-custom","mb-1"],[1,"mt-0"]],template:function(h,f){1&h&&(n.F$t(c),n.TgZ(0,"div"),n.YNc(1,v,4,4,"h5",0),n.YNc(2,t,1,0,"hr",1),n.TgZ(3,"div",2),n.Hsn(4),n.qZA()()),2&h&&(n.MT6("panel-custom ",f.background," ",f.otherclass,""),n.xp6(1),n.Q6J("ngIf",f.title),n.xp6(1),n.Q6J("ngIf",f.title))},dependencies:[C.O5],styles:[".panel-custom[_ngcontent-%COMP%]{border:1px solid #c7c5c6;padding:15px;margin-bottom:3px}.title-panel-custom[_ngcontent-%COMP%]{display:flex;align-items:center;color:#045a5e;font-size:15px;font-family:aileronbold}.title-panel-custom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#46ad7e;margin-right:5px}"]})}return g})()},9543:(I,M,r)=>{"use strict";r.d(M,{C:()=>C});var n=r(9468);let C=(()=>{class v{constructor(){this.otherclass="",this.disabled=!1,this.buttonClicked=new n.vpe}emitButtonClicked(c){c.preventDefault(),this.buttonClicked.emit()}static#t=this.\u0275fac=function(_){return new(_||v)};static#e=this.\u0275cmp=n.Xpm({type:v,selectors:[["app-primary-button"]],inputs:{title:"title",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(_,d){1&_&&(n.TgZ(0,"button",0),n.NdJ("click",function(i){return d.emitButtonClicked(i)}),n._uU(1),n.qZA()),2&_&&(n.Gre("primary-button ",d.otherclass,""),n.Q6J("disabled",d.disabled),n.xp6(1),n.hij(" ",d.title,"\n"))},styles:[".primary-button[_ngcontent-%COMP%]{color:#fff;border:1px solid #1EA860;background-color:#1ea860;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:30px;padding:.75rem 1rem;border-radius:6px}.primary-button[_ngcontent-%COMP%]:hover{background-color:#2da899;border:1px solid #2DA899}.primary-button[_ngcontent-%COMP%]:disabled{color:#fff;border:1px solid #3d4957;background-color:#3d4957;min-width:80px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:24px;opacity:.7;padding:.75rem 0rem}"]})}return v})()},3849:(I,M,r)=>{"use strict";r.d(M,{L:()=>c});var n=r(9468),C=r(2463),v=r(6814),t=r(166);let c=(()=>{class _{constructor(){this.printButtonClicked=new n.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#t=this.\u0275fac=function(i){return new(i||_)};static#e=this.\u0275cmp=n.Xpm({type:_,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[n.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(i,s){1&i&&(n.TgZ(0,"app-custom-button",0),n.NdJ("buttonClicked",function(){return s.emitPrintButtonClicked()}),n.qZA())},dependencies:[v.ez,C.v,t.x],styles:["[_nghost-%COMP%]{display:block}"]})}return _})()},7426:(I,M,r)=>{"use strict";r.d(M,{p:()=>i});var n=r(9468),C=r(547);const v={required:s=>"Ce champ est obligatoire",minlength:({requiredLength:s})=>`La valeur entr\xe9e doit avoir au minimum ${s} ${s>1?"caract\xe8res":"caract\xe8re"}`,maxlength:({requiredLength:s})=>`La valeur entr\xe9e doit avoir au maximum ${s} ${s>1?"caract\xe8res":"caract\xe8re"}`,actionsLength:s=>"Au moins une action doit \xeatre associ\xe9e au groupe utilisateur",problemeInvalide:s=>"Erreur sur le champ Probl\xe8me",impactInvalide:s=>"Erreur sur le champ Impact",gestionnaireInvalide:s=>"Erreur sur le champ Gestionnaire",demandeurInvalide:s=>"Erreur sur le champ Demandeur",categorieInvalide:s=>"Erreur sur le champ Cat\xe9gorie"};var t=r(8645),c=r(9773),_=r(6814);function d(s,h){if(1&s&&(n.TgZ(0,"div",1),n._uU(1),n.qZA()),2&s){const f=n.oxw();n.xp6(1),n.Oqu(f.errorMessage)}}const g=["*"];let i=(()=>{class s{constructor(){this.errors=null,this.resetField=new n.vpe,this.destoy$=new t.x}ngOnInit(){if(!this.myDirective)throw new Error("MyInputDirective is required!")}ngAfterViewInit(){this.myDirective&&this.myDirective.ngControl.valueChanges?.pipe((0,c.R)(this.destoy$)).subscribe(f=>{const p=this.myDirective.ngControl.control?this.getControlName(this.myDirective.ngControl.control):"";"string"==typeof p&&this.resetField.emit(p)})}ngOnDestroy(){this.destoy$.next(null),this.destoy$.complete()}get errorMessage(){let f=this.getExternErrorMessage();return null===f&&(f=this.getLocalErrorMessage()),f}getExternErrorMessage(){let f=null;return this.errors&&Object.entries(this.errors).forEach(([p,y])=>{p===(this.myDirective.ngControl.control?this.getControlName(this.myDirective.ngControl.control):"")&&(f=y)}),f}getLocalErrorMessage(){const f=this.myDirective?.ngControl.control?.errors;if(f){const p=Object.entries(f||{});if(!p.length)return null;const[y,Z]=p[0];let A=null;return Object.entries(v).forEach(([O,N])=>{O===y&&this.myDirective?.ngControl.control?.dirty&&(A=v[O](Z))}),A}return null}getControlName(f){let p=f.parent;if(!p)return null;let y="";return Object.keys(p.controls).forEach(Z=>{p.get(Z)===f&&(y=Z)}),y}static#t=this.\u0275fac=function(p){return new(p||s)};static#e=this.\u0275cmp=n.Xpm({type:s,selectors:[["app-field-error-wrapper"]],contentQueries:function(p,y,Z){if(1&p&&n.Suo(Z,C.Z,7),2&p){let A;n.iGM(A=n.CRH())&&(y.myDirective=A.first)}},inputs:{errors:"errors"},outputs:{resetField:"resetField"},ngContentSelectors:g,decls:2,vars:1,consts:[["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,y){1&p&&(n.F$t(),n.Hsn(0),n.YNc(1,d,2,1,"div",0)),2&p&&(n.xp6(1),n.Q6J("ngIf",y.errorMessage))},dependencies:[_.O5],styles:[".error-message[_ngcontent-%COMP%]{color:red;font-size:.75rem}"]})}return s})()},547:(I,M,r)=>{"use strict";r.d(M,{Z:()=>v});var n=r(9468),C=r(95);let v=(()=>{class t{constructor(_){this.ngControl=_}static#t=this.\u0275fac=function(d){return new(d||t)(n.Y36(C.a5,10))};static#e=this.\u0275dir=n.lG2({type:t,selectors:[["","formControl",""],["","formControlName",""]]})}return t})()},217:function(I,M){var r,C;void 0!==(C="function"==typeof(r=function(){"use strict";function t(s,h,f){var p=new XMLHttpRequest;p.open("GET",s),p.responseType="blob",p.onload=function(){i(p.response,h,f)},p.onerror=function(){console.error("could not download file")},p.send()}function c(s){var h=new XMLHttpRequest;h.open("HEAD",s,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function _(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(h)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,g=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(s,h,f){var p=d.URL||d.webkitURL,y=document.createElement("a");y.download=h=h||s.name||"download",y.rel="noopener","string"==typeof s?(y.href=s,y.origin===location.origin?_(y):c(y.href)?t(s,h,f):_(y,y.target="_blank")):(y.href=p.createObjectURL(s),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){_(y)},0))}:"msSaveOrOpenBlob"in navigator?function(s,h,f){if(h=h||s.name||"download","string"!=typeof s)navigator.msSaveOrOpenBlob(function v(s,h){return typeof h>"u"?h={autoBom:!1}:"object"!=typeof h&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\ufeff",s],{type:s.type}):s}(s,f),h);else if(c(s))t(s,h,f);else{var p=document.createElement("a");p.href=s,p.target="_blank",setTimeout(function(){_(p)})}}:function(s,h,f,p){if((p=p||open("","_blank"))&&(p.document.title=p.document.body.innerText="downloading..."),"string"==typeof s)return t(s,h,f);var y="application/octet-stream"===s.type,Z=/constructor/i.test(d.HTMLElement)||d.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||y&&Z||g)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var L=O.result;L=A?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=L:location=L,p=null},O.readAsDataURL(s)}else{var N=d.URL||d.webkitURL,V=N.createObjectURL(s);p?p.location=V:location.href=V,p=null,setTimeout(function(){N.revokeObjectURL(V)},4e4)}});d.saveAs=i.saveAs=i,I.exports=i})?r.apply(M,[]):r)&&(I.exports=C)}}]);