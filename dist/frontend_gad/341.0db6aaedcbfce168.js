(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[341],{341:(P,Z,i)=>{"use strict";i.r(Z),i.d(Z,{ModelEquipementModule:()=>Qt});var n=i(6814),s=i(676),E=i(8281),d=i(6465),h=i(9207);const m="ModelEquipement",g=(0,s.PH)(`[${m} API] Load All`),b=(0,s.PH)(`[${m} API] Load All Success`,(0,s.Ky)()),T=(0,s.PH)(`[${m} API] Create`,(0,s.Ky)()),a=(0,s.PH)(`[${m} API] Create Success`,(0,s.Ky)()),_=(0,s.PH)(`[${m} API] Load`,(0,s.Ky)()),C=(0,s.PH)(`[${m} API] Load Success`,(0,s.Ky)()),u=(0,s.PH)(`[${m} API] Create Error`,(0,s.Ky)()),y=(0,s.PH)(`[${m} API] Reset Error`),A=(0,s.PH)(`[${m} API] Reset Error Field`,(0,s.Ky)()),F=(0,s.PH)(`[${m} API] Reset`),O=(0,s.PH)(`[${m} API] Delete`,(0,s.Ky)()),k=(0,s.PH)(`[${m} API] Delete Success`,(0,s.Ky)()),c={loadItems:g,loadItemsSuccess:b,resetItem:F,createItem:T,createItemSuccess:a,loadItem:_,loadItemSuccess:C,updateItem:(0,s.PH)(`[${m} API] Update`,(0,s.Ky)()),updateItemSuccess:(0,s.PH)(`[${m} API] Update Success`,(0,s.Ky)()),deleteItem:O,deleteItemSuccess:k,setError:u,resetError:y,resetErrorField:A,loadFormModel:(0,s.PH)(`[${m} API] Load Form Model`),resetFormModel:(0,s.PH)(`[${m} API] Reset Form Model`),loadFormModelSuccess:(0,s.PH)(`[${m} API] Load Form Model Success`,(0,s.Ky)()),resetSearch:(0,s.PH)(`[${m} API] Reset Search`),search:(0,s.PH)(`[${m} API] Search`,(0,s.Ky)()),changePage:(0,s.PH)(`[${m} API] Change Page`,(0,s.Ky)()),changePageSize:(0,s.PH)(`[${m} API] Change Page Size`,(0,s.Ky)()),downloadFile:(0,s.PH)(`[${m} API] Download File`),downloadFileSuccess:(0,s.PH)(`[${m} API] Download File Success`)},fe=(0,s.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,s.on)(c.loadItemsSuccess,(t,l)=>(console.log(l.items),{...t,items:l.items,totalElement:l.totalElement})),(0,s.on)(c.resetItem,(t,l)=>({...t,currentItem:null})),(0,s.on)(c.createItemSuccess,(t,l)=>({...t})),(0,s.on)(c.deleteItemSuccess,(t,l)=>({...t})),(0,s.on)(c.loadItemSuccess,(t,l)=>({...t,currentItem:l.item})),(0,s.on)(c.updateItemSuccess,(t,l)=>({...t})),(0,s.on)(c.loadFormModel,(t,l)=>({...t,formModel:null})),(0,s.on)(c.loadFormModelSuccess,(t,l)=>({...t,formModel:l.formModel})),(0,s.on)(c.resetSearch,(t,l)=>({...t,searchModel:{}})),(0,s.on)(c.search,(t,l)=>({...t,searchModel:l.searchModel})),(0,s.on)(c.changePage,(t,l)=>({...t,page:l.page})),(0,s.on)(c.changePageSize,(t,l)=>({...t,pageSize:l.pageSize})),(0,s.on)(c.setError,(t,l)=>({...t,errors:l.errors})),(0,s.on)(c.resetError,(t,l)=>({...t,errors:null})),(0,s.on)(c.resetErrorField,(t,l)=>{let o={};return null!==t.errors&&Object.entries(t.errors).forEach(([r,p])=>{r!==l.fieldName&&(o[`${r}`]=p)}),{...t,errors:o}})),L=(0,s.ZF)("modelEquipements");var he=i(9862),ge=i(9026),S=i(7398),j=i(1631);const Ce=(0,s.P1)(L,t=>t.items),Ee=(0,s.P1)(L,t=>t.currentItem),Y=(0,s.P1)(L,t=>t.formModel),be=(0,s.P1)(L,t=>t.searchModel),W=(0,s.P1)(L,t=>t.page),V=(0,s.P1)(L,t=>t.pageSize),ve=(0,s.P1)(L,t=>t.totalElement),ye=(0,s.P1)(L,t=>t.errors);var w=i(6328),U=i(6306),R=i(9397),D=i(2096),q=i(6063),Me=i(2460),xe=i(3186),Te=i(4664),Ze=i(217),e=i(9468),qe=i(9989),Ie=i(1946);let X=(()=>{class t extends qe.v{getResourceBasePath(){return`${Ie.y}/model-equipement`}getPrintAll(){return this.http.post(`${this.url}/${this.getResourceBasePath()}/print/all`,{},{observe:"response",responseType:"blob"})}static#e=this.\u0275fac=function(){let o;return function(p){return(o||(o=e.n5z(t)))(p||t)}}();static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var Ae=i(6366),Q=i(797);let De=(()=>{class t{constructor(o,r,p,M,I,z){this.modelEquipementService=o,this.authService=r,this.actions$=p,this.router=M,this.modalService=I,this.store=z,this.loadItems$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.loadItems),(0,Me.M)(this.store.select(W),this.store.select(V),this.store.select(be)),(0,w.b)(([x,v,B,J])=>(console.log(v),this.store.dispatch((0,q.Q)()),(0,ge.$)(this.modelEquipementService.getAllWithPagination(v,B,J),this.modelEquipementService.count(J)).pipe((0,S.U)(([$,Gt])=>(this.store.dispatch((0,q.Z)()),c.loadItemsSuccess({items:$,totalElement:Gt}))),(0,U.K)($=>(this.store.dispatch((0,q.Z)()),(0,D.of)(c.setError({errors:$})))))))),{dispatch:!0}),this.createItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.createItem),(0,w.b)(x=>(this.store.dispatch((0,q.Q)()),this.modelEquipementService.add(x.item).pipe((0,R.b)(()=>{this.store.dispatch((0,q.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Mod\xe8le equipement ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/model-equipement")}),(0,S.U)(v=>c.createItemSuccess({item:v})),(0,U.K)(v=>(this.store.dispatch((0,q.Z)()),(0,D.of)(c.setError({errors:v})))))))),{dispatch:!0}),this.loadItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.loadItem),(0,j.z)(x=>this.modelEquipementService.findById(x.id).pipe((0,S.U)(v=>c.loadItemSuccess({item:v})),(0,U.K)(v=>(this.store.dispatch((0,q.Z)()),(0,D.of)(c.setError({errors:v}))))))),{dispatch:!0}),this.deleteItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.deleteItem),(0,w.b)(x=>this.modelEquipementService.delete(x.item.id,x.item)),(0,R.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Mod\xe8le equipement supprim\xe9 avec succ\xe8s"})}),(0,S.U)(()=>c.loadItems()),(0,U.K)(x=>(this.store.dispatch((0,q.Z)()),(0,D.of)(c.setError({errors:x}))))),{dispatch:!0}),this.updateItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.updateItem),(0,w.b)(x=>(this.store.dispatch((0,q.Q)()),this.modelEquipementService.update(x.id,x.item).pipe((0,R.b)(()=>{this.store.dispatch((0,q.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Mod\xe8le equipement modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/model-equipement")}),(0,S.U)(v=>c.createItemSuccess({item:v})),(0,U.K)(v=>(this.store.dispatch((0,q.Z)()),(0,D.of)(c.setError({errors:v})))))))),{dispatch:!0}),this.downloadFile$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.downloadFile),(0,j.z)(x=>(this.store.dispatch((0,q.Q)()),this.modelEquipementService.getPrintAll().pipe((0,S.U)(v=>{console.log(v),this.store.dispatch((0,q.Z)());let B=v.headers.get("content-disposition")?.split(";")[1].split("=")[1];return(0,Ze.saveAs)(v.body,B),c.loadItems()}),(0,U.K)(v=>(this.store.dispatch((0,q.Z)()),(0,D.of)(c.setError({errors:v})))))))),{dispatch:!0}),this.loadFormModel$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.loadFormModel),(0,w.b)(()=>this.modelEquipementService.getFormModel()),(0,S.U)(x=>c.loadFormModelSuccess({formModel:x})),(0,U.K)(x=>(0,D.of)(c.setError({errors:x}))))),this.resetSearch$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.resetSearch),(0,w.b)(()=>(0,D.of)(c.changePage({page:1}))))),this.search$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.search),(0,w.b)(()=>(0,D.of)(c.changePage({page:1}))))),this.changePage$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.changePage),(0,S.U)(x=>c.loadItems()))),this.changePageSize$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.changePageSize),(0,w.b)(()=>(0,D.of)(c.changePage({page:1}))))),this.handleError$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(c.setError),(0,Te.w)(x=>{if(this.store.dispatch((0,q.Q)()),x.errors instanceof he.UA){if(422===x.errors.status){let v="",B=0;for(const[J,$]of Object.entries(x.errors.error))v+=0===B?$:"\n"+$,B++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:v})}if(403===x.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===x.errors.status){let v="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,q.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:v}),(0,D.of)(xe.jM())}}return this.store.dispatch((0,q.Z)()),(0,D.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(r){return new(r||t)(e.LFG(X),e.LFG(Ae.e),e.LFG(d.eX),e.LFG(E.F0),e.LFG(Q.Z),e.LFG(s.yh))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var f=i(95);let K=(()=>{class t{constructor(){}createForm(o){return new f.cw({libelle:new f.NI(o.libelle,{nonNullable:!0,validators:[f.kI.required]}),description:new f.NI(o.description),makerEquip:new f.NI(o.makerEquip,{nonNullable:!0,validators:[f.kI.required]}),categoryEquip:new f.NI(o.categoryEquip,{nonNullable:!0,validators:[f.kI.required]}),subCategoryEquip:new f.NI(o.subCategoryEquip,{nonNullable:!0,validators:[f.kI.required]}),categoryDetailValues:new f.Oe(this.createCategorieDetailValueForms(o.categoryDetailValues)),utilisateurModification:new f.NI(o.utilisateurModification),utilisateurCreation:new f.NI(o.utilisateurCreation),dateCreation:new f.NI(o.dateCreation),dateDerniereModification:new f.NI(o.dateDerniereModification)})}createCategorieDetailValueForms(o){return o.map(r=>this.createCategorieDetailValueForm(r))}createCategorieDetailValueForm(o){return new f.cw({value:new f.NI(o.value,{nonNullable:!0,validators:[f.kI.required]}),categoryDetail:new f.NI(o.categoryDetail,{nonNullable:!0,validators:[f.kI.required]}),refSys:new f.NI(o.refSys,{})})}createSearchForm(){return new f.cw({libelle:new f.NI("",{nonNullable:!0,validators:[f.kI.required]}),description:new f.NI("",{nonNullable:!0,validators:[f.kI.required]})})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var Pe=i(2572),Fe=i(1227),Se=i(4849),ee=i(3849),Oe=i(7251),Le=i(166),we=i(6327),Ne=i(8564),Ue=i(8223),Be=i(602),$e=i(1469),ke=i(6326),te=i(8346),oe=i(1171),re=i(547),G=i(362);function He(t,l){1&t&&(e.TgZ(0,"th",34),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}function Je(t,l){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.Oqu(o.refSys)}}function Ke(t,l){1&t&&(e.TgZ(0,"th",34),e._uU(1,"Libell\xe9"),e.qZA())}function Ye(t,l){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.Oqu(o.libelle)}}function Re(t,l){1&t&&(e.TgZ(0,"th",34),e._uU(1,"Description"),e.qZA())}function Qe(t,l){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.Oqu(o.description)}}function Ge(t,l){1&t&&(e.TgZ(0,"th",34),e._uU(1,"Cat\xe9gorie"),e.qZA())}function ze(t,l){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.Oqu(o.categoryEquip.libelle)}}function je(t,l){1&t&&(e.TgZ(0,"th",34),e._uU(1,"Fabricant"),e.qZA())}function We(t,l){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.Oqu(o.makerEquip.libelle)}}function Ve(t,l){1&t&&(e.TgZ(0,"th",34),e._uU(1,"Date cr\xe9ation"),e.qZA())}function Xe(t,l){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,o.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function et(t,l){1&t&&(e.TgZ(0,"th",34),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function tt(t,l){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,o.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function ot(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"table",24),e.NdJ("itemSelected",function(p){e.CHM(o);const M=e.oxw(2);return e.KtG(M.itemSelected(p))}),e.ynx(1,25),e.YNc(2,He,2,0,"th",26),e.YNc(3,Je,2,1,"td",27),e.BQk(),e.ynx(4,28),e.YNc(5,Ke,2,0,"th",26),e.YNc(6,Ye,2,1,"td",27),e.BQk(),e.ynx(7,29),e.YNc(8,Re,2,0,"th",26),e.YNc(9,Qe,2,1,"td",27),e.BQk(),e.ynx(10,30),e.YNc(11,Ge,2,0,"th",26),e.YNc(12,ze,2,1,"td",27),e.BQk(),e.ynx(13,31),e.YNc(14,je,2,0,"th",26),e.YNc(15,We,2,1,"td",27),e.BQk(),e.ynx(16,32),e.YNc(17,Ve,2,0,"th",26),e.YNc(18,Xe,3,4,"td",27),e.BQk(),e.ynx(19,33),e.YNc(20,et,2,0,"th",26),e.YNc(21,tt,3,4,"td",27),e.BQk(),e.qZA()}if(2&t){const o=l.ngIf,r=e.oxw(2);e.Q6J("items",o)("headers",r.headerTable)("selectable",!0)}}function rt(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.refreshButtonClicked())})("pageSelected",function(p){e.CHM(o);const M=e.oxw();return e.KtG(M.pageSelected(p))})("pageSizeChange",function(p){e.CHM(o);const M=e.oxw();return e.KtG(M.pageSizeChange(p))})("closeButtonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e.TgZ(7,"div",10)(8,"div",11)(9,"div",6),e._UZ(10,"app-form-label",12),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"app-custom-textfield",13),e.qZA()()(),e.TgZ(13,"div",14)(14,"app-custom-button",15),e.NdJ("buttonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.addButtonClicked())}),e.qZA(),e.TgZ(15,"app-custom-button",16),e.NdJ("buttonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.editButtonClicked())}),e.qZA(),e.TgZ(16,"app-custom-button",17),e.NdJ("buttonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.deleteButtonClicked())}),e.qZA()(),e.TgZ(17,"div",18),e._UZ(18,"app-custom-button",19)(19,"app-custom-button",20),e.TgZ(20,"app-print-button",21),e.NdJ("printButtonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.printButtonClicked())}),e.qZA()(),e.TgZ(21,"div",22),e.YNc(22,ot,22,3,"table",23),e.ALo(23,"async"),e.qZA()()}if(2&t){const o=l.ngIf,r=e.oxw();e.Q6J("itemSelected",r.isItemSelected())("pageSize",o.pageSize)("currentPage",o.page)("totalElements",o.totalElement),e.xp6(1),e.Q6J("formGroup",r.searchForm),e.xp6(6),e.Q6J("formGroup",r.searchForm),e.xp6(8),e.Q6J("disabled",!r.isItemSelected()),e.xp6(1),e.Q6J("disabled",!r.isItemSelected()),e.xp6(6),e.Q6J("ngIf",e.lcZ(23,9,r.items$))}}(0,n.qS)(Fe.Z,"fr-Fr");let it=(()=>{class t{constructor(o,r,p,M){this.router=o,this.modalService=r,this.store=p,this.modelEquipementFormService=M,this.headerTable=["R\xe9f\xe9rence","Lib\xe9ll\xe9","Description","Cat\xe9gorie","Fabricant","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(Ce),this.page$=this.store.select(W),this.pageSize$=this.store.select(V),this.totalElement$=this.store.select(ve),this.data$=(0,Pe.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,S.U)(([I,z,x])=>({page:I,pageSize:z,totalElement:x}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.modelEquipementFormService.createSearchForm(),this.store.dispatch(c.loadItems())}addButtonClicked(){this.router.navigate(["parc-informatique","model-equipement","add"])}editButtonClicked(){const o=this.selectedItem?.id;o&&(this.store.dispatch(c.resetItem()),this.router.navigate(["parc-informatique","model-equipement","edit",o]))}deleteButtonClicked(){const o=this.selectedItem;o&&this.modalService.openComponent(Se.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(r=>{r&&"yes"===r&&this.store.dispatch(c.deleteItem({item:o}))})}itemSelected(o){this.selectedItem=o}pageSelected(o){this.store.dispatch(c.changePage({page:o}))}pageSizeChange(o){this.store.dispatch(c.changePageSize({pageSize:o}))}closeButtonClicked(){this.router.navigate(["parc-informatique"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(c.resetSearch())}searchButtonClicked(){this.store.dispatch(c.search({searchModel:this.searchForm.value}))}printButtonClicked(){this.store.dispatch(c.downloadFile())}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(E.F0),e.Y36(Q.Z),e.Y36(s.yh),e.Y36(K))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-model-equipement-list"]],features:[e._Bn([K,{provide:e.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Mod\xe8le Equipement","pathLevelThree","Liste"],["title","Liste des Mod\xe8les Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Mod\xe8les Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","libelle"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Description"],["placeholder","","otherclass","item-input","formControlName","description"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Importer","url","import.svg"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Lib\xe9ll\xe9"],["appCellDef","Description"],["appCellDef","Cat\xe9gorie"],["appCellDef","Fabricant"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"]],template:function(r,p){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,rt,24,11,"app-crud-list",2),e.ALo(3,"async")),2&r&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,p.data$)))},dependencies:[ee.L,n.O5,f.JJ,f.JL,f.sg,f.u,Oe._,Le.x,we.N,Ne.D,Ue.h,Be.u,$e.O,ke.q,te.W,oe.h,re.Z,G.V,n.Ov,n.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return t})();var nt=i(8819),st=i(9543),lt=i(8145),at=i(1588),ct=i(7435),pt=i(7152),mt=i(3227),ut=i(3846),dt=i(8764),_t=i(8795),ft=i(7426),ht=i(9887);function gt(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1," Libell\xe9 "),e.qZA())}function Ct(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",o.libelle," ")}}function Et(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1," Description "),e.qZA())}function bt(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",o.description," ")}}function vt(t,l){1&t&&(e.TgZ(0,"table",44),e.ynx(1,45),e.YNc(2,gt,2,0,"th",46),e.YNc(3,Ct,2,1,"td",47),e.BQk(),e.ynx(4,48),e.YNc(5,Et,2,0,"th",46),e.YNc(6,bt,2,1,"td",47),e.BQk(),e.qZA())}function yt(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"app-field-error-wrapper",41),e.NdJ("resetField",function(p){e.CHM(o);const M=e.oxw(2);return e.KtG(M.resetBackendError(p))}),e.TgZ(1,"app-item-selection",42),e.YNc(2,vt,7,0,"table",43),e.qZA()()}if(2&t){const o=l.ngIf,r=e.oxw(2);e.Q6J("errors",r.errors),e.xp6(1),e.Q6J("headers",r.marqueSelectItemsHeader)("items",o.makerEquips)("criterias",r.marqueItemCritterias)("itemDescription",r.marqueItemDescription)}}function Mt(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1," Libell\xe9 "),e.qZA())}function xt(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",o.libelle," ")}}function Tt(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1,"Description "),e.qZA())}function Zt(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",o.description," ")}}function qt(t,l){1&t&&(e.TgZ(0,"table",44),e.ynx(1,45),e.YNc(2,Mt,2,0,"th",46),e.YNc(3,xt,2,1,"td",47),e.BQk(),e.ynx(4,48),e.YNc(5,Tt,2,0,"th",46),e.YNc(6,Zt,2,1,"td",47),e.BQk(),e.qZA())}function It(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"app-field-error-wrapper",41),e.NdJ("resetField",function(p){e.CHM(o);const M=e.oxw(2);return e.KtG(M.resetBackendError(p))}),e.TgZ(1,"app-item-selection",51),e.YNc(2,qt,7,0,"table",43),e.qZA()()}if(2&t){const o=l.ngIf,r=e.oxw(2);e.Q6J("errors",r.errors),e.xp6(1),e.Q6J("headers",r.categorieSelectItemsHeader)("items",o.categoryEquips)("criterias",r.categorieItemCritterias)("itemDescription",r.categorieItemDescription)}}function At(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1," Libell\xe9 "),e.qZA())}function Dt(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",o.libelle," ")}}function Pt(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1," Description "),e.qZA())}function Ft(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",o.description," ")}}function St(t,l){1&t&&(e.TgZ(0,"table",44),e.ynx(1,45),e.YNc(2,At,2,0,"th",46),e.YNc(3,Dt,2,1,"td",47),e.BQk(),e.ynx(4,48),e.YNc(5,Pt,2,0,"th",46),e.YNc(6,Ft,2,1,"td",47),e.BQk(),e.qZA())}function Ot(t,l){if(1&t&&(e.TgZ(0,"app-item-selection",52),e.YNc(1,St,7,0,"table",43),e.qZA()),2&t){const o=l.ngIf,r=e.oxw(2);e.Q6J("headers",r.sousCategorieSelectItemsHeader)("items",o.subCategoryEquips)("criterias",r.sousCategorieItemCritterias)("itemDescription",r.sousCategorieItemDescription)}}function Lt(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1,"Libell\xe9 "),e.qZA())}function wt(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",null==o.detailEquip?null:o.detailEquip.libelle," ")}}function Nt(t,l){1&t&&(e.TgZ(0,"th",49),e._uU(1,"Description "),e.qZA())}function Ut(t,l){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",null==o.detailEquip?null:o.detailEquip.description," ")}}function Bt(t,l){1&t&&(e.TgZ(0,"table",44),e.ynx(1,45),e.YNc(2,Lt,2,0,"th",46),e.YNc(3,wt,2,1,"td",47),e.BQk(),e.ynx(4,48),e.YNc(5,Nt,2,0,"th",46),e.YNc(6,Ut,2,1,"td",47),e.BQk(),e.qZA())}function $t(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"app-field-error-wrapper",19),e.NdJ("resetField",function(p){e.CHM(o);const M=e.oxw(3);return e.KtG(M.resetBackendError(p))}),e.TgZ(1,"app-item-selection",62),e.YNc(2,Bt,7,0,"table",43),e.qZA()()}if(2&t){const o=e.oxw(3);e.Q6J("errors",o.errors),e.xp6(1),e.Q6J("headers",o.categorieDetailSelectItemsHeader)("items",o.categorieDetails)("criterias",o.categorieDetailItemCritterias)("itemDescription",o.categorieDetailItemDescription)}}function kt(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"div",6),e._UZ(3,"app-form-label",55),e.YNc(4,$t,3,5,"app-field-error-wrapper",56),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"div",57),e._UZ(7,"app-form-label",58),e.TgZ(8,"div",8)(9,"app-field-error-wrapper",19),e.NdJ("resetField",function(p){e.CHM(o);const M=e.oxw(2);return e.KtG(M.resetBackendError(p))}),e._UZ(10,"app-custom-textfield",59),e.qZA()()(),e.TgZ(11,"div",60)(12,"app-primary-button",61),e.NdJ("buttonClicked",function(){const M=e.CHM(o).index,I=e.oxw(2);return e.KtG(I.remove(M))}),e.qZA()()()()}if(2&t){const o=l.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("formGroup",o),e.xp6(3),e.Q6J("ngIf",e.lcZ(5,3,r.formModel$)),e.xp6(5),e.Q6J("errors",r.errors)}}function Ht(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"app-panel-custom",4)(3,"div",5)(4,"div",6),e._UZ(5,"app-form-label",7),e.TgZ(6,"div",8),e._UZ(7,"app-custom-textfield",9),e.qZA()(),e.TgZ(8,"div",6),e._UZ(9,"app-form-label",10),e.TgZ(10,"div",8),e._UZ(11,"app-custom-textfield",11),e.qZA()()(),e.TgZ(12,"div",5)(13,"div",6),e._UZ(14,"app-form-label",12),e.TgZ(15,"div",8),e._UZ(16,"app-custom-textfield",13),e.qZA()(),e.TgZ(17,"div",6),e._UZ(18,"app-form-label",14),e.TgZ(19,"div",8),e._UZ(20,"app-custom-textfield",15),e.qZA()()()(),e.TgZ(21,"app-panel-custom",16)(22,"div",5)(23,"div",17),e._UZ(24,"app-form-label",18),e.TgZ(25,"div",8)(26,"app-field-error-wrapper",19),e.NdJ("resetField",function(p){e.CHM(o);const M=e.oxw();return e.KtG(M.resetBackendError(p))}),e._UZ(27,"app-custom-textfield",20),e.qZA()()(),e.TgZ(28,"div",17),e._UZ(29,"app-form-label",21),e.YNc(30,yt,3,5,"app-field-error-wrapper",22),e.ALo(31,"async"),e.qZA()(),e.TgZ(32,"div",5)(33,"div",23),e._UZ(34,"app-form-label",24),e.TgZ(35,"div",8),e._UZ(36,"textarea",25),e.qZA()(),e.TgZ(37,"div",26)(38,"div",27),e._UZ(39,"app-form-label",28),e.YNc(40,It,3,5,"app-field-error-wrapper",22),e.ALo(41,"async"),e.qZA(),e.TgZ(42,"div",29),e._UZ(43,"app-form-label",30),e.YNc(44,Ot,2,4,"app-item-selection",31),e.ALo(45,"async"),e.qZA()()(),e.TgZ(46,"div",5)(47,"div",32)(48,"div",33)(49,"h6",34),e._uU(50,"Liste des valeurs des Cat\xe9gories d\xe9tails"),e.qZA(),e.TgZ(51,"app-primary-button",35),e.NdJ("buttonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.addCategoryDetailValues())}),e.qZA()(),e._UZ(52,"hr",36),e.YNc(53,kt,13,5,"div",37),e.qZA()()(),e.TgZ(54,"div",38)(55,"app-primary-button",39),e.NdJ("buttonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.submitForm())}),e.qZA(),e.TgZ(56,"app-cancel-button",40),e.NdJ("buttonClicked",function(){e.CHM(o);const p=e.oxw();return e.KtG(p.returnToList())}),e.qZA()()()()}if(2&t){const o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(6),e.Q6J("errors",o.errors),e.xp6(4),e.Q6J("ngIf",e.lcZ(31,10,o.formModel$)),e.xp6(10),e.Q6J("ngIf",e.lcZ(41,12,o.formModel$)),e.xp6(4),e.Q6J("ngIf",e.lcZ(45,14,o.formModel$)),e.xp6(9),e.Q6J("ngForOf",o.categoryDetailValues.controls)}}let ie=(()=>{class t{constructor(o,r,p,M){this.formService=o,this.modalService=r,this.router=p,this.store=M,this.formModel$=this.store.select(Y),this.selectedCategory=null,this.selectedSubCategory=null,this.errors=null,this.formSubmitted=new e.vpe,this.categorieSelectItemsHeader=["Lib\xe9ll\xe9","Description"],this.categorieItemDescription=I=>I.libelle,this.categorieItemCritterias={libelle:"Lib\xe9ll\xe9",description:"Description"},this.marqueSelectItemsHeader=["Lib\xe9ll\xe9","Description"],this.marqueItemDescription=I=>I.libelle,this.marqueItemCritterias={libelle:"Lib\xe9ll\xe9",description:"Description"},this.sousCategorieSelectItemsHeader=["Lib\xe9ll\xe9","Description"],this.sousCategorieItemDescription=I=>I.libelle,this.sousCategorieItemCritterias={libelle:"Lib\xe9ll\xe9",description:"Description"},this.categorieDetailSelectItemsHeader=["Lib\xe9ll\xe9","Description"],this.categorieDetailItemDescription=I=>null!==I.detailEquip?I.detailEquip.libelle:"",this.categorieDetailItemCritterias={}}ngOnInit(){this.store.dispatch(c.loadFormModel()),this.store.select(ye).subscribe(o=>{this.errors=o}),this.store.dispatch(c.resetError()),this.form=this.formService.createForm(this.modelEquipement),this.form.get("categoryEquip")?.valueChanges.subscribe(o=>{this.selectedCategory=o,this.categoryDetailValues.length>0&&this.categoryDetailValues.removeAt(0)}),this.form.get("subCategoryEquip")?.valueChanges.subscribe(o=>{this.selectedSubCategory=o,this.categoryDetailValues.length>0&&this.categoryDetailValues.removeAt(0)})}ngOnDestroy(){}get categorieDetails(){const o=[];return null!==this.selectedCategory&&(console.log(this.selectedCategory.categoryDetails),this.selectedCategory.categoryDetails.forEach(r=>{o.push(r)})),null!==this.selectedSubCategory&&this.selectedSubCategory.categoryDetails.forEach(r=>{o.push(r)}),console.log(o),o}get categoryDetailValues(){return this.form.get("categoryDetailValues")}addCategoryDetailValues(){this.categoryDetailValues.push(new f.cw({value:new f.NI("",{nonNullable:!0,validators:[f.kI.required]}),categoryDetail:new f.NI(null,{nonNullable:!0,validators:[f.kI.required]}),refSys:new f.NI(null,{})}))}remove(o){console.log(o),this.categoryDetailValues.removeAt(o)}submitForm(){this.formSubmitted.emit(this.form.getRawValue())}returnToList(){this.router.navigateByUrl("parc-informatique/model-equipement")}resetBackendError(o){this.store.dispatch(c.resetErrorField({fieldName:o}))}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(K),e.Y36(Q.Z),e.Y36(E.F0),e.Y36(s.yh))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-model-equipement-form"]],inputs:{modelEquipement:"modelEquipement"},outputs:{formSubmitted:"formSubmitted"},features:[e._Bn([K])],decls:2,vars:1,consts:[[1,"pe-3","ps-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-4"],["title","Date Cr\xe9ation",1,"col-5","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],["title","Cr\xe9\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"col-5","text-end"],["otherclass","custom-style-form","formControlName","dateDerniereModification","placeholder","",3,"readonly"],["title","Modifi\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","title","Informations g\xe9n\xe9rales"],[1,"input-container","col-5"],["title","Libell\xe9",1,"col-4","text-end"],[3,"errors","resetField"],["otherclass","custom-style-form","placeholder","","formControlName","libelle"],["title","Marque",1,"mr-1","col-5","text-end"],["class","col",3,"errors","resetField",4,"ngIf"],[1,"input-container","col-5","align-items-center"],["title","Description",1,"col-4","text-end"],["placeholder","","formControlName","description",1,"custom-style-textarea"],[1,"input-container","col-5","flex-column"],[1,"input-container","col-12","d-flex"],["title","Cat\xe9gorie",1,"col-5","text-end"],[1,"input-container","col-12","d-flex","ms-0","mt-2"],["title","Sous-Cat\xe9gorie",1,"col-5","text-end"],["otherclass","custom-style-item-selection-form col","formControlName","subCategoryEquip",3,"headers","items","criterias","itemDescription",4,"ngIf"],["formArrayName","categoryDetailValues",1,"col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-success","me-auto"],["title","Ajouter",3,"buttonClicked"],[1,"mt-1"],["class","p-0",4,"ngFor","ngForOf"],[1,"form-actions"],["title","Enregistrer",1,"me-1",3,"buttonClicked"],["title","Annuler","otherclass","custom-cancel-button",3,"buttonClicked"],[1,"col",3,"errors","resetField"],["otherclass","custom-style-item-selection-form col","formControlName","makerEquip",1,"ml-2",3,"headers","items","criterias","itemDescription"],["app-item-selection-template-attribute","",4,"appItemSelectionTemplate"],["app-item-selection-template-attribute",""],["appItemSelectionCellDef","Lib\xe9ll\xe9"],["app-item-selection-header-def-template","","class","custom-head",4,"appItemSelectionHeaderDefTemplate"],["app-item-selection-cell-def-template","","class","custom-head",4,"appItemSelectionCellDefTemplate"],["appItemSelectionCellDef","Description"],["app-item-selection-header-def-template","",1,"custom-head"],["app-item-selection-cell-def-template","",1,"custom-head"],["otherclass","custom-style-item-selection-form col","formControlName","categoryEquip",3,"headers","items","criterias","itemDescription"],["otherclass","custom-style-item-selection-form col","formControlName","subCategoryEquip",3,"headers","items","criterias","itemDescription"],[1,"p-0"],[1,"d-flex","general-info",3,"formGroup"],["title","Cat\xe9gorie D\xe9tail",1,"mr-1","col-5","text-end"],[3,"errors","resetField",4,"ngIf"],[1,"input-container","col-4","d-flex","align-items-center"],["title","Valeur",1,"col-5","text-end","mr-1"],["otherclass","custom-style-form","placeholder","","formControlName","value"],[1,"input-container","col-1"],["title","Retirer","otherclass","custom-button-remove",3,"buttonClicked"],["otherclass","custom-style-item-selection-form col","formControlName","categoryDetail",3,"headers","items","criterias","itemDescription"]],template:function(r,p){1&r&&(e.TgZ(0,"div",0),e.YNc(1,Ht,57,16,"form",1),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngIf",p.form))},dependencies:[n.sg,n.O5,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,f.CE,nt.F,te.W,oe.h,st.C,lt.K,at.o,ct.o,pt.P,mt.F,ut.e,dt.T,_t.k,re.Z,ft.p,ht.l,n.Ov],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0}.input-container[_ngcontent-%COMP%]{display:flex}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%] + .input-container[_ngcontent-%COMP%]{margin-left:32px}.input-textfield-container[_ngcontent-%COMP%]{width:250px;margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return t})(),Jt=(()=>{class t{constructor(o){this.store=o,this.formModel$=this.store.select(Y),this.modelEquipementDto={id:"",libelle:"",description:"",categoryEquip:null,makerEquip:null,subCategoryEquip:null,categoryDetailValues:[],dateDerniereModification:null,dateCreation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(c.resetItem()),this.store.dispatch(c.resetFormModel())}addModelEquipement(o){this.store.dispatch(c.createItem({item:{libelle:o.libelle,description:o.description,categoryEquip:o.categoryEquip,makerEquip:o.makerEquip,subCategoryEquip:o.subCategoryEquip,categoryDetailValues:o.categoryDetailValues}}))}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(s.yh))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-model-equipement-add"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Mod\xe8le Equipement","pathLevelThree","Ajouter"],[3,"modelEquipement","formSubmitted"]],template:function(r,p){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.TgZ(2,"app-model-equipement-form",2),e.NdJ("formSubmitted",function(I){return p.addModelEquipement(I)}),e.qZA()),2&r&&(e.xp6(2),e.Q6J("modelEquipement",p.modelEquipementDto))},dependencies:[G.V,ie],styles:["[_nghost-%COMP%]{width:100%}"]})}return t})();var Kt=i(7394);function Yt(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"app-model-equipement-form",3),e.NdJ("formSubmitted",function(p){e.CHM(o);const M=e.oxw();return e.KtG(M.editModelEquipement(p))}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("modelEquipement",o.modelEquipementDto)}}const Rt=[{path:"",component:it,pathMatch:"prefix"},{path:"add",component:Jt,pathMatch:"prefix"},{path:"edit/:id",component:(()=>{class t{constructor(o,r){this.store=o,this.route=r,this.formModel$=this.store.select(Y),this.modelEquipement$=this.store.select(Ee),this.modelEquipementDto=null,this.subscription=new Kt.w0}ngOnInit(){this.store.dispatch(c.resetFormModel()),this.subscription=this.route.params.subscribe(o=>{this.id=o.id,this.id&&this.store.dispatch(c.loadItem({id:this.id}))}),this.modelEquipement$.subscribe(o=>{null!==o&&(this.modelEquipementDto={id:o.id,libelle:o.libelle,description:o.description,categoryEquip:null===o.categoryEquip?null:o.categoryEquip,makerEquip:null===o.makerEquip?null:o.makerEquip,subCategoryEquip:null===o.subCategoryEquip?null:o.subCategoryEquip,categoryDetailValues:o.categoryDetailValues?o.categoryDetailValues:[],dateDerniereModification:null===o.dateDerniereModification?"":this.formatDate(o.dateDerniereModification),dateCreation:null===o.dateCreation?"":this.formatDate(o.dateCreation),utilisateurCreation:o.utilisateurCreation,utilisateurModification:o.utilisateurModification})})}formatDate(o){if(o){const r=new Date(o);return r.toLocaleDateString()+" \xe0 "+r.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}editModelEquipement(o){this.store.dispatch(c.updateItem({id:this.id,item:{id:o.id,libelle:o.libelle,description:o.description,makerEquip:o.makerEquip,categoryEquip:o.categoryEquip,subCategoryEquip:o.subCategoryEquip,categoryDetailValues:o.categoryDetailValues}}))}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(s.yh),e.Y36(E.gz))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-model-equipement-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Mod\xe8le Equipement","pathLevelThree","Editer"],[3,"modelEquipement","formSubmitted",4,"ngIf"],[3,"modelEquipement","formSubmitted"]],template:function(r,p){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Yt,1,1,"app-model-equipement-form",2)),2&r&&(e.xp6(2),e.Q6J("ngIf",p.modelEquipementDto))},dependencies:[n.O5,G.V,ie],styles:["[_nghost-%COMP%]{width:100%}"]})}return t})(),pathMatch:"prefix"}];let Qt=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({providers:[X],imports:[ee.L,n.ez,s.Aw.forFeature("modelEquipements",fe),d.sQ.forFeature(De),h.m,E.Bz.forChild(Rt)]})}return t})()},4849:(P,Z,i)=>{"use strict";i.d(Z,{n:()=>g});var n=i(1892),s=i(6814),E=i(8666),d=i(2463),h=i(9468),m=i(166);let g=(()=>{class b{constructor(a,_){this.modalData=a,this.modalRef=_}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#e=this.\u0275fac=function(_){return new(_||b)(h.Y36(n.S),h.Y36(n.R))};static#t=this.\u0275cmp=h.Xpm({type:b,selectors:[["app-confirm-alert"]],standalone:!0,features:[h.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(_,C){1&_&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),h._uU(3,"Confirmation de Suppression"),h.qZA()()(),h.TgZ(4,"div",3)(5,"div",4)(6,"div",5),h._UZ(7,"img",6),h.qZA(),h.TgZ(8,"div",7),h._uU(9," Voulez-vous vraiment effectuer cette action ? "),h.qZA()(),h.TgZ(10,"div",8)(11,"app-custom-button",9),h.NdJ("buttonClicked",function(){return C.confirmAction()}),h.qZA(),h.TgZ(12,"app-custom-button",10),h.NdJ("buttonClicked",function(){return C.close()}),h.qZA()()())},dependencies:[s.ez,E.a,d.v,m.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return b})()},8346:(P,Z,i)=>{"use strict";i.d(Z,{W:()=>d});var n=i(9468),s=i(95),E=i(7394);let d=(()=>{class h{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new E.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new s.NI}writeValue(g){this.control.setValue(g)}registerOnChange(g){this.onChange=g}registerOnTouched(g){this.onTouched=g}setDisabledState(g){this.disabled=g,g?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(g=>{this.onChange(g)})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(b){return new(b||h)};static#t=this.\u0275cmp=n.Xpm({type:h,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[n._Bn([{provide:s.JU,useExisting:(0,n.Gpc)(()=>h),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(b,T){1&b&&n._UZ(0,"input",0),2&b&&(n.Gre("custom-text-field m-0 form-control-sm ",T.otherclass,""),n.s9C("placeholder",T.placeholder),n.Q6J("type",T.type)("formControl",T.control)("readonly",T.readonly))},dependencies:[s.Fj,s.JJ,s.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return h})()},1171:(P,Z,i)=>{"use strict";i.d(Z,{h:()=>s});var n=i(9468);let s=(()=>{class E{constructor(){this.title="",this.class=""}static#e=this.\u0275fac=function(m){return new(m||E)};static#t=this.\u0275cmp=n.Xpm({type:E,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(m,g){1&m&&(n.TgZ(0,"label"),n._uU(1),n.qZA()),2&m&&(n.Tol(g.class),n.xp6(1),n.Oqu(g.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return E})()},9887:(P,Z,i)=>{"use strict";i.d(Z,{l:()=>g});var n=i(9468),s=i(6814);function E(b,T){if(1&b&&(n.TgZ(0,"h5",3),n._UZ(1,"span"),n._uU(2),n.Hsn(3,1),n.qZA()),2&b){const a=n.oxw();n.xp6(1),n.Tol(a.icon),n.xp6(1),n.hij(" ",a.title," ")}}function d(b,T){1&b&&n._UZ(0,"hr",4)}const h=["*",[["",8,"button-head"]]],m=["*",".button-head"];let g=(()=>{class b{constructor(){this.title="",this.icon="",this.background="white",this.otherclass=""}static#e=this.\u0275fac=function(_){return new(_||b)};static#t=this.\u0275cmp=n.Xpm({type:b,selectors:[["app-panel-custom"]],inputs:{title:"title",icon:"icon",background:"background",otherclass:"otherclass"},ngContentSelectors:m,decls:5,vars:6,consts:[["class","title-panel-custom mb-1",4,"ngIf"],["class","mt-0",4,"ngIf"],[1,"panel-custom-body"],[1,"title-panel-custom","mb-1"],[1,"mt-0"]],template:function(_,C){1&_&&(n.F$t(h),n.TgZ(0,"div"),n.YNc(1,E,4,4,"h5",0),n.YNc(2,d,1,0,"hr",1),n.TgZ(3,"div",2),n.Hsn(4),n.qZA()()),2&_&&(n.MT6("panel-custom ",C.background," ",C.otherclass,""),n.xp6(1),n.Q6J("ngIf",C.title),n.xp6(1),n.Q6J("ngIf",C.title))},dependencies:[s.O5],styles:[".panel-custom[_ngcontent-%COMP%]{border:1px solid #c7c5c6;padding:15px;margin-bottom:3px}.title-panel-custom[_ngcontent-%COMP%]{display:flex;align-items:center;color:#045a5e;font-size:15px;font-family:aileronbold}.title-panel-custom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#46ad7e;margin-right:5px}"]})}return b})()},9543:(P,Z,i)=>{"use strict";i.d(Z,{C:()=>s});var n=i(9468);let s=(()=>{class E{constructor(){this.otherclass="",this.disabled=!1,this.buttonClicked=new n.vpe}emitButtonClicked(h){h.preventDefault(),this.buttonClicked.emit()}static#e=this.\u0275fac=function(m){return new(m||E)};static#t=this.\u0275cmp=n.Xpm({type:E,selectors:[["app-primary-button"]],inputs:{title:"title",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(m,g){1&m&&(n.TgZ(0,"button",0),n.NdJ("click",function(T){return g.emitButtonClicked(T)}),n._uU(1),n.qZA()),2&m&&(n.Gre("primary-button ",g.otherclass,""),n.Q6J("disabled",g.disabled),n.xp6(1),n.hij(" ",g.title,"\n"))},styles:[".primary-button[_ngcontent-%COMP%]{color:#fff;border:1px solid #1EA860;background-color:#1ea860;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:30px;padding:.75rem 1rem;border-radius:6px}.primary-button[_ngcontent-%COMP%]:hover{background-color:#2da899;border:1px solid #2DA899}.primary-button[_ngcontent-%COMP%]:disabled{color:#fff;border:1px solid #3d4957;background-color:#3d4957;min-width:80px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:24px;opacity:.7;padding:.75rem 0rem}"]})}return E})()},3849:(P,Z,i)=>{"use strict";i.d(Z,{L:()=>h});var n=i(9468),s=i(2463),E=i(6814),d=i(166);let h=(()=>{class m{constructor(){this.printButtonClicked=new n.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(T){return new(T||m)};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[n.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(T,a){1&T&&(n.TgZ(0,"app-custom-button",0),n.NdJ("buttonClicked",function(){return a.emitPrintButtonClicked()}),n.qZA())},dependencies:[E.ez,s.v,d.x],styles:["[_nghost-%COMP%]{display:block}"]})}return m})()},7426:(P,Z,i)=>{"use strict";i.d(Z,{p:()=>T});var n=i(9468),s=i(547);const E={required:a=>"Ce champ est obligatoire",minlength:({requiredLength:a})=>`La valeur entr\xe9e doit avoir au minimum ${a} ${a>1?"caract\xe8res":"caract\xe8re"}`,maxlength:({requiredLength:a})=>`La valeur entr\xe9e doit avoir au maximum ${a} ${a>1?"caract\xe8res":"caract\xe8re"}`,actionsLength:a=>"Au moins une action doit \xeatre associ\xe9e au groupe utilisateur",problemeInvalide:a=>"Erreur sur le champ Probl\xe8me",impactInvalide:a=>"Erreur sur le champ Impact",gestionnaireInvalide:a=>"Erreur sur le champ Gestionnaire",demandeurInvalide:a=>"Erreur sur le champ Demandeur",categorieInvalide:a=>"Erreur sur le champ Cat\xe9gorie"};var d=i(8645),h=i(9773),m=i(6814);function g(a,_){if(1&a&&(n.TgZ(0,"div",1),n._uU(1),n.qZA()),2&a){const C=n.oxw();n.xp6(1),n.Oqu(C.errorMessage)}}const b=["*"];let T=(()=>{class a{constructor(){this.errors=null,this.resetField=new n.vpe,this.destoy$=new d.x}ngOnInit(){if(!this.myDirective)throw new Error("MyInputDirective is required!")}ngAfterViewInit(){this.myDirective&&this.myDirective.ngControl.valueChanges?.pipe((0,h.R)(this.destoy$)).subscribe(C=>{const u=this.myDirective.ngControl.control?this.getControlName(this.myDirective.ngControl.control):"";"string"==typeof u&&this.resetField.emit(u)})}ngOnDestroy(){this.destoy$.next(null),this.destoy$.complete()}get errorMessage(){let C=this.getExternErrorMessage();return null===C&&(C=this.getLocalErrorMessage()),C}getExternErrorMessage(){let C=null;return this.errors&&Object.entries(this.errors).forEach(([u,y])=>{u===(this.myDirective.ngControl.control?this.getControlName(this.myDirective.ngControl.control):"")&&(C=y)}),C}getLocalErrorMessage(){const C=this.myDirective?.ngControl.control?.errors;if(C){const u=Object.entries(C||{});if(!u.length)return null;const[y,A]=u[0];let F=null;return Object.entries(E).forEach(([O,k])=>{O===y&&this.myDirective?.ngControl.control?.dirty&&(F=E[O](A))}),F}return null}getControlName(C){let u=C.parent;if(!u)return null;let y="";return Object.keys(u.controls).forEach(A=>{u.get(A)===C&&(y=A)}),y}static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275cmp=n.Xpm({type:a,selectors:[["app-field-error-wrapper"]],contentQueries:function(u,y,A){if(1&u&&n.Suo(A,s.Z,7),2&u){let F;n.iGM(F=n.CRH())&&(y.myDirective=F.first)}},inputs:{errors:"errors"},outputs:{resetField:"resetField"},ngContentSelectors:b,decls:2,vars:1,consts:[["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(u,y){1&u&&(n.F$t(),n.Hsn(0),n.YNc(1,g,2,1,"div",0)),2&u&&(n.xp6(1),n.Q6J("ngIf",y.errorMessage))},dependencies:[m.O5],styles:[".error-message[_ngcontent-%COMP%]{color:red;font-size:.75rem}"]})}return a})()},547:(P,Z,i)=>{"use strict";i.d(Z,{Z:()=>E});var n=i(9468),s=i(95);let E=(()=>{class d{constructor(m){this.ngControl=m}static#e=this.\u0275fac=function(g){return new(g||d)(n.Y36(s.a5,10))};static#t=this.\u0275dir=n.lG2({type:d,selectors:[["","formControl",""],["","formControlName",""]]})}return d})()},217:function(P,Z){var i,s;void 0!==(s="function"==typeof(i=function(){"use strict";function d(a,_,C){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){T(u.response,_,C)},u.onerror=function(){console.error("could not download file")},u.send()}function h(a){var _=new XMLHttpRequest;_.open("HEAD",a,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function m(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(_)}}var g="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,b=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),T=g.saveAs||("object"!=typeof window||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(a,_,C){var u=g.URL||g.webkitURL,y=document.createElement("a");y.download=_=_||a.name||"download",y.rel="noopener","string"==typeof a?(y.href=a,y.origin===location.origin?m(y):h(y.href)?d(a,_,C):m(y,y.target="_blank")):(y.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(y.href)},4e4),setTimeout(function(){m(y)},0))}:"msSaveOrOpenBlob"in navigator?function(a,_,C){if(_=_||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(function E(a,_){return typeof _>"u"?_={autoBom:!1}:"object"!=typeof _&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}(a,C),_);else if(h(a))d(a,_,C);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){m(u)})}}:function(a,_,C,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof a)return d(a,_,C);var y="application/octet-stream"===a.type,A=/constructor/i.test(g.HTMLElement)||g.safari,F=/CriOS\/[\d]+/.test(navigator.userAgent);if((F||y&&A||b)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var N=O.result;N=F?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=N:location=N,u=null},O.readAsDataURL(a)}else{var k=g.URL||g.webkitURL,H=k.createObjectURL(a);u?u.location=H:location.href=H,u=null,setTimeout(function(){k.revokeObjectURL(H)},4e4)}});g.saveAs=T.saveAs=T,P.exports=T})?i.apply(Z,[]):i)&&(P.exports=s)}}]);