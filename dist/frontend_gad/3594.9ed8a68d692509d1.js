"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[3594],{3396:(S,g,n)=>{n.d(g,{B:()=>h});var t=n(6814),m=n(9207),f=n(9468);let h=(()=>{class c{static#e=this.\u0275fac=function(o){return new(o||c)};static#t=this.\u0275mod=f.oAB({type:c});static#r=this.\u0275inj=f.cJS({imports:[t.ez,m.m]})}return c})()},5779:(S,g,n)=>{n.d(g,{P:()=>f});var t=n(95),m=n(9468);let f=(()=>{class h{constructor(){}createFormActionSuggeree(p){return new t.cw({id:new t.NI(this.getActionSuggereeId(p),{nonNullable:!0,validators:[t.kI.required]}),libelle:new t.NI(this.getActionSuggereeLibelle(p),{nonNullable:!0,validators:[t.kI.required]}),statut:new t.NI(this.getActionSuggereeStatut(p),{nonNullable:!0,validators:[t.kI.required]}),description:new t.NI(this.getActionSuggereeDescription(p),{}),refSys:new t.NI(this.getActionSuggereeRefSys(p),{})})}createFormNewActionSuggeree(){return new t.cw({id:new t.NI("",{nonNullable:!0,validators:[t.kI.required]}),libelle:new t.NI("",{nonNullable:!0,validators:[t.kI.required]}),statut:new t.NI(null,{nonNullable:!0,validators:[t.kI.required]}),description:new t.NI("",{}),refSys:new t.NI("",{})})}getActionSuggereeId(p){return null!==p?p.id:0}getActionSuggereeLibelle(p){return null!==p?p.libelle:""}getActionSuggereeStatut(p){return null!==p?p.statut:null}getActionSuggereeDescription(p){return null!==p?p.description:""}getActionSuggereeRefSys(p){return null!==p?p.refSys:""}static#e=this.\u0275fac=function(s){return new(s||h)};static#t=this.\u0275prov=m.Yz7({token:h,factory:h.\u0275fac})}return h})()},4970:(S,g,n)=>{n.d(g,{W:()=>h});var t=n(95),m=n(9468),f=n(5779);let h=(()=>{class c{constructor(s){this.actionSuggereeFormService=s}createFormEtape(s){return new t.cw({id:new t.NI(this.getEtapeId(s),{nonNullable:!0,validators:[t.kI.required]}),numeroEtape:new t.NI(this.getEtapeNumeroEtape(s),{nonNullable:!0,validators:[t.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormActionSuggeree(this.getEtapeActionSuggeree(s)),refSys:new t.NI(this.getEtapeRefSys(s),{})})}createFormNewEtape(){return new t.cw({id:new t.NI("",{nonNullable:!0,validators:[t.kI.required]}),numeroEtape:new t.NI(0,{nonNullable:!0,validators:[t.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormNewActionSuggeree(),refSys:new t.NI("",{})})}getEtapeId(s){return null!==s?s.id:""}getEtapeRefSys(s){return null!==s?s.refSys:""}getEtapeNumeroEtape(s){return null!==s?s.numeroEtape:0}getEtapeActionSuggeree(s){return null!==s?s.actionSuggere:null}static#e=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.P))};static#t=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},1793:(S,g,n)=>{n.d(g,{K:()=>V});var t=n(6814),m=n(9207),f=n(2984),h=n(676),c=n(198);const s=(0,h.Lq)({savedFile:null,errors:null},(0,h.on)(c.NY.importFileSuccess,(E,R)=>({...E,savedFile:R.fileUploadResult})),(0,h.on)(c.NY.resetErrorField,(E,R)=>{let F={};return null!==E.errors&&Object.entries(E.errors).forEach(([N,$])=>{N!==R.fieldName&&(F[`${N}`]=$)}),{...E,errors:F}}));(0,h.ZF)("file-imports");var i=n(6465),O=n(6063),U=n(7398),x=n(6306),z=n(8504),H=n(7634),D=n(9468),Y=n(8281),Q=n(797);let J=(()=>{class E{constructor(F,N,$,j,X){this.fileService=F,this.actions$=N,this.router=$,this.modalService=j,this.store=X,this.importFile$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(c.NY.importFile),(0,H.z)(K=>(this.store.dispatch((0,O.Q)()),this.fileService.import(K.filePath).pipe((0,U.U)(b=>(console.log(b),this.store.dispatch((0,O.Z)()),c.NY.importFileSuccess({fileUploadResult:b,id:K.id}))),(0,x.K)(b=>(console.log(b),(0,z._)(()=>b))))))),{dispatch:!0})}static#e=this.\u0275fac=function(N){return new(N||E)(D.LFG(f.I),D.LFG(i.eX),D.LFG(Y.F0),D.LFG(Q.Z),D.LFG(h.yh))};static#t=this.\u0275prov=D.Yz7({token:E,factory:E.\u0275fac})}return E})(),V=(()=>{class E{static#e=this.\u0275fac=function(N){return new(N||E)};static#t=this.\u0275mod=D.oAB({type:E});static#r=this.\u0275inj=D.cJS({providers:[f.I],imports:[t.ez,m.m,h.Aw.forFeature("file-imports",s),i.sQ.forFeature(J)]})}return E})()},2984:(S,g,n)=>{n.d(g,{I:()=>h});var t=n(1946),m=n(9468),f=n(9862);let h=(()=>{class c{constructor(s){this.http=s,this.url="http://192.168.1.120:8080/source_file_service-impl-1.0-SNAPSHOT/api",this.resourceBasePath="items-file"}getResourceBasePath(){return`${t.y}/incident`}import(s){const o=new FormData;return o.append("file",s),this.http.post(`${this.url}/${this.resourceBasePath}/upload`,o)}static#e=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.eN))};static#t=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},198:(S,g,n)=>{n.d(g,{NY:()=>o});var t=n(676);const m="FileUpload",o={importFile:(0,t.PH)(`[${m} API] Import File`,(0,t.Ky)()),importFileSuccess:(0,t.PH)(`[${m} API] Import File Success`,(0,t.Ky)()),setError:(0,t.PH)(`[${m} API] Create Error`,(0,t.Ky)()),resetError:(0,t.PH)(`[${m} API] Reset Error`),resetErrorField:(0,t.PH)(`[${m} API] Reset Error Field`,(0,t.Ky)())}},8510:(S,g,n)=>{n.d(g,{Y:()=>o});var t=n(6814),m=n(9207),f=n(2030),h=n(3396),c=n(1793),p=n(9468);let s=(()=>{class i{static#e=this.\u0275fac=function(x){return new(x||i)};static#t=this.\u0275mod=p.oAB({type:i});static#r=this.\u0275inj=p.cJS({imports:[t.ez,m.m]})}return i})(),o=(()=>{class i{static#e=this.\u0275fac=function(x){return new(x||i)};static#t=this.\u0275mod=p.oAB({type:i});static#r=this.\u0275inj=p.cJS({imports:[t.ez,m.m,f.h,s,h.B,c.K]})}return i})()},3096:(S,g,n)=>{n.d(g,{X:()=>h});var t=n(95),m=n(9468),f=n(3975);let h=(()=>{class c{constructor(s){this.solutionFormService=s}createForm(s,o,i){return this.currentIncident=i,this.currentOperationType=s,this.currentRoleIncident=o,console.log("Create Form : "+this.currentRoleIncident),new t.cw({titre:new t.NI(i.titre,{nonNullable:!0,validators:[t.kI.required]}),description:new t.NI(i.description,{nonNullable:!0,validators:[t.kI.required]}),equipement:new t.NI(i.equipement,{nonNullable:!0,validators:[t.kI.required]}),groupeEquipement:new t.NI(i.groupeEquipement),categorieEquipement:new t.NI(i.categorieEquipement),sousCategorieEquipement:new t.NI(i.sousCategorieEquipement),libelleEquipement:new t.NI(i.libelleEquipement),numeroSerie:new t.NI(i.numeroSerie),refSys:new t.NI(i.refSys),etapeIncident:new t.NI(i.etapeIncident),prioriteIncident:new t.NI(i.prioriteIncident,{}),typeIncident:new t.NI(i.typeIncident,{nonNullable:!0,validators:[t.kI.required]}),probleme:new t.NI(i.probleme,{nonNullable:"USER"!==this.currentRoleIncident,validators:[this.problemeValidator.bind(this)]}),impact:new t.NI(i.impact,{validators:[this.impactValidator.bind(this)]}),categorieIncident:new t.NI(i.categorieIncident,{validators:[this.categorieValidator.bind(this)]}),firstName:new t.NI(i.firstName),lastName:new t.NI(i.lastName),userName:new t.NI(i.userName),demandeur:new t.NI(i.demandeur,{validators:[this.demandeurValidator.bind(this)]}),firstNameGestionnaire:new t.NI(i.firstNameGestionnaire),lastNameGestionnaire:new t.NI(i.lastNameGestionnaire),userNameGestionnaire:new t.NI(i.userNameGestionnaire),firstNameSupport:new t.NI(i.firstNameSupport),lastNameSupport:new t.NI(i.lastNameSupport),userNameSupport:new t.NI(i.userNameSupport),test:new t.NI(i.test),gestionnaire:new t.NI(i.gestionnaire,{validators:[this.gestionnaireValidator.bind(this)]}),source:new t.NI(i.source,{nonNullable:!0,validators:[t.kI.required]}),severite:new t.NI(i.severite,{nonNullable:!0,validators:[t.kI.required]}),solution:this.solutionFormService.createFormSolution(this.currentOperationType,i.solution),dateCreation:new t.NI(i.dateCreation),dateDerniereModification:new t.NI(i.dateDerniereModification)})}createSearchForm(){return new t.cw({titre:new t.NI("",{nonNullable:!0})})}problemeValidator(s){return"USER"===this.currentRoleIncident?"ADD"===this.currentOperationType?null===s.value?null:{problemeInvalide:!0}:null===s.value?{problemeInvalide:!0}:null:(console.log(this.currentRoleIncident),null===s.value?{problemeInvalide:!0}:null)}impactValidator(s){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===s.value?null:{impactInvalide:!0}:null===s.value?{impactInvalide:!0}:null}gestionnaireValidator(s){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===s.value?null:{gestionnaireInvalide:!0}:null===s.value?{gestionnaireInvalide:!0}:null}demandeurValidator(s){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===s.value?null:{demandeurInvalide:!0}:null===s.value?{demandeurInvalide:!0}:null}categorieValidator(s){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===s.value?null:{categorieInvalide:!0}:null===s.value?{categorieInvalide:!0}:null}static#e=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.x))};static#t=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},3975:(S,g,n)=>{n.d(g,{x:()=>h});var t=n(95),m=n(9468),f=n(4970);let h=(()=>{class c{constructor(s){this.etapeFormService=s}createFormSolution(s,o){return new t.cw({id:new t.NI({value:this.getSolutionId(o),disabled:"BEING_RESOLVED"!==s},{nonNullable:!0,validators:[t.kI.required]}),code:new t.NI({value:this.getSolutionCode(o),disabled:"BEING_RESOLVED"!==s},{nonNullable:!0,validators:[t.kI.required]}),libelle:new t.NI({value:this.getSolutionLibelle(o),disabled:"BEING_RESOLVED"!==s},{nonNullable:!0,validators:[t.kI.required]}),refSys:new t.NI({value:this.getSolutionRefSys(o),disabled:"BEING_RESOLVED"!==s},{}),description:new t.NI({value:this.getSolutionDescription(o),disabled:"BEING_RESOLVED"!==s},{}),nombreEtape:new t.NI({value:this.getSolutionNumber(o),disabled:"BEING_RESOLVED"!==s},{nonNullable:!0,validators:[t.kI.required]}),etapes:new t.Oe(this.createEtapeForms(this.getSolutionEtapes(o)))})}getSolutionId(s){return s?s.id:""}getSolutionCode(s){return s?s.code:""}getSolutionRefSys(s){return s?s.refSys:""}getSolutionLibelle(s){return s?s.libelle:""}getSolutionDescription(s){return s?s.description:""}getSolutionNumber(s){return s?s.nombreEtape:0}getSolutionEtapes(s){return s?s.etapes:[]}createEtapeForms(s){return s.map(o=>this.etapeFormService.createFormEtape(o))}static#e=this.\u0275fac=function(o){return new(o||c)(m.LFG(f.W))};static#t=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac})}return c})()},2030:(S,g,n)=>{n.d(g,{h:()=>h});var t=n(6814),m=n(9207),f=n(9468);let h=(()=>{class c{static#e=this.\u0275fac=function(o){return new(o||c)};static#t=this.\u0275mod=f.oAB({type:c});static#r=this.\u0275inj=f.cJS({imports:[t.ez,m.m]})}return c})()},3594:(S,g,n)=>{n.r(g),n.d(g,{AttentePriseChargeModule:()=>mt});var t=n(6814),m=n(4970),f=n(5779),h=n(3975),c=n(3096),p=n(2572),s=n(7398),o=n(676);const i="Attente Incident IT",O=(0,o.PH)(`[${i} API] Load All`),U=(0,o.PH)(`[${i} API] Load All Success`,(0,o.Ky)()),x=(0,o.PH)(`[${i} API] Create`,(0,o.Ky)()),z=(0,o.PH)(`[${i} API] Create Success`,(0,o.Ky)()),H=(0,o.PH)(`[${i} API] Load`,(0,o.Ky)()),D=(0,o.PH)(`[${i} API] Reset`),Y=(0,o.PH)(`[${i} API] Load Success`,(0,o.Ky)()),Q=(0,o.PH)(`[${i} API] Delete`,(0,o.Ky)()),J=(0,o.PH)(`[${i} API] Delete Success`,(0,o.Ky)()),V=(0,o.PH)(`[${i} API] Validate`,(0,o.Ky)()),E=(0,o.PH)(`[${i} API] Validate Success`,(0,o.Ky)()),R=(0,o.PH)(`[${i} API] Update`,(0,o.Ky)()),F=(0,o.PH)(`[${i} API] Update Success`,(0,o.Ky)()),N=(0,o.PH)(`[${i} API] Load Form Model`),$=(0,o.PH)(`[${i} API] Reset Form Model`),j=(0,o.PH)(`[${i} API] Load Form Model Success`,(0,o.Ky)()),X=(0,o.PH)(`[${i} API] Reset Search`),K=(0,o.PH)(`[${i} API] Search`,(0,o.Ky)()),b=(0,o.PH)(`[${i} API] Change Page`,(0,o.Ky)()),ie=(0,o.PH)(`[${i} API] Change Page Size`,(0,o.Ky)()),d={loadItems:O,loadItemsSuccess:U,resetItem:D,createItem:x,createItemSuccess:z,loadItem:H,loadItemSuccess:Y,updateItem:R,updateItemSuccess:F,deleteItem:Q,deleteItemSuccess:J,validateItem:V,validateItemSuccess:E,loadFormModel:N,resetFormModel:$,loadFormModelSuccess:j,setError:(0,o.PH)(`[${i} API] Create Error`,(0,o.Ky)()),resetError:(0,o.PH)(`[${i} API] Reset Error`),resetErrorField:(0,o.PH)(`[${i} API] Reset Error Field`,(0,o.Ky)()),resetSearch:X,search:K,changePage:b,changePageSize:ie},de=(0,o.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,o.on)(d.loadItemsSuccess,(r,l)=>({...r,items:l.items,totalElement:l.totalElement})),(0,o.on)(d.resetItem,(r,l)=>({...r,currentItem:null})),(0,o.on)(d.createItemSuccess,(r,l)=>({...r})),(0,o.on)(d.deleteItemSuccess,(r,l)=>({...r})),(0,o.on)(d.loadItemSuccess,(r,l)=>({...r,currentItem:l.item})),(0,o.on)(d.updateItemSuccess,(r,l)=>({...r})),(0,o.on)(d.validateItemSuccess,(r,l)=>({...r})),(0,o.on)(d.loadFormModel,(r,l)=>({...r,formModel:null})),(0,o.on)(d.loadFormModelSuccess,(r,l)=>({...r,formModel:l.formModel})),(0,o.on)(d.resetSearch,(r,l)=>({...r,searchModel:{}})),(0,o.on)(d.search,(r,l)=>({...r,searchModel:l.searchModel})),(0,o.on)(d.changePage,(r,l)=>({...r,page:l.page})),(0,o.on)(d.changePageSize,(r,l)=>({...r,pageSize:l.pageSize})),(0,o.on)(d.setError,(r,l)=>({...r,errors:l.errors})),(0,o.on)(d.resetError,(r,l)=>({...r,errors:{}})),(0,o.on)(d.resetErrorField,(r,l)=>{let a={};return null!==r.errors&&Object.entries(r.errors).forEach(([u,I])=>{u!==l.fieldName&&(a[`${u}`]=I)}),{...r,errors:a}})),L=(0,o.ZF)("attente-prise-charges"),pe=(0,o.P1)(L,r=>r.items),me=((0,o.P1)(L,r=>r.currentItem),(0,o.P1)(L,r=>r.formModel),(0,o.P1)(L,r=>r.searchModel)),re=(0,o.P1)(L,r=>r.page),ne=(0,o.P1)(L,r=>r.pageSize),he=(0,o.P1)(L,r=>r.totalElement);(0,o.P1)(L,r=>r.errors);var e=n(9468),k=n(8281),se=n(3849),w=n(95),fe=n(7251),ge=n(166),_e=n(6327),ve=n(8564),Ie=n(8223),Ce=n(602),Ee=n(1469),Pe=n(6326),Se=n(8346),Ae=n(1171),De=n(547),Ne=n(362);function ye(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}const y=function(r){return{alert:r}};function Me(r,l){if(1&r&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(a.refSys)}}function Te(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"Cat & sous-categorie"),e.qZA())}function Fe(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(null==a.categorieIncident?null:a.categorieIncident.code)}}function Le(r,l){1&r&&(e.TgZ(0,"th",36),e._uU(1,"Libell\xe9 Demande"),e.qZA())}function Oe(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(a.titre)}}function xe(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"Equipement"),e.qZA())}function be(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(a.equipement.libelle)}}function Be(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"Statut"),e.qZA())}function Ue(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(a.statutIncident)}}function Ze(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"Demandeur"),e.qZA())}function Re(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(3,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.AsE(" ",null==a.demandeur?null:a.demandeur.firstName," ",null==a.demandeur?null:a.demandeur.lastName," ")}}function $e(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"Priorit\xe9"),e.qZA())}function Ke(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(a.prioriteIncident)}}function we(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"S\xe9v\xe9rit\xe9"),e.qZA())}function Ge(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(null==a.severite?null:a.severite.libelle)}}function We(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"Date Cr\xe9ation"),e.qZA())}function ze(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(5,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(e.xi3(2,2,a.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function He(r,l){1&r&&(e.TgZ(0,"th",33),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function Ye(r,l){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const a=l.$implicit,u=e.oxw(3);e.Q6J("ngClass",e.VKq(5,y,u.isDueDate(a.dateEcheanceEnCoursResolution))),e.xp6(1),e.Oqu(e.xi3(2,2,a.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function Qe(r,l){if(1&r){const a=e.EpF();e.TgZ(0,"table",18),e.NdJ("itemSelected",function(I){e.CHM(a);const T=e.oxw(2);return e.KtG(T.itemSelected(I))}),e.ynx(1,19),e.YNc(2,ye,2,0,"th",20),e.YNc(3,Me,2,4,"td",21),e.BQk(),e.ynx(4,22),e.YNc(5,Te,2,0,"th",20),e.YNc(6,Fe,2,4,"td",23),e.BQk(),e.ynx(7,24),e.YNc(8,Le,2,0,"th",25),e.YNc(9,Oe,2,4,"td",23),e.BQk(),e.ynx(10,26),e.YNc(11,xe,2,0,"th",20),e.YNc(12,be,2,4,"td",23),e.BQk(),e.ynx(13,27),e.YNc(14,Be,2,0,"th",20),e.YNc(15,Ue,2,4,"td",23),e.BQk(),e.ynx(16,28),e.YNc(17,Ze,2,0,"th",20),e.YNc(18,Re,2,5,"td",23),e.BQk(),e.ynx(19,29),e.YNc(20,$e,2,0,"th",20),e.YNc(21,Ke,2,4,"td",23),e.BQk(),e.ynx(22,30),e.YNc(23,we,2,0,"th",20),e.YNc(24,Ge,2,4,"td",23),e.BQk(),e.ynx(25,31),e.YNc(26,We,2,0,"th",20),e.YNc(27,ze,3,7,"td",23),e.BQk(),e.ynx(28,32),e.YNc(29,He,2,0,"th",20),e.YNc(30,Ye,3,7,"td",23),e.BQk(),e.qZA()}if(2&r){const a=l.ngIf,u=e.oxw(2);e.Q6J("items",a)("headers",u.headerTable)("selectable",!0)}}function Je(r,l){if(1&r){const a=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(a);const I=e.oxw();return e.KtG(I.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(a);const I=e.oxw();return e.KtG(I.refreshButtonClicked())})("pageSelected",function(I){e.CHM(a);const T=e.oxw();return e.KtG(T.pageSelected(I))})("pageSizeChange",function(I){e.CHM(a);const T=e.oxw();return e.KtG(T.pageSizeChange(I))})("closeButtonClicked",function(){e.CHM(a);const I=e.oxw();return e.KtG(I.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e._UZ(7,"div",10),e.TgZ(8,"div",11)(9,"app-custom-button",12),e.NdJ("buttonClicked",function(){e.CHM(a);const I=e.oxw();return e.KtG(I.validateButtonClicked())}),e.qZA()(),e.TgZ(10,"div",13),e._UZ(11,"app-custom-button",14),e.TgZ(12,"app-print-button",15),e.NdJ("printButtonClicked",function(){e.CHM(a);const I=e.oxw();return e.KtG(I.printButtonClicked())}),e.qZA()(),e.TgZ(13,"div",16),e.YNc(14,Qe,31,3,"table",17),e.ALo(15,"async"),e.qZA()()}if(2&r){const a=l.ngIf,u=e.oxw();e.Q6J("itemSelected",u.isItemSelected())("pageSize",a.pageSize)("currentPage",a.page)("totalElements",a.totalElement),e.xp6(1),e.Q6J("formGroup",u.searchForm),e.xp6(6),e.Q6J("formGroup",u.searchForm),e.xp6(2),e.Q6J("disabled",!u.isItemSelected()),e.xp6(5),e.Q6J("ngIf",e.lcZ(15,8,u.items$))}}let Ve=(()=>{class r{constructor(a,u,I){this.router=a,this.store=u,this.incidentFormService=I,this.isUpdateActivated=!1,this.headerTable=["R\xe9f\xe9rence","Cat & sous-categorie","Libell\xe9 Demande","Equipement","Statut","Priorit\xe9","S\xe9v\xe9rit\xe9","Impact","Demandeur","service/unit.Fonct","Date Cr\xe9ation","Date Dern modif"],this.items$=this.store.select(pe),this.page$=this.store.select(re),this.pageSize$=this.store.select(ne),this.totalElement$=this.store.select(he),this.data$=(0,p.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,s.U)(([T,q,ee])=>({page:T,pageSize:q,totalElement:ee}))),this.selectedItem=null,this.actualDate=0}ngOnInit(){this.searchForm=this.incidentFormService.createSearchForm(),this.store.dispatch(d.loadItems()),this.actualDate=Date.now()}validateButtonClicked(){const a=this.selectedItem;a&&this.store.dispatch(d.validateItem({item:a}))}isDueDate(a){return console.log(a-this.actualDate<=0),a-this.actualDate<=0}itemSelected(a){this.selectedItem=a}pageSelected(a){this.store.dispatch(d.changePage({page:a}))}pageSizeChange(a){this.store.dispatch(d.changePageSize({pageSize:a}))}closeButtonClicked(){this.router.navigate(["incidents"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(d.resetSearch())}searchButtonClicked(){this.store.dispatch(d.search({searchModel:this.searchForm.value}))}printButtonClicked(){}static#e=this.\u0275fac=function(u){return new(u||r)(e.Y36(k.F0),e.Y36(o.yh),e.Y36(c.X))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-attente-prise-charge-list"]],features:[e._Bn([c.X,h.x,m.W,f.P])],decls:4,vars:3,consts:[[1,"ps-3","pb-0","mb-0"],["pathLevelOne","Support IT","pathLevelTwo","Attente Prise En Charge","pathLevelThree","Liste"],["title","Liste des Incidents En Attente de Prise En Charge",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Incidents En Attente de Prise En Charge",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","titre"],[1,"advance-search",3,"formGroup"],[1,"primary-actions"],["icon","icon-check btn-icon-add fw-bold","title","En cours de r\xe9solution",1,"me-1",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","",3,"ngClass",4,"appCellDefTemplate"],["appCellDef","Cat & sous-categorie"],["app-cell-def-template","","class","left",3,"ngClass",4,"appCellDefTemplate"],["appCellDef","Libell\xe9 Demande"],["app-header-attribute-def-template","","class","width-35",4,"appHeaderDefTemplate"],["appCellDef","Equipement"],["appCellDef","Statut"],["appCellDef","Demandeur"],["appCellDef","Priorit\xe9"],["appCellDef","S\xe9v\xe9rit\xe9"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Date Modification"],["app-header-attribute-def-template",""],["app-cell-def-template","",3,"ngClass"],["app-cell-def-template","",1,"left",3,"ngClass"],["app-header-attribute-def-template","",1,"width-35"]],template:function(u,I){1&u&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Je,16,10,"app-crud-list",2),e.ALo(3,"async")),2&u&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,I.data$)))},dependencies:[t.mk,t.O5,se.L,w.JJ,w.JL,w.sg,w.u,fe._,ge.x,_e.N,ve.D,Ie.h,Ce.u,Ee.O,Pe.q,Se.W,Ae.h,De.Z,Ne.V,t.Ov,t.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.left[_ngcontent-%COMP%]{text-align:left!important}.alert[_ngcontent-%COMP%]{background-color:#f5c2c7!important}"]})}return r})();var je=n(8510),v=n(6465),Xe=n(9207),ke=n(1793),qe=n(3396),et=n(2030),P=n(6063),tt=n(9862),rt=n(2460),M=n(6328),nt=n(9026),B=n(6306),G=n(9397),st=n(1631),A=n(2096),ot=n(3186),it=n(4664),at=n(9989),lt=n(1946);let oe=(()=>{class r extends at.v{getResourceBasePath(){return`${lt.y}/Support-incident-prise-en-charge`}getIdValue(a){return a.id}validate(a,u){return this.http.post(`${this.url}/${this.getResourceBasePath()}/en-cours-resolution/${a}`,u)}static#e=this.\u0275fac=function(){let a;return function(I){return(a||(a=e.n5z(r)))(I||r)}}();static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();var ct=n(6366),ut=n(797);let dt=(()=>{class r{constructor(a,u,I,T,q,ee){this.attentePriseChargeService=a,this.authService=u,this.actions$=I,this.router=T,this.modalService=q,this.store=ee,this.loadItems$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.loadItems),(0,rt.M)(this.store.select(re),this.store.select(ne),this.store.select(me)),(0,M.b)(([_,C,W,te])=>(console.log(C),this.store.dispatch((0,P.Q)()),(0,nt.$)(this.attentePriseChargeService.getAllWithPagination(C,W,te),this.attentePriseChargeService.count(te)).pipe((0,s.U)(([Z,ht])=>(this.store.dispatch((0,P.Z)()),d.loadItemsSuccess({items:Z,totalElement:ht}))),(0,B.K)(Z=>(this.store.dispatch((0,P.Z)()),(0,A.of)(d.setError({errors:Z})))))))),{dispatch:!0}),this.createItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.createItem),(0,M.b)(_=>(this.store.dispatch((0,P.Q)()),console.log(_.item),this.attentePriseChargeService.add(_.item).pipe((0,G.b)(()=>{this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/attente-pris-charge")}),(0,s.U)(C=>d.createItemSuccess({item:C})),(0,B.K)(C=>(this.store.dispatch((0,P.Z)()),(0,A.of)(d.setError({errors:C})))))))),{dispatch:!0}),this.loadItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.loadItem),(0,st.z)(_=>this.attentePriseChargeService.findById(_.id).pipe((0,s.U)(C=>d.loadItemSuccess({item:C})),(0,B.K)(C=>(this.store.dispatch((0,P.Z)()),(0,A.of)(d.setError({errors:C}))))))),{dispatch:!0}),this.deleteItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.deleteItem),(0,M.b)(_=>this.attentePriseChargeService.delete(_.item.id,_.item)),(0,G.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident supprim\xe9 avec succ\xe8s"})}),(0,s.U)(()=>d.loadItems()),(0,B.K)(_=>(this.store.dispatch((0,P.Z)()),(0,A.of)(d.setError({errors:_}))))),{dispatch:!0}),this.updateItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.updateItem),(0,M.b)(_=>(this.store.dispatch((0,P.Q)()),this.attentePriseChargeService.update(_.item.id,_.item).pipe((0,G.b)(()=>{this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/attente-pris-charge")}),(0,s.U)(C=>d.createItemSuccess({item:C})),(0,B.K)(C=>(this.store.dispatch((0,P.Z)()),(0,A.of)(d.setError({errors:C})))))))),{dispatch:!0}),this.validateItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.validateItem),(0,M.b)(_=>(this.store.dispatch((0,P.Q)()),this.attentePriseChargeService.validate(_.item.id,_.item).pipe((0,G.b)(()=>{this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident a \xe9t\xe9 marqu\xe9 comme en cours de r\xe9solution avec succ\xe8s"}),this.router.navigateByUrl("incidents/attente-pris-charge")}),(0,s.U)(()=>d.loadItems()),(0,B.K)(C=>(this.store.dispatch((0,P.Z)()),(0,A.of)(d.setError({errors:C})))))))),{dispatch:!0}),this.loadFormModel$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.loadFormModel),(0,M.b)(()=>this.attentePriseChargeService.getFormModel()),(0,s.U)(_=>d.loadFormModelSuccess({formModel:_})),(0,B.K)(_=>(0,A.of)(d.setError({errors:_}))))),this.resetSearch$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.resetSearch),(0,M.b)(()=>(0,A.of)(d.changePage({page:1}))))),this.search$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.search),(0,M.b)(()=>(0,A.of)(d.changePage({page:1}))))),this.changePage$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.changePage),(0,s.U)(_=>d.loadItems()))),this.changePageSize$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.changePageSize),(0,M.b)(()=>(0,A.of)(d.changePage({page:1}))))),this.handleError$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.setError),(0,it.w)(_=>{if(this.store.dispatch((0,P.Q)()),_.errors instanceof tt.UA){if(422===_.errors.status){let C="",W=0;for(const[te,Z]of Object.entries(_.errors.error))C+=0===W?Z:"\n"+Z,W++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:C})}if(403===_.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===_.errors.status){let C="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,P.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:C}),(0,A.of)(ot.jM())}}return this.store.dispatch((0,P.Z)()),(0,A.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(u){return new(u||r)(e.LFG(oe),e.LFG(ct.e),e.LFG(v.eX),e.LFG(k.F0),e.LFG(ut.Z),e.LFG(o.yh))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const pt=[{path:"",component:Ve,pathMatch:"prefix"}];let mt=(()=>{class r{static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275mod=e.oAB({type:r});static#r=this.\u0275inj=e.cJS({providers:[oe],imports:[t.ez,se.L,o.Aw.forFeature("attente-prise-charges",de),v.sQ.forFeature(dt),je.Y,et.h,qe.B,ke.K,Xe.m,k.Bz.forChild(pt)]})}return r})()},8346:(S,g,n)=>{n.d(g,{W:()=>h});var t=n(9468),m=n(95),f=n(7394);let h=(()=>{class c{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new f.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new m.NI}writeValue(s){this.control.setValue(s)}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.disabled=s,s?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(s=>{this.onChange(s)})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||c)};static#t=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[t._Bn([{provide:m.JU,useExisting:(0,t.Gpc)(()=>c),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(o,i){1&o&&t._UZ(0,"input",0),2&o&&(t.Gre("custom-text-field m-0 form-control-sm ",i.otherclass,""),t.s9C("placeholder",i.placeholder),t.Q6J("type",i.type)("formControl",i.control)("readonly",i.readonly))},dependencies:[m.Fj,m.JJ,m.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return c})()},1171:(S,g,n)=>{n.d(g,{h:()=>m});var t=n(9468);let m=(()=>{class f{constructor(){this.title="",this.class=""}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(p,s){1&p&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&p&&(t.Tol(s.class),t.xp6(1),t.Oqu(s.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return f})()},3849:(S,g,n)=>{n.d(g,{L:()=>c});var t=n(9468),m=n(2463),f=n(6814),h=n(166);let c=(()=>{class p{constructor(){this.printButtonClicked=new t.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(i){return new(i||p)};static#t=this.\u0275cmp=t.Xpm({type:p,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[t.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(i,O){1&i&&(t.TgZ(0,"app-custom-button",0),t.NdJ("buttonClicked",function(){return O.emitPrintButtonClicked()}),t.qZA())},dependencies:[f.ez,m.v,h.x],styles:["[_nghost-%COMP%]{display:block}"]})}return p})()},547:(S,g,n)=>{n.d(g,{Z:()=>f});var t=n(9468),m=n(95);let f=(()=>{class h{constructor(p){this.ngControl=p}static#e=this.\u0275fac=function(s){return new(s||h)(t.Y36(m.a5,10))};static#t=this.\u0275dir=t.lG2({type:h,selectors:[["","formControl",""],["","formControlName",""]]})}return h})()}}]);