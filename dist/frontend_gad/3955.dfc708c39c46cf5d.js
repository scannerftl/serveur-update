(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[3955],{3955:(M,y,a)=>{"use strict";a.r(y),a.d(y,{AffectationEquipementModule:()=>Ci});var u=a(6814),e=a(9468),Z=a(1227),c=a(95);let _=(()=>{class i{constructor(){}createForm(t,o){return new c.cw({libelle:new c.NI(t.libelle,{nonNullable:!0,validators:[c.kI.required]}),description:new c.NI(t.description),materiel:new c.NI(t.materiel),site:new c.NI(t.site),batiment:new c.NI(t.batiment),filiale:new c.NI(t.filiale),entreprise:new c.NI(t.entreprise),nomBureau:new c.NI(t.nomBureau),bureau:new c.NI(t.bureau,{nonNullable:!0,validators:[c.kI.required]}),nomEmploye:new c.NI(t.nomEmploye),telEmploye:new c.NI(t.telEmploye),emailEmploye:new c.NI(t.emailEmploye),nomUniteFonctionnel:new c.NI(t.nomUniteFonctionnel),sigleUniteFonctionnel:new c.NI(t.sigleUniteFonctionnel),uniteFonctionnel:new c.NI(t.uniteFonctionnel),employe:new c.NI(t.employe,{}),motifFinAffectation:new c.NI(t.motifFinAffectation,{nonNullable:"DESAFFECT"===o,validators:[c.kI.required]}),test:new c.NI(t.test,{validators:[c.kI.required]}),utilisateurModification:new c.NI(t.utilisateurModification),utilisateurCreation:new c.NI(t.utilisateurCreation),dateCreation:new c.NI(t.dateCreation),dateDerniereModification:new c.NI(t.dateDerniereModification),dateDebutAffectation:new c.NI(t.dateDebutAffectation),dateFinAffectation:new c.NI(t.dateFinAffectation)})}createSearchForm(){return new c.cw({libelle:new c.NI("",{nonNullable:!0,validators:[c.kI.required]}),description:new c.NI("",{nonNullable:!0,validators:[c.kI.required]})})}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var E=a(2572),d=a(7398),r=a(676);const f="Affectation Equipement",m=(0,r.PH)(`[${f} API] Load All`),p=(0,r.PH)(`[${f} API] Load All Success`,(0,r.Ky)()),v=(0,r.PH)(`[${f} API] Create`,(0,r.Ky)()),h=(0,r.PH)(`[${f} API] Create Success`,(0,r.Ky)()),T=(0,r.PH)(`[${f} API] Load`,(0,r.Ky)()),H=(0,r.PH)(`[${f} API] Load Success`,(0,r.Ky)()),$=(0,r.PH)(`[${f} API] Create Error`,(0,r.Ky)()),L=(0,r.PH)(`[${f} API] Reset Error`),Q=(0,r.PH)(`[${f} API] Reset Error Field`,(0,r.Ky)()),B=(0,r.PH)(`[${f} API] Reset`),N=(0,r.PH)(`[${f} API] Delete`,(0,r.Ky)()),fe=(0,r.PH)(`[${f} API] Delete Success`,(0,r.Ky)()),l={loadItems:m,loadItemsSuccess:p,resetItem:B,createItem:v,createItemSuccess:h,loadItem:T,loadItemSuccess:H,updateItem:(0,r.PH)(`[${f} API] Update`,(0,r.Ky)()),updateItemSuccess:(0,r.PH)(`[${f} API] Update Success`,(0,r.Ky)()),deleteItem:N,deleteItemSuccess:fe,decommissionateItem:(0,r.PH)(`[${f} API] Decommissionate`,(0,r.Ky)()),decommissionateItemSuccess:(0,r.PH)(`[${f} API] Decommissionate Success`,(0,r.Ky)()),setError:$,resetError:L,resetErrorField:Q,loadFormModel:(0,r.PH)(`[${f} API] Load Form Model`),resetFormModel:(0,r.PH)(`[${f} API] Reset Form Model`),loadFormModelSuccess:(0,r.PH)(`[${f} API] Load Form Model Success`,(0,r.Ky)()),resetSearch:(0,r.PH)(`[${f} API] Reset Search`),search:(0,r.PH)(`[${f} API] Search`,(0,r.Ky)()),changePage:(0,r.PH)(`[${f} API] Change Page`,(0,r.Ky)()),changePageSize:(0,r.PH)(`[${f} API] Change Page Size`,(0,r.Ky)()),downloadFile:(0,r.PH)(`[${f} API] Download File`),downloadFileSuccess:(0,r.PH)(`[${f} API] Download File Success`)},qe=(0,r.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,r.on)(l.loadItemsSuccess,(i,n)=>(console.log(n.items),{...i,items:n.items,totalElement:n.totalElement})),(0,r.on)(l.resetItem,(i,n)=>({...i,currentItem:null})),(0,r.on)(l.createItemSuccess,(i,n)=>({...i})),(0,r.on)(l.deleteItemSuccess,(i,n)=>({...i})),(0,r.on)(l.loadItemSuccess,(i,n)=>({...i,currentItem:n.item})),(0,r.on)(l.updateItemSuccess,(i,n)=>({...i})),(0,r.on)(l.decommissionateItemSuccess,(i,n)=>({...i})),(0,r.on)(l.loadFormModel,(i,n)=>({...i,formModel:null})),(0,r.on)(l.loadFormModelSuccess,(i,n)=>({...i,formModel:n.formModel})),(0,r.on)(l.resetSearch,(i,n)=>({...i,searchModel:{}})),(0,r.on)(l.search,(i,n)=>({...i,searchModel:n.searchModel})),(0,r.on)(l.changePage,(i,n)=>({...i,page:n.page})),(0,r.on)(l.changePageSize,(i,n)=>({...i,pageSize:n.pageSize})),(0,r.on)(l.setError,(i,n)=>({...i,errors:n.errors})),(0,r.on)(l.resetError,(i,n)=>({...i,errors:null})),(0,r.on)(l.resetErrorField,(i,n)=>{let t={};return null!==i.errors&&Object.entries(i.errors).forEach(([o,s])=>{o!==n.fieldName&&(t[`${o}`]=s)}),{...i,errors:t}})),S=(0,r.ZF)("affectation-equipements"),Ie=(0,r.P1)(S,i=>i.items),j=(0,r.P1)(S,i=>i.currentItem),J=(0,r.P1)(S,i=>i.formModel),Me=(0,r.P1)(S,i=>i.searchModel),W=(0,r.P1)(S,i=>i.page),V=(0,r.P1)(S,i=>i.pageSize),Se=(0,r.P1)(S,i=>i.totalElement),Ue=(0,r.P1)(S,i=>i.errors);var Ne=a(4849),D=a(8281),K=a(797),X=a(3849),De=a(7251),ee=a(166),te=a(6327),ie=a(8564),oe=a(8223),ne=a(602),re=a(1469),ae=a(6326),le=a(8346),se=a(1171),ce=a(547),Y=a(362);function Pe(i,n){1&i&&(e.TgZ(0,"th",33),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}function we(i,n){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.refSys)}}function Le(i,n){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Libell\xe9"),e.qZA())}function Be(i,n){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.libelle)}}function Oe(i,n){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Description"),e.qZA())}function $e(i,n){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.description)}}function Qe(i,n){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Bureau"),e.qZA())}function Je(i,n){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(null==t.bureau?null:t.bureau.code)}}function Ye(i,n){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Date Cr\xe9ation"),e.qZA())}function ke(i,n){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function He(i,n){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function Ke(i,n){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function Ge(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"table",23),e.NdJ("itemSelected",function(s){e.CHM(t);const b=e.oxw(2);return e.KtG(b.itemSelected(s))}),e.ynx(1,24),e.YNc(2,Pe,2,0,"th",25),e.YNc(3,we,2,1,"td",26),e.BQk(),e.ynx(4,27),e.YNc(5,Le,2,0,"th",25),e.YNc(6,Be,2,1,"td",26),e.BQk(),e.ynx(7,28),e.YNc(8,Oe,2,0,"th",25),e.YNc(9,$e,2,1,"td",26),e.BQk(),e.ynx(10,29),e.YNc(11,Qe,2,0,"th",25),e.YNc(12,Je,2,1,"td",26),e.BQk(),e.ynx(13,30),e.YNc(14,Ye,2,0,"th",25),e.YNc(15,ke,3,4,"td",31),e.BQk(),e.ynx(16,32),e.YNc(17,He,2,0,"th",25),e.YNc(18,Ke,3,4,"td",31),e.BQk(),e.qZA()}if(2&i){const t=n.ngIf,o=e.oxw(2);e.Q6J("items",t)("headers",o.headerTable)("selectable",!0)}}function Re(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.refreshButtonClicked())})("pageSelected",function(s){e.CHM(t);const b=e.oxw();return e.KtG(b.pageSelected(s))})("pageSizeChange",function(s){e.CHM(t);const b=e.oxw();return e.KtG(b.pageSizeChange(s))})("closeButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e.TgZ(7,"div",10)(8,"div",11)(9,"div",6),e._UZ(10,"app-form-label",12),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"app-custom-textfield",13),e.qZA()()(),e.TgZ(13,"div",14)(14,"app-custom-button",15),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addButtonClicked())}),e.qZA(),e.TgZ(15,"app-custom-button",16),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editButtonClicked())}),e.qZA(),e.TgZ(16,"app-custom-button",17),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteButtonClicked())}),e.qZA()(),e.TgZ(17,"div",18),e._UZ(18,"app-custom-button",19),e.TgZ(19,"app-print-button",20),e.NdJ("printButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.printButtonClicked())}),e.qZA()(),e.TgZ(20,"div",21),e.YNc(21,Ge,19,3,"table",22),e.ALo(22,"async"),e.qZA()()}if(2&i){const t=n.ngIf,o=e.oxw();e.Q6J("itemSelected",o.isItemSelected())("pageSize",t.pageSize)("currentPage",t.page)("totalElements",t.totalElement),e.xp6(1),e.Q6J("formGroup",o.searchForm),e.xp6(6),e.Q6J("formGroup",o.searchForm),e.xp6(8),e.Q6J("disabled",!o.isItemSelected()),e.xp6(1),e.Q6J("disabled",!o.isItemSelected()),e.xp6(5),e.Q6J("ngIf",e.lcZ(22,9,o.items$))}}(0,u.qS)(Z.Z,"fr-Fr");let ze=(()=>{class i{constructor(t,o,s,b,q){this.router=t,this.modalService=o,this.store=s,this.affectationEquipementFormService=b,this.headerTable=["R\xe9f\xe9rence","Libell\xe9","Description","Bureau","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(Ie),this.page$=this.store.select(W),this.pageSize$=this.store.select(V),this.totalElement$=this.store.select(Se),this.data$=(0,E.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,d.U)(([z,C,g])=>({page:z,pageSize:C,totalElement:g}))),this.selectedItem=null,this.dateTest=new Date}ngOnInit(){this.searchForm=this.affectationEquipementFormService.createSearchForm(),this.store.dispatch(l.loadItems())}addButtonClicked(){this.router.navigate(["parc-informatique","affectation-equipement","add"])}editButtonClicked(){const t=this.selectedItem?.id;t&&(this.store.dispatch(l.resetItem()),this.router.navigate(["parc-informatique","affectation-equipement","edit",t]))}desaffectButtonClicked(){const t=this.selectedItem?.id;t&&(this.store.dispatch(l.resetItem()),this.router.navigate(["parc-informatique","affectation-equipement","desaffect",t]))}deleteButtonClicked(){const t=this.selectedItem;t&&this.modalService.openComponent(Ne.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(o=>{o&&"yes"===o&&this.store.dispatch(l.deleteItem({item:t}))})}itemSelected(t){this.selectedItem=t}pageSelected(t){this.store.dispatch(l.changePage({page:t}))}pageSizeChange(t){this.store.dispatch(l.changePageSize({pageSize:t}))}closeButtonClicked(){this.router.navigate(["parc-informatique"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(l.resetSearch())}searchButtonClicked(){this.store.dispatch(l.search({searchModel:this.searchForm.value}))}printButtonClicked(){this.store.dispatch(l.downloadFile())}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(D.F0),e.Y36(K.Z),e.Y36(r.yh),e.Y36(_),e.Y36(e.soG))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-affectation-equipement-list"]],features:[e._Bn([_,{provide:e.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Mouvements","pathLevelTwo","Affectation Equipement","pathLevelThree","Liste"],["title","Liste des Affectations Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Affectations Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","libelle"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Description"],["placeholder","","formControlName","description"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",1,"me-1",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","table-align-left",4,"appCellDefTemplate"],["appCellDef","Libell\xe9"],["appCellDef","Description"],["appCellDef","Bureau"],["appCellDef","Date Cr\xe9ation"],["app-cell-def-template","",4,"appCellDefTemplate"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"table-align-left"],["app-cell-def-template",""]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Re,23,11,"app-crud-list",2),e.ALo(3,"async")),2&o&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,s.data$)))},dependencies:[X.L,u.O5,c.JJ,c.JL,c.sg,c.u,De._,ee.x,te.N,ie.D,oe.h,ne.u,re.O,ae.q,le.W,se.h,ce.Z,Y.V,u.Ov,u.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return i})();var G=a(1239),je=a(8819),We=a(9543),Ve=a(7426),Xe=a(9887),et=a(6219),tt=a(2113),it=a(5973),ot=a(4944),nt=a(2093),rt=a(6136),at=a(8513),lt=a(586),st=a(1327),ct=a(5188);function pt(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Code "),e.qZA())}function mt(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function ut(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Niveau "),e.qZA())}function ft(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.niveau," ")}}function dt(i,n){1&i&&(e.TgZ(0,"table",97),e.ynx(1,98),e.YNc(2,pt,2,0,"th",99),e.YNc(3,mt,2,1,"td",100),e.BQk(),e.ynx(4,101),e.YNc(5,ut,2,0,"th",99),e.YNc(6,ft,2,1,"td",100),e.BQk(),e.qZA())}function _t(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",30),e.NdJ("resetField",function(s){e.CHM(t);const b=e.oxw(2);return e.KtG(b.resetBackendError(s))}),e.TgZ(1,"app-item-search",95),e.YNc(2,dt,7,0,"table",96),e.qZA()()}if(2&i){const t=n.ngIf,o=e.oxw(2);e.Q6J("errors",o.errors),e.xp6(1),e.Q6J("headers",o.bureauSelectItemsHeader)("items",t.bureaux)("criterias",o.bureauItemCritterias)("itemDescription",o.bureauItemDescription)}}function ht(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Sigle "),e.qZA())}function gt(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.sigle," ")}}function bt(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Libell\xe9 "),e.qZA())}function Ct(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.libelle," ")}}function At(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Description "),e.qZA())}function Et(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function vt(i,n){1&i&&(e.TgZ(0,"table",97),e.ynx(1,110),e.YNc(2,ht,2,0,"th",99),e.YNc(3,gt,2,1,"td",100),e.BQk(),e.ynx(4,111),e.YNc(5,bt,2,0,"th",99),e.YNc(6,Ct,2,1,"td",100),e.BQk(),e.ynx(7,112),e.YNc(8,At,2,0,"th",99),e.YNc(9,Et,2,1,"td",100),e.BQk(),e.qZA())}function Tt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",30),e.NdJ("resetField",function(s){e.CHM(t);const b=e.oxw(3);return e.KtG(b.resetBackendError(s))}),e.TgZ(1,"app-item-search",109),e.YNc(2,vt,10,0,"table",96),e.qZA()()}if(2&i){const t=n.ngIf,o=e.oxw(3);e.Q6J("errors",o.errors),e.xp6(1),e.Q6J("headers",o.uniteSelectItemsHeader)("items",t.uniteFonctionnels)("criterias",o.uniteItemCritterias)("itemDescription",o.uniteItemDescription)}}function xt(i,n){if(1&i&&(e.TgZ(0,"div",104)(1,"div",23)(2,"h6",24),e._uU(3," Informations sur l'Unit\xe9 Fonctionnelle "),e.qZA(),e.TgZ(4,"div",38),e.YNc(5,Tt,3,5,"app-field-error-wrapper",39),e.ALo(6,"async"),e.qZA()(),e._UZ(7,"hr",25),e.TgZ(8,"div",5)(9,"div",44)(10,"div",45)(11,"div",46),e._UZ(12,"app-form-label",105),e.TgZ(13,"div",48),e._UZ(14,"app-custom-textfield",106),e.qZA()(),e.TgZ(15,"div",46),e._UZ(16,"app-form-label",107),e.TgZ(17,"div",48),e._UZ(18,"app-custom-textfield",108),e.qZA()()()()()()),2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,3,t.formModel$)),e.xp6(9),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0)}}function Zt(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Matricule "),e.qZA())}function yt(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.matricule," ")}}function Ft(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Num\xe9ro S\xe9curit\xe9 Sociale "),e.qZA())}function qt(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.numeroSecuriteSocial," ")}}function It(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Adresse Mail "),e.qZA())}function Mt(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.adresseMail," ")}}function St(i,n){1&i&&(e.TgZ(0,"table",97),e.ynx(1,114),e.YNc(2,Zt,2,0,"th",99),e.YNc(3,yt,2,1,"td",100),e.BQk(),e.ynx(4,115),e.YNc(5,Ft,2,0,"th",99),e.YNc(6,qt,2,1,"td",100),e.BQk(),e.ynx(7,116),e.YNc(8,It,2,0,"th",99),e.YNc(9,Mt,2,1,"td",100),e.BQk(),e.qZA())}function Ut(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",30),e.NdJ("resetField",function(s){e.CHM(t);const b=e.oxw(3);return e.KtG(b.resetBackendError(s))}),e.TgZ(1,"app-item-search",113),e.YNc(2,St,10,0,"table",96),e.qZA()()}if(2&i){const t=n.ngIf,o=e.oxw(3);e.Q6J("errors",o.errors),e.xp6(1),e.Q6J("headers",o.employeSelectItemsHeader)("items",t.employes)("criterias",o.employeItemCritterias)("itemDescription",o.employeItemDescription)}}function Nt(i,n){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,Ut,3,5,"app-field-error-wrapper",39),e.ALo(2,"async"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.formModel$))}}function Dt(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1,"Num\xe9ro S\xe9rie "),e.qZA())}function Pt(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.numeroSerie," ")}}function wt(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Libell\xe9 "),e.qZA())}function Lt(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.libelle," ")}}function Bt(i,n){1&i&&(e.TgZ(0,"th",102),e._uU(1," Description "),e.qZA())}function Ot(i,n){if(1&i&&(e.TgZ(0,"td",103),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function $t(i,n){1&i&&(e.TgZ(0,"table",97),e.ynx(1,119),e.YNc(2,Dt,2,0,"th",99),e.YNc(3,Pt,2,1,"td",100),e.BQk(),e.ynx(4,111),e.YNc(5,wt,2,0,"th",99),e.YNc(6,Lt,2,1,"td",100),e.BQk(),e.ynx(7,112),e.YNc(8,Bt,2,0,"th",99),e.YNc(9,Ot,2,1,"td",100),e.BQk(),e.qZA())}function Qt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",117),e.NdJ("resetField",function(s){e.CHM(t);const b=e.oxw(2);return e.KtG(b.resetBackendError(s))}),e.TgZ(1,"app-item-search",118),e.YNc(2,$t,10,0,"table",96),e.qZA()()}if(2&i){const t=n.ngIf,o=e.oxw(2);e.Q6J("errors",o.errors),e.xp6(1),e.Q6J("headers",o.equipementSelectItemsHeader)("items",t.materiels)("criterias",o.equipementItemCritterias)("itemDescription",o.equipementItemDescription)}}function Jt(i,n){1&i&&(e.TgZ(0,"th",120),e._uU(1,"Num\xe9ro S\xe9rie"),e.qZA())}function Yt(i,n){if(1&i&&(e.TgZ(0,"td",121),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.numeroSerie," ")}}function kt(i,n){1&i&&(e.TgZ(0,"th",120),e._uU(1,"Libell\xe9"),e.qZA())}function Ht(i,n){if(1&i&&(e.TgZ(0,"td",121),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij("",t.libelle," ")}}function Kt(i,n){1&i&&(e.TgZ(0,"th",120),e._uU(1,"Mod\xe8le"),e.qZA())}function Gt(i,n){if(1&i&&(e.TgZ(0,"td",121),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.libelle," ")}}function Rt(i,n){1&i&&(e.TgZ(0,"th",120),e._uU(1,"Fabricant"),e.qZA())}function zt(i,n){if(1&i&&(e.TgZ(0,"td",121),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.makerEquip.libelle," ")}}function jt(i,n){1&i&&(e.TgZ(0,"th",120),e._uU(1,"Groupe Equipement"),e.qZA())}function Wt(i,n){if(1&i&&(e.TgZ(0,"td",121),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.categoryEquip.groupEquip.libelle," ")}}function Vt(i,n){1&i&&(e.TgZ(0,"th",120),e._uU(1,"Cat\xe9gorie"),e.qZA())}function Xt(i,n){if(1&i&&(e.TgZ(0,"td",121),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.categoryEquip.groupEquip.libelle," ")}}function ei(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-panel-custom",122)(1,"div",5)(2,"div",123),e._UZ(3,"app-form-label",124),e.TgZ(4,"div",8)(5,"app-field-error-wrapper",30),e.NdJ("resetField",function(s){e.CHM(t);const b=e.oxw(2);return e.KtG(b.resetBackendError(s))}),e._UZ(6,"textarea",125),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("errors",t.errors)}}function ti(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-primary-button",126),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.submitForm())}),e.qZA()}}function ii(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"app-panel-custom",4)(3,"div",5)(4,"div",6),e._UZ(5,"app-form-label",7),e.TgZ(6,"div",8),e._UZ(7,"app-custom-textfield",9),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",10),e._UZ(10,"app-form-label",11),e.TgZ(11,"div",8),e._UZ(12,"app-custom-textfield",12),e.qZA()(),e.TgZ(13,"div",10),e._UZ(14,"app-form-label",13),e.TgZ(15,"div",14),e._UZ(16,"app-custom-textfield",15),e.qZA()()(),e.TgZ(17,"div",5)(18,"div",10),e._UZ(19,"app-form-label",16),e.TgZ(20,"div",8),e._UZ(21,"app-custom-textfield",17),e.qZA()(),e.TgZ(22,"div",10),e._UZ(23,"app-form-label",18),e.TgZ(24,"div",14),e._UZ(25,"app-custom-textfield",19),e.qZA()()()(),e.TgZ(26,"app-panel-custom",20)(27,"app-tabs",21)(28,"app-tab",22)(29,"div",23)(30,"h6",24),e._uU(31," Affectation "),e.qZA()(),e._UZ(32,"hr",25),e.TgZ(33,"div",26)(34,"div",27)(35,"div",28),e._UZ(36,"app-form-label",29),e.TgZ(37,"div",8)(38,"app-field-error-wrapper",30),e.NdJ("resetField",function(s){e.CHM(t);const b=e.oxw();return e.KtG(b.resetBackendError(s))}),e._UZ(39,"app-custom-textfield",31),e.qZA()()()(),e.TgZ(40,"div",32)(41,"div",33),e._UZ(42,"app-form-label",34),e.TgZ(43,"div",8),e._UZ(44,"textarea",35),e.qZA()()()(),e.TgZ(45,"div",36)(46,"div",37)(47,"div",32)(48,"div",23)(49,"h6",24),e._uU(50," Informations sur le Bureau "),e.qZA(),e.TgZ(51,"div",38),e.YNc(52,_t,3,5,"app-field-error-wrapper",39),e.ALo(53,"async"),e.qZA()(),e._UZ(54,"hr",25),e.TgZ(55,"div",5)(56,"div",10),e._UZ(57,"app-form-label",40)(58,"input",41),e.qZA(),e.TgZ(59,"div",10),e._UZ(60,"app-form-label",42)(61,"input",43),e.qZA()(),e.TgZ(62,"div",5)(63,"div",44)(64,"div",45)(65,"div",46),e._UZ(66,"app-form-label",47),e.TgZ(67,"div",48),e._UZ(68,"app-custom-textfield",49),e.qZA()(),e.TgZ(69,"div",46),e._UZ(70,"app-form-label",50),e.TgZ(71,"div",48),e._UZ(72,"app-custom-textfield",51),e.qZA()()(),e.TgZ(73,"div",45)(74,"div",46),e._UZ(75,"app-form-label",52),e.TgZ(76,"div",48),e._UZ(77,"app-custom-textfield",53),e.qZA()(),e.TgZ(78,"div",46),e._UZ(79,"app-form-label",54),e.TgZ(80,"div",48),e._UZ(81,"app-custom-textfield",55),e.qZA()()(),e.TgZ(82,"div",56)(83,"div",46),e._UZ(84,"app-form-label",57),e.TgZ(85,"div",48),e._UZ(86,"app-custom-textfield",58),e.qZA()()()()()(),e.YNc(87,xt,19,5,"div",59),e.qZA(),e.TgZ(88,"div",60)(89,"div",23)(90,"h6",24),e._uU(91," Informations sur l'Employ\xe9 "),e.qZA(),e.YNc(92,Nt,3,3,"div",61),e.qZA(),e._UZ(93,"hr",25),e.TgZ(94,"div",5)(95,"div",10),e._UZ(96,"app-form-label",62)(97,"input",63),e.qZA(),e.TgZ(98,"div",10),e._UZ(99,"app-form-label",64)(100,"input",65),e.qZA()(),e.TgZ(101,"div",5)(102,"div",44)(103,"div",45)(104,"div",66),e._UZ(105,"app-form-label",67),e.TgZ(106,"div",48),e._UZ(107,"app-custom-textfield",68),e.qZA()()(),e.TgZ(108,"div",45)(109,"div",69),e._UZ(110,"app-form-label",70),e.TgZ(111,"div",48),e._UZ(112,"app-custom-textfield",71),e.qZA()(),e.TgZ(113,"div",6),e._UZ(114,"app-form-label",72),e.TgZ(115,"div",48),e._UZ(116,"app-custom-textfield",73),e.qZA()()(),e.TgZ(117,"div",74)(118,"div",66),e._UZ(119,"app-form-label",75),e.TgZ(120,"div",76),e._UZ(121,"app-custom-textfield",77),e.qZA()()()()()()()(),e.TgZ(122,"app-tab",78)(123,"div",79),e.YNc(124,Qt,3,5,"app-field-error-wrapper",80),e.ALo(125,"async"),e.TgZ(126,"app-custom-button",81),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.removeMateriel())}),e.qZA()(),e.TgZ(127,"div",5)(128,"table",82),e.NdJ("itemSelected",function(s){e.CHM(t);const b=e.oxw();return e.KtG(b.itemSelected(s))}),e.ynx(129,83),e.YNc(130,Jt,2,0,"th",84),e.YNc(131,Yt,2,1,"td",85),e.BQk(),e.ynx(132,86),e.YNc(133,kt,2,0,"th",84),e.YNc(134,Ht,2,1,"td",85),e.BQk(),e.ynx(135,87),e.YNc(136,Kt,2,0,"th",84),e.YNc(137,Gt,2,1,"td",85),e.BQk(),e.ynx(138,88),e.YNc(139,Rt,2,0,"th",84),e.YNc(140,zt,2,1,"td",85),e.BQk(),e.ynx(141,89),e.YNc(142,jt,2,0,"th",84),e.YNc(143,Wt,2,1,"td",85),e.BQk(),e.ynx(144,90),e.YNc(145,Vt,2,0,"th",84),e.YNc(146,Xt,2,1,"td",85),e.BQk(),e.qZA()()()()(),e.YNc(147,ei,7,1,"app-panel-custom",91),e.TgZ(148,"div",92),e.YNc(149,ti,1,0,"app-primary-button",93),e.TgZ(150,"app-cancel-button",94),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.returnToList())}),e.qZA()()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(13),e.Q6J("errors",t.errors),e.xp6(14),e.Q6J("ngIf",e.lcZ(53,26,t.formModel$)),e.xp6(16),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("ngIf",!t.hasBureauUniquement),e.xp6(5),e.Q6J("ngIf",t.hasTest),e.xp6(15),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(3),e.Q6J("ngIf",e.lcZ(125,28,t.formModel$)),e.xp6(2),e.Q6J("disabled",!t.isItemSelected()),e.xp6(2),e.Q6J("items",t.materiels)("headers",t.headerTable)("selectable",!0),e.xp6(19),e.Q6J("ngIf",!t.isAffect()),e.xp6(2),e.Q6J("ngIf",t.isDesaffected())}}let R=(()=>{class i{constructor(t,o,s,b){this.formService=t,this.modalService=o,this.router=s,this.store=b,this.formModel$=this.store.select(J),this.errors=null,this.materiels=[],this.tempMateriels=[],this.selectedItem=null,this.action="",this.formSubmitted=new e.vpe,this.bureauSelectItemsHeader=["Code","Niveau"],this.bureauItemDescription=q=>q.code,this.bureauItemCritterias={code:"Code",niveau:"Niveau"},this.uniteSelectItemsHeader=["Sigle","Libell\xe9","Description"],this.uniteItemDescription=q=>q.sigle,this.uniteItemCritterias={sigle:"Sigle",libelle:"Libell\xe9",description:"Description"},this.employeSelectItemsHeader=["Matricule","Num\xe9ro S\xe9curit\xe9 Sociale","Adresse Mail"],this.employeItemDescription=q=>q.matricule,this.employeItemCritterias={matricule:"Matricule",numeroSecuriteSocial:"Num\xe9ro S\xe9curit\xe9 Sociale",adresseMail:"Adresse Mail"},this.equipementSelectItemsHeader=["Num\xe9ro S\xe9rie","Libell\xe9","Description"],this.equipementItemDescription=q=>q.libelle,this.equipementItemCritterias={numeroSerie:"Num\xe9ro S\xe9rie",libelle:"Libell\xe9",description:"Description"},this.headerTable=["Num\xe9ro S\xe9rie","Libell\xe9","Mod\xe8le","Fabricant","Groupe Equipement","Cat\xe9gorie"]}ngOnInit(){this.store.dispatch(l.loadFormModel()),this.store.select(Ue).subscribe(t=>{this.errors=t}),this.store.dispatch(l.resetError()),this.form=this.formService.createForm(this.affectationEquipement,this.affectationType),this.form.get("bureau")?.valueChanges.subscribe(t=>{t&&(this.form.get("entreprise")?.setValue(t.batiment.site.filiale.entreprise.nomLong),this.form.get("filiale")?.setValue(t.batiment.site.filiale.nomLong),this.form.get("batiment")?.setValue(t.batiment.code),this.form.get("site")?.setValue(t.batiment.site.nomLong),this.form.get("nomBureau")?.setValue(t.code))}),this.form.get("employe")?.valueChanges.subscribe(t=>{t&&(this.form.get("emailEmploye")?.setValue(t.adresseMail),this.form.get("telEmploye")?.setValue(t.numeroTelephone),this.form.get("nomEmploye")?.setValue(t.user.firstName+" "+t.user.lastName))}),this.form.get("uniteFonctionnel")?.valueChanges.subscribe(t=>{t&&(this.form.get("sigleUniteFonctionnel")?.setValue(t.sigle),this.form.get("nomUniteFonctionnel")?.setValue(t.libelle))}),this.form.get("materiel")?.valueChanges.subscribe(t=>{t&&this.initMateriels(t)}),this.form.get("test")?.valueChanges.subscribe(t=>{"unite fonctionnelle"===t&&(this.form.get("emailEmploye")?.setValue(""),this.form.get("telEmploye")?.setValue(""),this.form.get("nomEmploye")?.setValue(""),this.form.get("employe")?.setValue(null)),"bureau"===t&&(this.form.get("emailEmploye")?.setValue(""),this.form.get("telEmploye")?.setValue(""),this.form.get("nomEmploye")?.setValue(""),this.form.get("employe")?.setValue(null),this.form.get("sigleUniteFonctionnel")?.setValue(""),this.form.get("nomUniteFonctionnel")?.setValue(""),this.form.get("uniteFonctionnel")?.setValue(null))}),"edit"===this.action&&(this.materiels=this.affectationEquipement.equipements)}get hasTest(){return"autre employe"===this.form.get("test")?.value||"moi"===this.form.get("test")?.value}get hasBureauUniquement(){return"bureau"===this.form.get("test")?.value}isAffect(){return"AFFECT"===this.affectationType}isDesaffected(){return""===this.affectationEquipement.motifFinAffectation}initMateriels(t){const o=[];this.materiels.length>0?(this.materiels.forEach(s=>{o.push(s)}),this.materiels=[],o.forEach(s=>{this.materiels.push(s)}),this.materiels.push(t)):(this.materiels=[],this.materiels.push(t))}removeMateriel(){null!==this.selectedItem&&(this.materiels=this.materiels.filter(t=>t.id!==this.selectedItem?.id),console.log(this.materiels))}ngOnDestroy(){}submitForm(){if("add"===this.action){const t={...this.form.getRawValue(),equipements:this.materiels};this.formSubmitted.emit(t)}else this.formSubmitted.emit(this.form.getRawValue())}returnToList(){this.router.navigateByUrl("parc-informatique/affectation-equipement")}resetBackendError(t){this.store.dispatch(l.resetErrorField({fieldName:t}))}itemSelected(t){this.selectedItem=t}isItemSelected(){return null!==this.selectedItem}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(_),e.Y36(K.Z),e.Y36(D.F0),e.Y36(r.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-affectation-equipement-form"]],inputs:{action:"action",affectationEquipement:"affectationEquipement",affectationType:"affectationType"},outputs:{formSubmitted:"formSubmitted"},features:[e._Bn([_])],decls:2,vars:1,consts:[[1,"pe-3","ps-3","pb-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-5"],["title","R\xe9f\xe9rence",1,"w-form","text-end"],[1,"input-textfield-container","col"],["otherclass","emphase h-form","placeholder","",3,"readonly"],[1,"input-container","col-4"],["title","Date Cr\xe9ation",1,"w-form","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],["title","Cr\xe9\xe9 Par",1,"col-4","text-end"],[1,"input-textfield-container","col-7"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"w-form","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","dateDerniereModification",3,"readonly"],["title","Modifi\xe9 Par",1,"col-4","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","background","background-style custom-padding"],["background","background-tabs"],["tabTitle","Informations g\xe9n\xe9rales"],[1,"d-flex","align-items-center",2,"margin-bottom","0px"],[1,"mb-0","pt-1","text-success","me-auto"],[1,"mt-0"],[1,"general-info","flex-column"],[1,"col-12","mb-2"],[1,"input-container","col"],["title","Libell\xe9",1,"w-form","text-end"],[3,"errors","resetField"],["otherclass","custom-style-form emphase","placeholder","","formControlName","libelle"],[1,"col-12"],[1,"input-container","col","d-flex","align-items-center"],["title","Description",1,"w-form","text-end"],["placeholder","","formControlName","description",1,"custom-style-textarea","emphase"],[1,"d-flex","col-12"],[1,"col-6","pe-1"],[1,"button-head","ms-auto"],[3,"errors","resetField",4,"ngIf"],["title","Unit\xe9 fonctionnelle",1,"w-form","fw-bold","text-end","me-1"],["type","radio","name","test","formControlName","test","value","unite fonctionnelle"],["title","Bureau Uniquement",1,"w-form","fw-bold","text-end","me-1"],["type","radio","name","test","formControlName","test","value","bureau"],[1,"col-12","d-flex","flex-column"],[1,"col-12","d-flex","flex-row","mb-2"],[1,"input-container","col-6"],["title","Bureau",1,"col-3","text-end"],[1,"input-textfield-container","col","flex-column"],["otherclass","custom-style-form col","placeholder","","formControlName","nomBureau",3,"readonly"],["title","B\xe2timent",1,"col-3","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","batiment",3,"readonly"],["title","Site",1,"col-3","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","site",3,"readonly"],["title","Filiale",1,"col-3","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","filiale",3,"readonly"],[1,"col-12","d-flex","flex-row","mb-0"],["title","Entreprise",1,"col-3","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","entreprise",3,"readonly"],["class","col-12 mt-3",4,"ngIf"],[1,"col-6","ps-1"],["class","button-head ms-auto",4,"ngIf"],["title","Affecter \xe0 Moi",1,"w-form","fw-bold","text-end","me-1"],["type","radio","name","test","formControlName","test","value","moi"],["title","Un Autre Employ\xe9",1,"w-form","fw-bold","text-end","me-1"],["type","radio","name","test","formControlName","test","value","autre employe"],[1,"input-container","col-12"],["title","Noms & Pr\xe9noms",1,"w-form","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","nomEmploye",3,"readonly"],[1,"input-container","col-7"],["title","Adresse Mail",1,"w-form","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","emailEmploye",3,"readonly"],["title","T\xe9l\xe9phone",1,"col-4","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","telEmploye",3,"readonly"],[1,"col-12","d-flex","flex-row"],["title","Unit\xe9 Fonctionnelle",1,"w-form","text-end"],[1,"input-textfield-container","col","flex-column","mb-0"],["otherclass","custom-style-form col","placeholder","",3,"readonly"],["tabTitle","Liste des \xe9quipements"],[1,"button-head","d-flex","ms-auto"],["class","col-auto",3,"errors","resetField",4,"ngIf"],["otherclass","custom-button-item-search col-auto","icon","icon-trash m-custom btn-icon-delete",3,"disabled","buttonClicked"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","Num\xe9ro S\xe9rie"],["app-header-attribute-def-template","","class","custom-head",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","custom-head",4,"appCellDefTemplate"],["appCellDef","Libell\xe9"],["appCellDef","Mod\xe8le"],["appCellDef","Fabricant"],["appCellDef","Groupe Equipement"],["appCellDef","Cat\xe9gorie"],["icon","fa fa-angle-right","title","Fin de l'Affectation",4,"ngIf"],[1,"form-actions"],["class","me-1","title","Enregistrer",3,"buttonClicked",4,"ngIf"],["otherclass","custom-cancel-button","title","Annuler",3,"buttonClicked"],["otherclass","custom-button-item-search col-auto","icon","icon-plus btn-icon-add","formControlName","bureau",3,"headers","items","criterias","itemDescription"],["app-item-search-template-attribute","",4,"appItemSearchTemplate"],["app-item-search-template-attribute",""],["appItemSearchCellDef","Code"],["app-item-search-header-def-template","","class","custom-head",4,"appItemSearchHeaderDefTemplate"],["app-item-search-cell-def-template","","class","custom-head",4,"appItemSearchCellDefTemplate"],["appItemSearchCellDef","Niveau"],["app-item-search-header-def-template","",1,"custom-head"],["app-item-search-cell-def-template","",1,"custom-head"],[1,"col-12","mt-3"],["title","Sigle",1,"col-3","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","sigleUniteFonctionnel",3,"readonly"],["title","Libell\xe9",1,"col-3","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","nomUniteFonctionnel",3,"readonly"],["otherclass","custom-button-item-search col-auto","icon","icon-plus btn-icon-add","formControlName","uniteFonctionnel",3,"headers","items","criterias","itemDescription"],["appItemSearchCellDef","Sigle"],["appItemSearchCellDef","Libell\xe9"],["appItemSearchCellDef","Description"],["otherclass","custom-button-item-search col-auto","icon","icon-plus btn-icon-add","formControlName","employe",3,"headers","items","criterias","itemDescription"],["appItemSearchCellDef","Matricule"],["appItemSearchCellDef","Num\xe9ro S\xe9curit\xe9 Sociale"],["appItemSearchCellDef","Adresse Mail"],[1,"col-auto",3,"errors","resetField"],["otherclass","custom-button-item-search col-auto","icon","icon-plus btn-icon-add","formControlName","materiel",3,"headers","items","criterias","itemDescription"],["appItemSearchCellDef","Num\xe9ro S\xe9rie"],["app-header-attribute-def-template","",1,"custom-head"],["app-cell-def-template","",1,"custom-head"],["icon","fa fa-angle-right","title","Fin de l'Affectation"],[1,"input-container","col-8","d-flex","align-items-center"],["title","Motif",1,"col-2","text-end"],["placeholder","","formControlName","motifFinAffectation",1,"custom-style-textarea","emphase"],["title","Enregistrer",1,"me-1",3,"buttonClicked"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e.YNc(1,ii,151,30,"form",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[u.O5,c._Y,c.Fj,c._,c.JJ,c.JL,c.sg,c.u,ee.x,je.F,te.N,ie.D,oe.h,ne.u,re.O,ae.q,le.W,se.h,We.C,ce.Z,Ve.p,Xe.l,et.n,tt.i,it.v,ot.K,nt.d,rt.D,at.T,lt.o,st.g,ct.K,u.Ov],styles:["[_nghost-%COMP%]{font-size:12px}.general-info[_ngcontent-%COMP%]{display:flex;padding:3px 0}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-container[_ngcontent-%COMP%] + .input-container[_ngcontent-%COMP%]{//margin-left: 32px}.input-textfield-container[_ngcontent-%COMP%]{//width: 250px;margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return i})(),oi=(()=>{class i{constructor(t){this.store=t,this.formModel$=this.store.select(J),this.affectationType=G.X.AFFECT,this.affectationEquipementDto={id:"",libelle:"",description:"",bureau:null,materiel:null,equipements:[],logiciels:[],employe:null,motifFinAffectation:"",nomUniteFonctionnel:"",sigleUniteFonctionnel:"",uniteFonctionnel:null,emailEmploye:"",telEmploye:"",nomEmploye:"",test:"autre employe",nomBureau:"",entreprise:"",filiale:"",batiment:"",site:"",dateDerniereModification:null,dateCreation:null,dateDebutAffectation:null,dateFinAffectation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(l.resetItem()),this.store.dispatch(l.resetFormModel())}addAffectationEquipement(t){const o={equipements:t.equipements,logiciels:[],libelle:t.libelle,description:t.description,bureau:t.bureau,employe:t.employe,uniteFonctionnel:t.uniteFonctionnel};console.log(o),this.store.dispatch(l.createItem({item:o}))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(r.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-affectation-equipement-add"]],decls:3,vars:2,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Mouvements","pathLevelTwo","Affectation Equipement","pathLevelThree","Ajouter"],["action","add",3,"affectationEquipement","affectationType","formSubmitted"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.TgZ(2,"app-affectation-equipement-form",2),e.NdJ("formSubmitted",function(q){return s.addAffectationEquipement(q)}),e.qZA()),2&o&&(e.xp6(2),e.Q6J("affectationEquipement",s.affectationEquipementDto)("affectationType",s.affectationType))},dependencies:[Y.V,R],styles:["[_nghost-%COMP%]{width:100%}"]})}return i})();var pe=a(7394);function ni(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-affectation-equipement-form",3),e.NdJ("formSubmitted",function(s){e.CHM(t);const b=e.oxw();return e.KtG(b.editAffectationEquipement(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("affectationEquipement",t.affectationEquipementDto)("affectationType",t.affectationType)}}let ri=(()=>{class i{constructor(t,o){this.store=t,this.route=o,this.formModel$=this.store.select(J),this.affectationEquipement$=this.store.select(j),this.affectationEquipementDto=null,this.affectationType=G.X.AFFECT,this.subscription=new pe.w0}ngOnInit(){this.store.dispatch(l.resetFormModel()),this.subscription=this.route.params.subscribe(t=>{this.id=t.id,this.id&&this.store.dispatch(l.loadItem({id:this.id}))}),this.affectationEquipement$.subscribe(t=>{null!==t&&(console.log(t.motifFinAffectation),this.affectationEquipementDto={id:t.id,libelle:t.libelle,description:t.description,bureau:null==t.bureau?null:t.bureau,materiel:null,equipements:t.equipements,logiciels:t.logiciels,employe:null===t.employe?null:t.employe,motifFinAffectation:void 0===t.motifFinAffectation?"":t.motifFinAffectation,emailEmploye:null==t.employe?"":t.employe.adresseMail,telEmploye:null==t.employe?"":t.employe.numeroTelephone,nomEmploye:null==t.employe?"":t.employe.user.firstName+" "+t.employe.user.lastName,test:null==t.employe?"unite fonctionnelle":"autre employe",nomUniteFonctionnel:null==t.uniteFonctionnel?"":t.uniteFonctionnel.libelle,sigleUniteFonctionnel:null==t.uniteFonctionnel?"":t.uniteFonctionnel.sigle,uniteFonctionnel:null==t.uniteFonctionnel?null:t.uniteFonctionnel,nomBureau:null==t.bureau?"":t.bureau.code,entreprise:null==t.bureau?"":t.bureau.batiment.site.filiale.entreprise.nomLong,filiale:null==t.bureau?"":t.bureau.batiment.site.filiale.nomLong,batiment:null==t.bureau?"":t.bureau.batiment.code,site:null==t.bureau?"":t.bureau.batiment.site.nomLong,dateDerniereModification:null===t.dateDerniereModification?"":this.formatDate(t.dateDerniereModification),dateCreation:null===t.dateCreation?"":this.formatDate(t.dateCreation),dateDebutAffectation:null===t.dateDebutAffectation?"":this.formatDate(t.dateDebutAffectation),dateFinAffectation:null===t.dateFinAffectation?"":this.formatDate(t.dateFinAffectation),utilisateurCreation:t.utilisateurCreation,utilisateurModification:t.utilisateurModification})})}formatDate(t){if(t){const o=new Date(t);return o.toLocaleDateString()+" \xe0 "+o.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}editAffectationEquipement(t){const o={id:t.id,libelle:t.libelle,description:t.description,bureau:t.bureau,equipements:t.equipements,logiciels:t.logiciels,employe:t.employe,uniteFonctionnel:t.uniteFonctionnel};this.store.dispatch(l.updateItem({id:Number(this.id),item:o}))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(r.yh),e.Y36(D.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-affectation-equipement-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Mouvements","pathLevelTwo","Affectation Equipement","pathLevelThree","Editer"],["action","edit",3,"affectationEquipement","affectationType","formSubmitted",4,"ngIf"],["action","edit",3,"affectationEquipement","affectationType","formSubmitted"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,ni,1,2,"app-affectation-equipement-form",2)),2&o&&(e.xp6(2),e.Q6J("ngIf",s.affectationEquipementDto))},dependencies:[u.O5,Y.V,R],styles:["[_nghost-%COMP%]{width:100%}"]})}return i})();var A=a(6465),ai=a(9207),li=a(2460),I=a(6328),si=a(9026),U=a(6306),me=a(1631),k=a(9397),x=a(6063),ci=a(9862),F=a(2096),pi=a(217),mi=a(3186),ui=a(4664),fi=a(9989),di=a(1946);let ue=(()=>{class i extends fi.v{getResourceBasePath(){return`${di.y}/affectation-equipement`}finAffectation(t,o){return this.http.post(`${this.url}/${this.getResourceBasePath()}/fin-affectation/${t}`,o)}getPrintAll(){return this.http.post(`${this.url}/${this.getResourceBasePath()}/print/all`,{},{observe:"response",responseType:"blob"})}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.n5z(i)))(s||i)}}();static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var _i=a(6366);let hi=(()=>{class i{constructor(t,o,s,b,q,z){this.affectationEquipementService=t,this.authService=o,this.actions$=s,this.router=b,this.modalService=q,this.store=z,this.loadItems$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.loadItems),(0,li.M)(this.store.select(W),this.store.select(V),this.store.select(Me)),(0,I.b)(([C,g,P,O])=>(console.log(g),this.store.dispatch((0,x.Q)()),(0,si.$)(this.affectationEquipementService.getAllWithPagination(g,P,O),this.affectationEquipementService.count(O)).pipe((0,d.U)(([w,Ai])=>(this.store.dispatch((0,x.Z)()),l.loadItemsSuccess({items:w,totalElement:Ai}))),(0,U.K)(w=>(this.store.dispatch((0,x.Z)()),(0,F.of)(l.setError({errors:w})))))))),{dispatch:!0}),this.downloadFile$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.downloadFile),(0,me.z)(C=>(this.store.dispatch((0,x.Q)()),this.affectationEquipementService.getPrintAll().pipe((0,d.U)(g=>{this.store.dispatch((0,x.Z)());let P=g.headers.get("content-disposition")?.split(";")[1].split("=")[1];return(0,pi.saveAs)(g.body,P),l.loadItems()}),(0,U.K)(g=>(this.store.dispatch((0,x.Z)()),(0,F.of)(l.setError({errors:g})))))))),{dispatch:!0}),this.createItem$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.createItem),(0,I.b)(C=>(this.store.dispatch((0,x.Q)()),this.affectationEquipementService.add(C.item).pipe((0,k.b)(()=>{this.store.dispatch((0,x.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Equipement affect\xe9 avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/affectation-equipement")}),(0,d.U)(g=>l.createItemSuccess({item:g})),(0,U.K)(g=>(this.store.dispatch((0,x.Z)()),(0,F.of)(l.setError({errors:g})))))))),{dispatch:!0}),this.loadItem$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.loadItem),(0,me.z)(C=>this.affectationEquipementService.findById(C.id).pipe((0,d.U)(g=>l.loadItemSuccess({item:g})),(0,U.K)(g=>(this.store.dispatch((0,x.Z)()),(0,F.of)(l.setError({errors:g}))))))),{dispatch:!0}),this.deleteItem$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.deleteItem),(0,I.b)(C=>this.affectationEquipementService.delete(C.item.id,C.item)),(0,k.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Affectation supprim\xe9e avec succ\xe8s"})}),(0,d.U)(()=>l.loadItems()),(0,U.K)(C=>(this.store.dispatch((0,x.Z)()),(0,F.of)(l.setError({errors:C}))))),{dispatch:!0}),this.updateItem$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.updateItem),(0,I.b)(C=>(this.store.dispatch((0,x.Q)()),this.affectationEquipementService.update(C.id,C.item).pipe((0,k.b)(()=>{this.store.dispatch((0,x.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Affectation modifi\xe9e avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/affectation-equipement")}),(0,d.U)(g=>l.updateItemSuccess({item:g})),(0,U.K)(g=>(this.store.dispatch((0,x.Z)()),(0,F.of)(l.setError({errors:g})))))))),{dispatch:!0}),this.decommissionateItem$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.decommissionateItem),(0,I.b)(C=>(this.store.dispatch((0,x.Q)()),this.affectationEquipementService.finAffectation(C.id,C.item).pipe((0,k.b)(()=>{this.store.dispatch((0,x.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Fin d'Affectation effectu\xe9e avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/affectation-equipement")}),(0,d.U)(g=>l.decommissionateItemSuccess({item:g})),(0,U.K)(g=>(this.store.dispatch((0,x.Z)()),(0,F.of)(l.setError({errors:g})))))))),{dispatch:!0}),this.loadFormModel$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.loadFormModel),(0,I.b)(()=>this.affectationEquipementService.getFormModel()),(0,d.U)(C=>l.loadFormModelSuccess({formModel:C})),(0,U.K)(C=>(0,F.of)(l.setError({errors:C}))))),this.resetSearch$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.resetSearch),(0,I.b)(()=>(0,F.of)(l.changePage({page:1}))))),this.search$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.search),(0,I.b)(()=>(0,F.of)(l.changePage({page:1}))))),this.changePage$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.changePage),(0,d.U)(C=>l.loadItems()))),this.changePageSize$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.changePageSize),(0,I.b)(()=>(0,F.of)(l.changePage({page:1}))))),this.handleError$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(l.setError),(0,ui.w)(C=>{if(this.store.dispatch((0,x.Q)()),C.errors instanceof ci.UA){if(422===C.errors.status){let g="",P=0;for(const[O,w]of Object.entries(C.errors.error))g+=0===P?w:"\n"+w,P++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:g})}if(403===C.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===C.errors.status)return this.authService.removeToken(),this.authService.removeUserInfo(),(0,F.of)(mi.jM())}return this.store.dispatch((0,x.Z)()),(0,F.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(ue),e.LFG(_i.e),e.LFG(A.eX),e.LFG(D.F0),e.LFG(K.Z),e.LFG(r.yh))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();function gi(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-affectation-equipement-form",3),e.NdJ("formSubmitted",function(s){e.CHM(t);const b=e.oxw();return e.KtG(b.finAffectation(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("affectationEquipement",t.affectationEquipementDto)("affectationType",t.affectationType)}}const bi=[{path:"",component:ze,pathMatch:"prefix"},{path:"add",component:oi,pathMatch:"prefix"},{path:"edit/:id",component:ri,pathMatch:"prefix"},{path:"desaffect/:id",component:(()=>{class i{constructor(t,o){this.store=t,this.route=o,this.formModel$=this.store.select(J),this.affectationEquipement$=this.store.select(j),this.affectationEquipementDto=null,this.affectationType=G.X.DESAFFECT,this.subscription=new pe.w0}ngOnInit(){this.store.dispatch(l.resetFormModel()),this.subscription=this.route.params.subscribe(t=>{this.id=t.id,this.id&&this.store.dispatch(l.loadItem({id:this.id}))}),this.affectationEquipement$.subscribe(t=>{null!==t&&(this.affectationEquipementDto={id:t.id,libelle:t.libelle,description:t.description,bureau:null===t.bureau?null:t.bureau,materiel:null,equipements:t.equipements,logiciels:t.logiciels,employe:null===t.employe?null:t.employe,motifFinAffectation:void 0===t.motifFinAffectation?"":t.motifFinAffectation,emailEmploye:null==t.employe?"":t.employe.adresseMail,telEmploye:null==t.employe?"":t.employe.numeroTelephone,nomEmploye:null==t.employe?"":t.employe.user.firstName+" "+t.employe.user.lastName,test:null==t.employe?"unite fonctionnelle":"autre employe",nomUniteFonctionnel:null==t.uniteFonctionnel?"":t.uniteFonctionnel.libelle,sigleUniteFonctionnel:null==t.uniteFonctionnel?"":t.uniteFonctionnel.sigle,uniteFonctionnel:null==t.uniteFonctionnel?null:t.uniteFonctionnel,nomBureau:null===t.bureau?"":t.bureau.code,entreprise:null===t.bureau?"":t.bureau.batiment.site.filiale.entreprise.nomLong,filiale:null===t.bureau?"":t.bureau.batiment.site.filiale.nomLong,batiment:null===t.bureau?"":t.bureau.batiment.code,site:null===t.bureau?"":t.bureau.batiment.site.nomLong,dateDerniereModification:null===t.dateDerniereModification?"":this.formatDate(t.dateDerniereModification),dateCreation:null===t.dateCreation?"":this.formatDate(t.dateCreation),dateDebutAffectation:null===t.dateDebutAffectation?"":this.formatDate(t.dateDebutAffectation),dateFinAffectation:null===t.dateFinAffectation?"":this.formatDate(t.dateFinAffectation),utilisateurCreation:t.utilisateurCreation,utilisateurModification:t.utilisateurModification})})}formatDate(t){if(t){const o=new Date(t);return o.toLocaleDateString()+" \xe0 "+o.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}finAffectation(t){const o={id:t.id,libelle:t.libelle,description:t.description,bureau:t.bureau,equipements:t.equipements,logiciels:t.logiciels,employe:t.employe,uniteFonctionnel:t.uniteFonctionnel,motifFinAffectation:t.motifFinAffectation};this.store.dispatch(l.decommissionateItem({id:Number(this.id),item:o}))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(r.yh),e.Y36(D.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-affectation-equipement-desaffect"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Mouvements","pathLevelTwo","Affectation Equipement","pathLevelThree","Fin d'affectation"],["action","edit",3,"affectationEquipement","affectationType","formSubmitted",4,"ngIf"],["action","edit",3,"affectationEquipement","affectationType","formSubmitted"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,gi,1,2,"app-affectation-equipement-form",2)),2&o&&(e.xp6(2),e.Q6J("ngIf",s.affectationEquipementDto))},dependencies:[u.O5,Y.V,R],styles:["[_nghost-%COMP%]{width:100%}"]})}return i})(),pathMatch:"prefix"}];let Ci=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({providers:[ue],imports:[X.L,u.ez,r.Aw.forFeature("affectation-equipements",qe),A.sQ.forFeature(hi),ai.m,D.Bz.forChild(bi)]})}return i})()},8819:(M,y,a)=>{"use strict";a.d(y,{F:()=>e});var u=a(9468);let e=(()=>{class Z{constructor(){this.disabled=!1,this.buttonClicked=new u.vpe}emitButtonClicked(){this.buttonClicked.emit()}static#e=this.\u0275fac=function(E){return new(E||Z)};static#t=this.\u0275cmp=u.Xpm({type:Z,selectors:[["app-cancel-button"]],inputs:{title:"title",url:"url",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(E,d){1&E&&(u.TgZ(0,"button",0),u.NdJ("click",function(){return d.emitButtonClicked()}),u._uU(1),u.qZA()),2&E&&(u.Gre("cancel-button ",d.otherclass,""),u.Q6J("disabled",d.disabled),u.xp6(1),u.hij(" ",d.title,"\n"))},styles:[".cancel-button[_ngcontent-%COMP%]{color:#000;border:1px solid #6d7582;background-color:#fff;min-width:120px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:25px;padding:.75rem 0rem;border-radius:3px}"]})}return Z})()},4849:(M,y,a)=>{"use strict";a.d(y,{n:()=>d});var u=a(1892),e=a(6814),Z=a(8666),c=a(2463),_=a(9468),E=a(166);let d=(()=>{class r{constructor(m,p){this.modalData=m,this.modalRef=p}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#e=this.\u0275fac=function(p){return new(p||r)(_.Y36(u.S),_.Y36(u.R))};static#t=this.\u0275cmp=_.Xpm({type:r,selectors:[["app-confirm-alert"]],standalone:!0,features:[_.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(p,v){1&p&&(_.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),_._uU(3,"Confirmation de Suppression"),_.qZA()()(),_.TgZ(4,"div",3)(5,"div",4)(6,"div",5),_._UZ(7,"img",6),_.qZA(),_.TgZ(8,"div",7),_._uU(9," Voulez-vous vraiment effectuer cette action ? "),_.qZA()(),_.TgZ(10,"div",8)(11,"app-custom-button",9),_.NdJ("buttonClicked",function(){return v.confirmAction()}),_.qZA(),_.TgZ(12,"app-custom-button",10),_.NdJ("buttonClicked",function(){return v.close()}),_.qZA()()())},dependencies:[e.ez,Z.a,c.v,E.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return r})()},3849:(M,y,a)=>{"use strict";a.d(y,{L:()=>_});var u=a(9468),e=a(2463),Z=a(6814),c=a(166);let _=(()=>{class E{constructor(){this.printButtonClicked=new u.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(f){return new(f||E)};static#t=this.\u0275cmp=u.Xpm({type:E,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[u.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(f,m){1&f&&(u.TgZ(0,"app-custom-button",0),u.NdJ("buttonClicked",function(){return m.emitPrintButtonClicked()}),u.qZA())},dependencies:[Z.ez,e.v,c.x],styles:["[_nghost-%COMP%]{display:block}"]})}return E})()},2113:(M,y,a)=>{"use strict";a.d(y,{i:()=>Z});var u=a(9468);const e=["*"];let Z=(()=>{class c{constructor(){this.tabTitle="",this.active=!1}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle",active:"active"},ngContentSelectors:e,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(d,r){1&d&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA()),2&d&&u.Q6J("hidden",!r.active)},styles:[".pane[_ngcontent-%COMP%]{padding:1rem}"]})}return c})()},6219:(M,y,a)=>{"use strict";a.d(y,{n:()=>d});var u=a(2113),e=a(9468),Z=a(6814);const c=function(r){return{active:r}};function _(r,f){if(1&r){const m=e.EpF();e.TgZ(0,"li",3),e.NdJ("click",function(){const h=e.CHM(m).$implicit,T=e.oxw();return e.KtG(T.selectTab(h))}),e._uU(1),e.qZA()}if(2&r){const m=f.$implicit;e.Q6J("ngClass",e.VKq(2,c,!0===m.active)),e.xp6(1),e.hij(" ",m.tabTitle," ")}}const E=["*"];let d=(()=>{class r{constructor(){}ngAfterContentInit(){0===this.tabs.filter(p=>p.active).length&&this.selectTab(this.tabs.first)}selectTab(m){this.tabs.toArray().forEach(p=>p.active=!1),m.active=!0}static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-tabs"]],contentQueries:function(p,v,h){if(1&p&&e.Suo(h,u.i,4),2&p){let T;e.iGM(T=e.CRH())&&(v.tabs=T)}},inputs:{background:"background"},ngContentSelectors:E,decls:5,vars:4,consts:[[1,"tabs-container"],["class","tab",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"active-tab-content"],[1,"tab",3,"ngClass","click"]],template:function(p,v){1&p&&(e.F$t(),e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,_,2,4,"li",1),e.qZA(),e.TgZ(3,"div",2),e.Hsn(4),e.qZA()()),2&p&&(e.xp6(1),e.Gre("list-unstyled tab-title-container ",v.background,""),e.xp6(1),e.Q6J("ngForOf",v.tabs))},dependencies:[Z.mk,Z.sg],styles:['.tabs-container[_ngcontent-%COMP%]{margin:2px;border-top:0px;background-color:#fff}.tab-title-container[_ngcontent-%COMP%]{font-size:.875rem;display:flex;margin-bottom:0}.active-tab-content[_ngcontent-%COMP%]{border:1px solid #c7c5c6;border-top:0px;margin-top:0}.tab-title-container[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:12px;flex-grow:1;border-bottom:1px solid #c7c5c6}.tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:.25rem 1rem;text-align:center;border:0px;border-bottom:1px solid #c7c5c6;cursor:pointer}.tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{border-radius:2px;opacity:90%}.tabs-container[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c7c5c6;border-bottom:0px;color:#69696b;font-family:aileronbold;border-top-left-radius:8px;border-top-right-radius:8px}']})}return r})()},217:function(M,y){var a,e;void 0!==(e="function"==typeof(a=function(){"use strict";function c(m,p,v){var h=new XMLHttpRequest;h.open("GET",m),h.responseType="blob",h.onload=function(){f(h.response,p,v)},h.onerror=function(){console.error("could not download file")},h.send()}function _(m){var p=new XMLHttpRequest;p.open("HEAD",m,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function E(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(p)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(m,p,v){var h=d.URL||d.webkitURL,T=document.createElement("a");T.download=p=p||m.name||"download",T.rel="noopener","string"==typeof m?(T.href=m,T.origin===location.origin?E(T):_(T.href)?c(m,p,v):E(T,T.target="_blank")):(T.href=h.createObjectURL(m),setTimeout(function(){h.revokeObjectURL(T.href)},4e4),setTimeout(function(){E(T)},0))}:"msSaveOrOpenBlob"in navigator?function(m,p,v){if(p=p||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(function Z(m,p){return typeof p>"u"?p={autoBom:!1}:"object"!=typeof p&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}(m,v),p);else if(_(m))c(m,p,v);else{var h=document.createElement("a");h.href=m,h.target="_blank",setTimeout(function(){E(h)})}}:function(m,p,v,h){if((h=h||open("","_blank"))&&(h.document.title=h.document.body.innerText="downloading..."),"string"==typeof m)return c(m,p,v);var T="application/octet-stream"===m.type,H=/constructor/i.test(d.HTMLElement)||d.safari,$=/CriOS\/[\d]+/.test(navigator.userAgent);if(($||T&&H||r)&&typeof FileReader<"u"){var L=new FileReader;L.onloadend=function(){var N=L.result;N=$?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=N:location=N,h=null},L.readAsDataURL(m)}else{var Q=d.URL||d.webkitURL,B=Q.createObjectURL(m);h?h.location=B:location.href=B,h=null,setTimeout(function(){Q.revokeObjectURL(B)},4e4)}});d.saveAs=f.saveAs=f,M.exports=f})?a.apply(y,[]):a)&&(M.exports=e)}}]);