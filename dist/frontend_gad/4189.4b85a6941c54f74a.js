"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[4189],{3396:(m,c,r)=>{r.d(c,{B:()=>i});var e=r(6814),n=r(9207),u=r(9468);let i=(()=>{class s{static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275mod=u.oAB({type:s});static#r=this.\u0275inj=u.cJS({imports:[e.ez,n.m]})}return s})()},5779:(m,c,r)=>{r.d(c,{P:()=>u});var e=r(95),n=r(9468);let u=(()=>{class i{constructor(){}createFormActionSuggeree(l){return new e.cw({id:new e.NI(this.getActionSuggereeId(l),{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI(this.getActionSuggereeLibelle(l),{nonNullable:!0,validators:[e.kI.required]}),statut:new e.NI(this.getActionSuggereeStatut(l),{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI(this.getActionSuggereeDescription(l),{}),refSys:new e.NI(this.getActionSuggereeRefSys(l),{})})}createFormNewActionSuggeree(){return new e.cw({id:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),statut:new e.NI(null,{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI("",{}),refSys:new e.NI("",{})})}getActionSuggereeId(l){return null!==l?l.id:0}getActionSuggereeLibelle(l){return null!==l?l.libelle:""}getActionSuggereeStatut(l){return null!==l?l.statut:null}getActionSuggereeDescription(l){return null!==l?l.description:""}getActionSuggereeRefSys(l){return null!==l?l.refSys:""}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})()},4970:(m,c,r)=>{r.d(c,{W:()=>i});var e=r(95),n=r(9468),u=r(5779);let i=(()=>{class s{constructor(t){this.actionSuggereeFormService=t}createFormEtape(t){return new e.cw({id:new e.NI(this.getEtapeId(t),{nonNullable:!0,validators:[e.kI.required]}),numeroEtape:new e.NI(this.getEtapeNumeroEtape(t),{nonNullable:!0,validators:[e.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormActionSuggeree(this.getEtapeActionSuggeree(t)),refSys:new e.NI(this.getEtapeRefSys(t),{})})}createFormNewEtape(){return new e.cw({id:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),numeroEtape:new e.NI(0,{nonNullable:!0,validators:[e.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormNewActionSuggeree(),refSys:new e.NI("",{})})}getEtapeId(t){return null!==t?t.id:""}getEtapeRefSys(t){return null!==t?t.refSys:""}getEtapeNumeroEtape(t){return null!==t?t.numeroEtape:0}getEtapeActionSuggeree(t){return null!==t?t.actionSuggere:null}static#e=this.\u0275fac=function(a){return new(a||s)(n.LFG(u.P))};static#t=this.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac})}return s})()},1793:(m,c,r)=>{r.d(c,{K:()=>O});var e=r(6814),n=r(9207),u=r(2984),i=r(676),s=r(198);const t=(0,i.Lq)({savedFile:null,errors:null},(0,i.on)(s.NY.importFileSuccess,(d,g)=>({...d,savedFile:g.fileUploadResult})),(0,i.on)(s.NY.resetErrorField,(d,g)=>{let p={};return null!==d.errors&&Object.entries(d.errors).forEach(([I,v])=>{I!==g.fieldName&&(p[`${I}`]=v)}),{...d,errors:p}}));(0,i.ZF)("file-imports");var o=r(6465),h=r(6063),_=r(7398),E=r(6306),N=r(8504),S=r(7634),f=r(9468),y=r(8281),D=r(797);let A=(()=>{class d{constructor(p,I,v,F,C){this.fileService=p,this.actions$=I,this.router=v,this.modalService=F,this.store=C,this.importFile$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(s.NY.importFile),(0,S.z)(M=>(this.store.dispatch((0,h.Q)()),this.fileService.import(M.filePath).pipe((0,_.U)(P=>(console.log(P),this.store.dispatch((0,h.Z)()),s.NY.importFileSuccess({fileUploadResult:P,id:M.id}))),(0,E.K)(P=>(console.log(P),(0,N._)(()=>P))))))),{dispatch:!0})}static#e=this.\u0275fac=function(I){return new(I||d)(f.LFG(u.I),f.LFG(o.eX),f.LFG(y.F0),f.LFG(D.Z),f.LFG(i.yh))};static#t=this.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac})}return d})(),O=(()=>{class d{static#e=this.\u0275fac=function(I){return new(I||d)};static#t=this.\u0275mod=f.oAB({type:d});static#r=this.\u0275inj=f.cJS({providers:[u.I],imports:[e.ez,n.m,i.Aw.forFeature("file-imports",t),o.sQ.forFeature(A)]})}return d})()},2984:(m,c,r)=>{r.d(c,{I:()=>i});var e=r(1946),n=r(9468),u=r(9862);let i=(()=>{class s{constructor(t){this.http=t,this.url="http://192.168.1.120:8080/source_file_service-impl-1.0-SNAPSHOT/api",this.resourceBasePath="items-file"}getResourceBasePath(){return`${e.y}/incident`}import(t){const a=new FormData;return a.append("file",t),this.http.post(`${this.url}/${this.resourceBasePath}/upload`,a)}static#e=this.\u0275fac=function(a){return new(a||s)(n.LFG(u.eN))};static#t=this.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac})}return s})()},198:(m,c,r)=>{r.d(c,{NY:()=>a});var e=r(676);const n="FileUpload",a={importFile:(0,e.PH)(`[${n} API] Import File`,(0,e.Ky)()),importFileSuccess:(0,e.PH)(`[${n} API] Import File Success`,(0,e.Ky)()),setError:(0,e.PH)(`[${n} API] Create Error`,(0,e.Ky)()),resetError:(0,e.PH)(`[${n} API] Reset Error`),resetErrorField:(0,e.PH)(`[${n} API] Reset Error Field`,(0,e.Ky)())}},8510:(m,c,r)=>{r.d(c,{Y:()=>a});var e=r(6814),n=r(9207),u=r(2030),i=r(3396),s=r(1793),l=r(9468);let t=(()=>{class o{static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275mod=l.oAB({type:o});static#r=this.\u0275inj=l.cJS({imports:[e.ez,n.m]})}return o})(),a=(()=>{class o{static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275mod=l.oAB({type:o});static#r=this.\u0275inj=l.cJS({imports:[e.ez,n.m,u.h,t,i.B,s.K]})}return o})()},3096:(m,c,r)=>{r.d(c,{X:()=>i});var e=r(95),n=r(9468),u=r(3975);let i=(()=>{class s{constructor(t){this.solutionFormService=t}createForm(t,a,o){return this.currentIncident=o,this.currentOperationType=t,this.currentRoleIncident=a,console.log("Create Form : "+this.currentRoleIncident),new e.cw({titre:new e.NI(o.titre,{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI(o.description,{nonNullable:!0,validators:[e.kI.required]}),equipement:new e.NI(o.equipement,{nonNullable:!0,validators:[e.kI.required]}),groupeEquipement:new e.NI(o.groupeEquipement),categorieEquipement:new e.NI(o.categorieEquipement),sousCategorieEquipement:new e.NI(o.sousCategorieEquipement),libelleEquipement:new e.NI(o.libelleEquipement),numeroSerie:new e.NI(o.numeroSerie),refSys:new e.NI(o.refSys),etapeIncident:new e.NI(o.etapeIncident),prioriteIncident:new e.NI(o.prioriteIncident,{}),typeIncident:new e.NI(o.typeIncident,{nonNullable:!0,validators:[e.kI.required]}),probleme:new e.NI(o.probleme,{nonNullable:"USER"!==this.currentRoleIncident,validators:[this.problemeValidator.bind(this)]}),impact:new e.NI(o.impact,{validators:[this.impactValidator.bind(this)]}),categorieIncident:new e.NI(o.categorieIncident,{validators:[this.categorieValidator.bind(this)]}),firstName:new e.NI(o.firstName),lastName:new e.NI(o.lastName),userName:new e.NI(o.userName),demandeur:new e.NI(o.demandeur,{validators:[this.demandeurValidator.bind(this)]}),firstNameGestionnaire:new e.NI(o.firstNameGestionnaire),lastNameGestionnaire:new e.NI(o.lastNameGestionnaire),userNameGestionnaire:new e.NI(o.userNameGestionnaire),firstNameSupport:new e.NI(o.firstNameSupport),lastNameSupport:new e.NI(o.lastNameSupport),userNameSupport:new e.NI(o.userNameSupport),test:new e.NI(o.test),gestionnaire:new e.NI(o.gestionnaire,{validators:[this.gestionnaireValidator.bind(this)]}),source:new e.NI(o.source,{nonNullable:!0,validators:[e.kI.required]}),severite:new e.NI(o.severite,{nonNullable:!0,validators:[e.kI.required]}),solution:this.solutionFormService.createFormSolution(this.currentOperationType,o.solution),dateCreation:new e.NI(o.dateCreation),dateDerniereModification:new e.NI(o.dateDerniereModification)})}createSearchForm(){return new e.cw({titre:new e.NI("",{nonNullable:!0})})}problemeValidator(t){return"USER"===this.currentRoleIncident?"ADD"===this.currentOperationType?null===t.value?null:{problemeInvalide:!0}:null===t.value?{problemeInvalide:!0}:null:(console.log(this.currentRoleIncident),null===t.value?{problemeInvalide:!0}:null)}impactValidator(t){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===t.value?null:{impactInvalide:!0}:null===t.value?{impactInvalide:!0}:null}gestionnaireValidator(t){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===t.value?null:{gestionnaireInvalide:!0}:null===t.value?{gestionnaireInvalide:!0}:null}demandeurValidator(t){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===t.value?null:{demandeurInvalide:!0}:null===t.value?{demandeurInvalide:!0}:null}categorieValidator(t){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===t.value?null:{categorieInvalide:!0}:null===t.value?{categorieInvalide:!0}:null}static#e=this.\u0275fac=function(a){return new(a||s)(n.LFG(u.x))};static#t=this.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac})}return s})()},3975:(m,c,r)=>{r.d(c,{x:()=>i});var e=r(95),n=r(9468),u=r(4970);let i=(()=>{class s{constructor(t){this.etapeFormService=t}createFormSolution(t,a){return new e.cw({id:new e.NI({value:this.getSolutionId(a),disabled:"BEING_RESOLVED"!==t},{nonNullable:!0,validators:[e.kI.required]}),code:new e.NI({value:this.getSolutionCode(a),disabled:"BEING_RESOLVED"!==t},{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI({value:this.getSolutionLibelle(a),disabled:"BEING_RESOLVED"!==t},{nonNullable:!0,validators:[e.kI.required]}),refSys:new e.NI({value:this.getSolutionRefSys(a),disabled:"BEING_RESOLVED"!==t},{}),description:new e.NI({value:this.getSolutionDescription(a),disabled:"BEING_RESOLVED"!==t},{}),nombreEtape:new e.NI({value:this.getSolutionNumber(a),disabled:"BEING_RESOLVED"!==t},{nonNullable:!0,validators:[e.kI.required]}),etapes:new e.Oe(this.createEtapeForms(this.getSolutionEtapes(a)))})}getSolutionId(t){return t?t.id:""}getSolutionCode(t){return t?t.code:""}getSolutionRefSys(t){return t?t.refSys:""}getSolutionLibelle(t){return t?t.libelle:""}getSolutionDescription(t){return t?t.description:""}getSolutionNumber(t){return t?t.nombreEtape:0}getSolutionEtapes(t){return t?t.etapes:[]}createEtapeForms(t){return t.map(a=>this.etapeFormService.createFormEtape(a))}static#e=this.\u0275fac=function(a){return new(a||s)(n.LFG(u.W))};static#t=this.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac})}return s})()},2030:(m,c,r)=>{r.d(c,{h:()=>i});var e=r(6814),n=r(9207),u=r(9468);let i=(()=>{class s{static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275mod=u.oAB({type:s});static#r=this.\u0275inj=u.cJS({imports:[e.ez,n.m]})}return s})()},9784:(m,c,r)=>{r.d(c,{NY:()=>v});var e=r(676);const n="Incident Rejete IT",u=(0,e.PH)(`[${n} API] Load All`),i=(0,e.PH)(`[${n} API] Load All Success`,(0,e.Ky)()),s=(0,e.PH)(`[${n} API] Create`,(0,e.Ky)()),l=(0,e.PH)(`[${n} API] Create Success`,(0,e.Ky)()),t=(0,e.PH)(`[${n} API] Load`,(0,e.Ky)()),a=(0,e.PH)(`[${n} API] Reset`),o=(0,e.PH)(`[${n} API] Load Success`,(0,e.Ky)()),h=(0,e.PH)(`[${n} API] Delete`,(0,e.Ky)()),_=(0,e.PH)(`[${n} API] Delete Success`,(0,e.Ky)()),E=(0,e.PH)(`[${n} API] Update`,(0,e.Ky)()),N=(0,e.PH)(`[${n} API] Update Success`,(0,e.Ky)()),S=(0,e.PH)(`[${n} API] Load Form Model`),f=(0,e.PH)(`[${n} API] Reset Form Model`),y=(0,e.PH)(`[${n} API] Load Form Model Success`,(0,e.Ky)()),D=(0,e.PH)(`[${n} API] Reset Search`),A=(0,e.PH)(`[${n} API] Search`,(0,e.Ky)()),O=(0,e.PH)(`[${n} API] Change Page`,(0,e.Ky)()),d=(0,e.PH)(`[${n} API] Change Page Size`,(0,e.Ky)()),v={loadItems:u,loadItemsSuccess:i,resetItem:a,createItem:s,createItemSuccess:l,loadItem:t,loadItemSuccess:o,updateItem:E,updateItemSuccess:N,deleteItem:h,deleteItemSuccess:_,loadFormModel:S,resetFormModel:f,loadFormModelSuccess:y,setError:(0,e.PH)(`[${n} API] Create Error`,(0,e.Ky)()),resetError:(0,e.PH)(`[${n} API] Reset Error`),resetErrorField:(0,e.PH)(`[${n} API] Reset Error Field`,(0,e.Ky)()),resetSearch:D,search:A,changePage:O,changePageSize:d}},8346:(m,c,r)=>{r.d(c,{W:()=>i});var e=r(9468),n=r(95),u=r(7394);let i=(()=>{class s{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new u.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new n.NI}writeValue(t){this.control.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,t?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(t)})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(a,o){1&a&&e._UZ(0,"input",0),2&a&&(e.Gre("custom-text-field m-0 form-control-sm ",o.otherclass,""),e.s9C("placeholder",o.placeholder),e.Q6J("type",o.type)("formControl",o.control)("readonly",o.readonly))},dependencies:[n.Fj,n.JJ,n.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return s})()},1171:(m,c,r)=>{r.d(c,{h:()=>n});var e=r(9468);let n=(()=>{class u{constructor(){this.title="",this.class=""}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.Xpm({type:u,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(l,t){1&l&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&l&&(e.Tol(t.class),e.xp6(1),e.Oqu(t.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return u})()},3849:(m,c,r)=>{r.d(c,{L:()=>s});var e=r(9468),n=r(2463),u=r(6814),i=r(166);let s=(()=>{class l{constructor(){this.printButtonClicked=new e.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[e.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(o,h){1&o&&(e.TgZ(0,"app-custom-button",0),e.NdJ("buttonClicked",function(){return h.emitPrintButtonClicked()}),e.qZA())},dependencies:[u.ez,n.v,i.x],styles:["[_nghost-%COMP%]{display:block}"]})}return l})()},547:(m,c,r)=>{r.d(c,{Z:()=>u});var e=r(9468),n=r(95);let u=(()=>{class i{constructor(l){this.ngControl=l}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(n.a5,10))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","formControl",""],["","formControlName",""]]})}return i})()}}]);