"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[4239],{3396:(P,g,i)=>{i.d(g,{B:()=>_});var t=i(6814),h=i(9207),f=i(9468);let _=(()=>{class u{static#e=this.\u0275fac=function(p){return new(p||u)};static#t=this.\u0275mod=f.oAB({type:u});static#n=this.\u0275inj=f.cJS({imports:[t.ez,h.m]})}return u})()},5779:(P,g,i)=>{i.d(g,{P:()=>f});var t=i(95),h=i(9468);let f=(()=>{class _{constructor(){}createFormActionSuggeree(o){return new t.cw({id:new t.NI(this.getActionSuggereeId(o),{nonNullable:!0,validators:[t.kI.required]}),libelle:new t.NI(this.getActionSuggereeLibelle(o),{nonNullable:!0,validators:[t.kI.required]}),statut:new t.NI(this.getActionSuggereeStatut(o),{nonNullable:!0,validators:[t.kI.required]}),description:new t.NI(this.getActionSuggereeDescription(o),{}),refSys:new t.NI(this.getActionSuggereeRefSys(o),{})})}createFormNewActionSuggeree(){return new t.cw({id:new t.NI("",{nonNullable:!0,validators:[t.kI.required]}),libelle:new t.NI("",{nonNullable:!0,validators:[t.kI.required]}),statut:new t.NI(null,{nonNullable:!0,validators:[t.kI.required]}),description:new t.NI("",{}),refSys:new t.NI("",{})})}getActionSuggereeId(o){return null!==o?o.id:0}getActionSuggereeLibelle(o){return null!==o?o.libelle:""}getActionSuggereeStatut(o){return null!==o?o.statut:null}getActionSuggereeDescription(o){return null!==o?o.description:""}getActionSuggereeRefSys(o){return null!==o?o.refSys:""}static#e=this.\u0275fac=function(n){return new(n||_)};static#t=this.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac})}return _})()},4970:(P,g,i)=>{i.d(g,{W:()=>_});var t=i(95),h=i(9468),f=i(5779);let _=(()=>{class u{constructor(n){this.actionSuggereeFormService=n}createFormEtape(n){return new t.cw({id:new t.NI(this.getEtapeId(n),{nonNullable:!0,validators:[t.kI.required]}),numeroEtape:new t.NI(this.getEtapeNumeroEtape(n),{nonNullable:!0,validators:[t.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormActionSuggeree(this.getEtapeActionSuggeree(n)),refSys:new t.NI(this.getEtapeRefSys(n),{})})}createFormNewEtape(){return new t.cw({id:new t.NI("",{nonNullable:!0,validators:[t.kI.required]}),numeroEtape:new t.NI(0,{nonNullable:!0,validators:[t.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormNewActionSuggeree(),refSys:new t.NI("",{})})}getEtapeId(n){return null!==n?n.id:""}getEtapeRefSys(n){return null!==n?n.refSys:""}getEtapeNumeroEtape(n){return null!==n?n.numeroEtape:0}getEtapeActionSuggeree(n){return null!==n?n.actionSuggere:null}static#e=this.\u0275fac=function(p){return new(p||u)(h.LFG(f.P))};static#t=this.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac})}return u})()},1793:(P,g,i)=>{i.d(g,{K:()=>V});var t=i(6814),h=i(9207),f=i(2984),_=i(676),u=i(198);const n=(0,_.Lq)({savedFile:null,errors:null},(0,_.on)(u.NY.importFileSuccess,(E,K)=>({...E,savedFile:K.fileUploadResult})),(0,_.on)(u.NY.resetErrorField,(E,K)=>{let F={};return null!==E.errors&&Object.entries(E.errors).forEach(([O,R])=>{O!==K.fieldName&&(F[`${O}`]=R)}),{...E,errors:F}}));(0,_.ZF)("file-imports");var l=i(6465),A=i(6063),T=i(7398),b=i(6306),Y=i(8504),H=i(7634),N=i(9468),q=i(8281),J=i(797);let Q=(()=>{class E{constructor(F,O,R,k,j){this.fileService=F,this.actions$=O,this.router=R,this.modalService=k,this.store=j,this.importFile$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(u.NY.importFile),(0,H.z)(w=>(this.store.dispatch((0,A.Q)()),this.fileService.import(w.filePath).pipe((0,T.U)(L=>(console.log(L),this.store.dispatch((0,A.Z)()),u.NY.importFileSuccess({fileUploadResult:L,id:w.id}))),(0,b.K)(L=>(console.log(L),(0,Y._)(()=>L))))))),{dispatch:!0})}static#e=this.\u0275fac=function(O){return new(O||E)(N.LFG(f.I),N.LFG(l.eX),N.LFG(q.F0),N.LFG(J.Z),N.LFG(_.yh))};static#t=this.\u0275prov=N.Yz7({token:E,factory:E.\u0275fac})}return E})(),V=(()=>{class E{static#e=this.\u0275fac=function(O){return new(O||E)};static#t=this.\u0275mod=N.oAB({type:E});static#n=this.\u0275inj=N.cJS({providers:[f.I],imports:[t.ez,h.m,_.Aw.forFeature("file-imports",n),l.sQ.forFeature(Q)]})}return E})()},2984:(P,g,i)=>{i.d(g,{I:()=>_});var t=i(1946),h=i(9468),f=i(9862);let _=(()=>{class u{constructor(n){this.http=n,this.url="http://192.168.1.120:8080/source_file_service-impl-1.0-SNAPSHOT/api",this.resourceBasePath="items-file"}getResourceBasePath(){return`${t.y}/incident`}import(n){const p=new FormData;return p.append("file",n),this.http.post(`${this.url}/${this.resourceBasePath}/upload`,p)}static#e=this.\u0275fac=function(p){return new(p||u)(h.LFG(f.eN))};static#t=this.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac})}return u})()},198:(P,g,i)=>{i.d(g,{NY:()=>p});var t=i(676);const h="FileUpload",p={importFile:(0,t.PH)(`[${h} API] Import File`,(0,t.Ky)()),importFileSuccess:(0,t.PH)(`[${h} API] Import File Success`,(0,t.Ky)()),setError:(0,t.PH)(`[${h} API] Create Error`,(0,t.Ky)()),resetError:(0,t.PH)(`[${h} API] Reset Error`),resetErrorField:(0,t.PH)(`[${h} API] Reset Error Field`,(0,t.Ky)())}},8510:(P,g,i)=>{i.d(g,{Y:()=>p});var t=i(6814),h=i(9207),f=i(2030),_=i(3396),u=i(1793),o=i(9468);let n=(()=>{class l{static#e=this.\u0275fac=function(b){return new(b||l)};static#t=this.\u0275mod=o.oAB({type:l});static#n=this.\u0275inj=o.cJS({imports:[t.ez,h.m]})}return l})(),p=(()=>{class l{static#e=this.\u0275fac=function(b){return new(b||l)};static#t=this.\u0275mod=o.oAB({type:l});static#n=this.\u0275inj=o.cJS({imports:[t.ez,h.m,f.h,n,_.B,u.K]})}return l})()},3096:(P,g,i)=>{i.d(g,{X:()=>_});var t=i(95),h=i(9468),f=i(3975);let _=(()=>{class u{constructor(n){this.solutionFormService=n}createForm(n,p,l){return this.currentIncident=l,this.currentOperationType=n,this.currentRoleIncident=p,console.log("Create Form : "+this.currentRoleIncident),new t.cw({titre:new t.NI(l.titre,{nonNullable:!0,validators:[t.kI.required]}),description:new t.NI(l.description,{nonNullable:!0,validators:[t.kI.required]}),equipement:new t.NI(l.equipement,{nonNullable:!0,validators:[t.kI.required]}),groupeEquipement:new t.NI(l.groupeEquipement),categorieEquipement:new t.NI(l.categorieEquipement),sousCategorieEquipement:new t.NI(l.sousCategorieEquipement),libelleEquipement:new t.NI(l.libelleEquipement),numeroSerie:new t.NI(l.numeroSerie),refSys:new t.NI(l.refSys),etapeIncident:new t.NI(l.etapeIncident),prioriteIncident:new t.NI(l.prioriteIncident,{}),typeIncident:new t.NI(l.typeIncident,{nonNullable:!0,validators:[t.kI.required]}),probleme:new t.NI(l.probleme,{nonNullable:"USER"!==this.currentRoleIncident,validators:[this.problemeValidator.bind(this)]}),impact:new t.NI(l.impact,{validators:[this.impactValidator.bind(this)]}),categorieIncident:new t.NI(l.categorieIncident,{validators:[this.categorieValidator.bind(this)]}),firstName:new t.NI(l.firstName),lastName:new t.NI(l.lastName),userName:new t.NI(l.userName),demandeur:new t.NI(l.demandeur,{validators:[this.demandeurValidator.bind(this)]}),firstNameGestionnaire:new t.NI(l.firstNameGestionnaire),lastNameGestionnaire:new t.NI(l.lastNameGestionnaire),userNameGestionnaire:new t.NI(l.userNameGestionnaire),firstNameSupport:new t.NI(l.firstNameSupport),lastNameSupport:new t.NI(l.lastNameSupport),userNameSupport:new t.NI(l.userNameSupport),test:new t.NI(l.test),gestionnaire:new t.NI(l.gestionnaire,{validators:[this.gestionnaireValidator.bind(this)]}),source:new t.NI(l.source,{nonNullable:!0,validators:[t.kI.required]}),severite:new t.NI(l.severite,{nonNullable:!0,validators:[t.kI.required]}),solution:this.solutionFormService.createFormSolution(this.currentOperationType,l.solution),dateCreation:new t.NI(l.dateCreation),dateDerniereModification:new t.NI(l.dateDerniereModification)})}createSearchForm(){return new t.cw({titre:new t.NI("",{nonNullable:!0})})}problemeValidator(n){return"USER"===this.currentRoleIncident?"ADD"===this.currentOperationType?null===n.value?null:{problemeInvalide:!0}:null===n.value?{problemeInvalide:!0}:null:(console.log(this.currentRoleIncident),null===n.value?{problemeInvalide:!0}:null)}impactValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{impactInvalide:!0}:null===n.value?{impactInvalide:!0}:null}gestionnaireValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{gestionnaireInvalide:!0}:null===n.value?{gestionnaireInvalide:!0}:null}demandeurValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{demandeurInvalide:!0}:null===n.value?{demandeurInvalide:!0}:null}categorieValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{categorieInvalide:!0}:null===n.value?{categorieInvalide:!0}:null}static#e=this.\u0275fac=function(p){return new(p||u)(h.LFG(f.x))};static#t=this.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac})}return u})()},3975:(P,g,i)=>{i.d(g,{x:()=>_});var t=i(95),h=i(9468),f=i(4970);let _=(()=>{class u{constructor(n){this.etapeFormService=n}createFormSolution(n,p){return new t.cw({id:new t.NI({value:this.getSolutionId(p),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[t.kI.required]}),code:new t.NI({value:this.getSolutionCode(p),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[t.kI.required]}),libelle:new t.NI({value:this.getSolutionLibelle(p),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[t.kI.required]}),refSys:new t.NI({value:this.getSolutionRefSys(p),disabled:"BEING_RESOLVED"!==n},{}),description:new t.NI({value:this.getSolutionDescription(p),disabled:"BEING_RESOLVED"!==n},{}),nombreEtape:new t.NI({value:this.getSolutionNumber(p),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[t.kI.required]}),etapes:new t.Oe(this.createEtapeForms(this.getSolutionEtapes(p)))})}getSolutionId(n){return n?n.id:""}getSolutionCode(n){return n?n.code:""}getSolutionRefSys(n){return n?n.refSys:""}getSolutionLibelle(n){return n?n.libelle:""}getSolutionDescription(n){return n?n.description:""}getSolutionNumber(n){return n?n.nombreEtape:0}getSolutionEtapes(n){return n?n.etapes:[]}createEtapeForms(n){return n.map(p=>this.etapeFormService.createFormEtape(p))}static#e=this.\u0275fac=function(p){return new(p||u)(h.LFG(f.W))};static#t=this.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac})}return u})()},2030:(P,g,i)=>{i.d(g,{h:()=>_});var t=i(6814),h=i(9207),f=i(9468);let _=(()=>{class u{static#e=this.\u0275fac=function(p){return new(p||u)};static#t=this.\u0275mod=f.oAB({type:u});static#n=this.\u0275inj=f.cJS({imports:[t.ez,h.m]})}return u})()},4239:(P,g,i)=>{i.r(g),i.d(g,{IncidentClosModule:()=>It});var t=i(6814),h=i(5779),f=i(3096),_=i(4970),u=i(3975),o=i(676);const n="Incident Clos Superviseur",p=(0,o.PH)(`[${n} API] Load All`),l=(0,o.PH)(`[${n} API] Load All Success`,(0,o.Ky)()),A=(0,o.PH)(`[${n} API] Create`,(0,o.Ky)()),T=(0,o.PH)(`[${n} API] Create Success`,(0,o.Ky)()),b=(0,o.PH)(`[${n} API] Load`,(0,o.Ky)()),Y=(0,o.PH)(`[${n} API] Reset`),H=(0,o.PH)(`[${n} API] Load Success`,(0,o.Ky)()),N=(0,o.PH)(`[${n} API] Delete`,(0,o.Ky)()),q=(0,o.PH)(`[${n} API] Delete Success`,(0,o.Ky)()),J=(0,o.PH)(`[${n} API] Close`,(0,o.Ky)()),Q=(0,o.PH)(`[${n} API] Close Success`,(0,o.Ky)()),V=(0,o.PH)(`[${n} API] Update`,(0,o.Ky)()),E=(0,o.PH)(`[${n} API] Update Success`,(0,o.Ky)()),K=(0,o.PH)(`[${n} API] Load Form Model`),F=(0,o.PH)(`[${n} API] Reset Form Model`),O=(0,o.PH)(`[${n} API] Load Form Model Success`,(0,o.Ky)()),R=(0,o.PH)(`[${n} API] Reset Search`),k=(0,o.PH)(`[${n} API] Search`,(0,o.Ky)()),j=(0,o.PH)(`[${n} API] Change Page`,(0,o.Ky)()),w=(0,o.PH)(`[${n} API] Change Page Size`,(0,o.Ky)()),m={loadItems:p,loadItemsSuccess:l,resetItem:Y,createItem:A,createItemSuccess:T,loadItem:b,loadItemSuccess:H,updateItem:V,updateItemSuccess:E,deleteItem:N,deleteItemSuccess:q,closeItem:J,closeItemSuccess:Q,loadFormModel:K,resetFormModel:F,loadFormModelSuccess:O,setError:(0,o.PH)(`[${n} API] Create Error`,(0,o.Ky)()),resetError:(0,o.PH)(`[${n} API] Reset Error`),resetErrorField:(0,o.PH)(`[${n} API] Reset Error Field`,(0,o.Ky)()),resetSearch:R,search:k,changePage:j,changePageSize:w},me=(0,o.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,o.on)(m.loadItemsSuccess,(r,a)=>({...r,items:a.items,totalElement:a.totalElement})),(0,o.on)(m.resetItem,(r,a)=>({...r,currentItem:null})),(0,o.on)(m.createItemSuccess,(r,a)=>({...r})),(0,o.on)(m.deleteItemSuccess,(r,a)=>({...r})),(0,o.on)(m.loadItemSuccess,(r,a)=>({...r,currentItem:a.item})),(0,o.on)(m.updateItemSuccess,(r,a)=>({...r})),(0,o.on)(m.closeItemSuccess,(r,a)=>({...r})),(0,o.on)(m.loadFormModel,(r,a)=>({...r,formModel:null})),(0,o.on)(m.loadFormModelSuccess,(r,a)=>({...r,formModel:a.formModel})),(0,o.on)(m.resetSearch,(r,a)=>({...r,searchModel:{}})),(0,o.on)(m.search,(r,a)=>({...r,searchModel:a.searchModel})),(0,o.on)(m.changePage,(r,a)=>({...r,page:a.page})),(0,o.on)(m.changePageSize,(r,a)=>({...r,pageSize:a.pageSize})),(0,o.on)(m.setError,(r,a)=>({...r,errors:a.errors})),(0,o.on)(m.resetError,(r,a)=>({...r,errors:{}})),(0,o.on)(m.resetErrorField,(r,a)=>{let s={};return null!==r.errors&&Object.entries(r.errors).forEach(([c,d])=>{c!==a.fieldName&&(s[`${c}`]=d)}),{...r,errors:s}})),U=(0,o.ZF)("incident-clos"),he=(0,o.P1)(U,r=>r.items),fe=((0,o.P1)(U,r=>r.currentItem),(0,o.P1)(U,r=>r.formModel),(0,o.P1)(U,r=>r.searchModel)),re=(0,o.P1)(U,r=>r.page),ie=(0,o.P1)(U,r=>r.pageSize),_e=(0,o.P1)(U,r=>r.totalElement);(0,o.P1)(U,r=>r.errors);var ge=i(2572),M=i(7398),oe=i(1892),e=i(9468),se=i(166),ve=i(9543),Ce=i(9887);function Ie(r,a){if(1&r&&(e.TgZ(0,"div",19)(1,"div",26)(2,"span",15),e._uU(3),e.qZA()()()),2&r){const s=a.$implicit;e.xp6(3),e.AsE("",s.numeroEtape,". ",null==s.actionSuggere?null:s.actionSuggere.libelle,"")}}let Ee=(()=>{class r{constructor(s,c,d){this.modalData=s,this.modalRef=c,this.store=d,this.id="",this.id=this.modalData.data.id,this.incident=this.modalData.data.incident}ngOnInit(){console.log(this.incident.solution)}approuveIncident(){this.store.dispatch(m.closeItem({id:Number(this.id),item:this.incident})),this.modalRef.close(void 0)}close(){this.modalRef.close(void 0)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(oe.S),e.Y36(oe.R),e.Y36(o.yh))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-modal-cloture"]],decls:104,vars:19,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Informations sur l'Incident"],[1,"general-info","flex-column"],[1,"col-12","mb-2","d-flex","row"],[1,"text-start"],[1,"poppins-bold","text-success"],[1,"col-12","mb-2","flex","row"],[1,"col-3"],[1,"text-end"],[1,"poppins-bold"],[1,"col-6"],[1,"text-end","poppins-bold"],[1,"text-end","poppins-bold","text-success"],[1,"col-12","mb-1","flex","row"],["icon","fa fa-angle-right","title","Informations sur la Solution"],[1,"col-12","mb-3","flex","row"],[1,"col-4"],["icon","fa fa-angle-right","title","Liste des \xe9tapes"],["class","col-12 mb-3 flex row",4,"ngFor","ngForOf"],[1,"form-actions","mt-2"],["title","Valider",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"],[1,"col-12"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Cl\xf4ture de l'Incident"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",4)(6,"app-panel-custom",5)(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10,"Titre: "),e.TgZ(11,"span",9),e._uU(12),e.qZA()()(),e.TgZ(13,"div",10)(14,"div",11)(15,"span",12),e._uU(16,"Type Incident: "),e.qZA(),e.TgZ(17,"span",13),e._uU(18),e.qZA()(),e.TgZ(19,"div",14)(20,"span",12),e._uU(21,"Equipement: "),e.qZA(),e.TgZ(22,"span",9),e._uU(23),e.qZA()(),e.TgZ(24,"div",11)(25,"span",12),e._uU(26,"Impact: "),e.qZA(),e.TgZ(27,"span",15),e._uU(28),e.qZA()()(),e.TgZ(29,"div",10)(30,"div",11)(31,"span",12),e._uU(32,"Probl\xe8me: "),e.qZA(),e.TgZ(33,"span",13),e._uU(34),e.qZA()(),e.TgZ(35,"div",11)(36,"span",12),e._uU(37,"Cat\xe9gorie: "),e.qZA(),e.TgZ(38,"span",13),e._uU(39),e.qZA()(),e.TgZ(40,"div",11)(41,"span",12),e._uU(42,"Priorit\xe9: "),e.qZA(),e.TgZ(43,"span",15),e._uU(44),e.qZA()(),e.TgZ(45,"div",11)(46,"span",12),e._uU(47,"Source: "),e.qZA(),e.TgZ(48,"span",15),e._uU(49),e.qZA()()(),e.TgZ(50,"div",10)(51,"div",11)(52,"span",12),e._uU(53,"S\xe9v\xe9rit\xe9: "),e.qZA(),e.TgZ(54,"span",15),e._uU(55),e.qZA()(),e.TgZ(56,"div",11)(57,"span",12),e._uU(58,"Visibilit\xe9: "),e.qZA(),e._UZ(59,"span",15),e.qZA(),e.TgZ(60,"div",11)(61,"span",12),e._uU(62,"Emis par: "),e.qZA(),e.TgZ(63,"span",16),e._uU(64),e.qZA()(),e.TgZ(65,"div",11)(66,"span",12),e._uU(67,"Affect\xe9 \xe0: "),e.qZA(),e.TgZ(68,"span",16),e._uU(69),e.qZA()()(),e.TgZ(70,"div",17)(71,"span",8),e._uU(72,"Description: "),e.qZA(),e.TgZ(73,"span",13),e._uU(74),e.qZA()()()(),e.TgZ(75,"app-panel-custom",18)(76,"div",6)(77,"div",19)(78,"div",20)(79,"span",12),e._uU(80,"Code Solution: "),e.qZA(),e.TgZ(81,"span",15),e._uU(82),e.qZA()(),e.TgZ(83,"div",20)(84,"span",12),e._uU(85,"Libell\xe9: "),e.qZA(),e.TgZ(86,"span",13),e._uU(87),e.qZA()(),e.TgZ(88,"div",20)(89,"span",12),e._uU(90,"Nombre d'Etapes: "),e.qZA(),e.TgZ(91,"span",13),e._uU(92),e.qZA()()(),e.TgZ(93,"div",17)(94,"span",8),e._uU(95,"Description: "),e.qZA(),e.TgZ(96,"span",13),e._uU(97),e.qZA()()()(),e.TgZ(98,"app-panel-custom",21)(99,"div",6),e.YNc(100,Ie,4,2,"div",22),e.qZA()()(),e.TgZ(101,"div",23)(102,"app-primary-button",24),e.NdJ("buttonClicked",function(){return d.approuveIncident()}),e.qZA(),e.TgZ(103,"app-custom-button",25),e.NdJ("buttonClicked",function(){return d.close()}),e.qZA()()()),2&c&&(e.xp6(12),e.Oqu(d.incident.titre),e.xp6(6),e.Oqu(d.incident.typeIncident),e.xp6(5),e.Oqu(d.incident.equipement.libelle),e.xp6(5),e.Oqu(d.incident.impact.libelle),e.xp6(6),e.Oqu(d.incident.probleme.libelle),e.xp6(5),e.Oqu(d.incident.categorieIncident.libelle),e.xp6(5),e.Oqu(d.incident.prioriteIncident),e.xp6(5),e.Oqu(null==d.incident.source?null:d.incident.source.libelle),e.xp6(6),e.Oqu(null==d.incident.severite?null:d.incident.severite.libelle),e.xp6(9),e.AsE("",null==d.incident.demandeur?null:d.incident.demandeur.firstName," ",null==d.incident.demandeur?null:d.incident.demandeur.lastName,""),e.xp6(5),e.AsE("",null==d.incident.gestionnaire?null:d.incident.gestionnaire.firstName," ",null==d.incident.gestionnaire?null:d.incident.gestionnaire.lastName,""),e.xp6(5),e.Oqu(d.incident.description),e.xp6(8),e.Oqu(null==d.incident.solution?null:d.incident.solution.code),e.xp6(5),e.Oqu(null==d.incident.solution?null:d.incident.solution.libelle),e.xp6(5),e.Oqu(null==d.incident.solution?null:d.incident.solution.nombreEtape),e.xp6(5),e.Oqu(null==d.incident.solution?null:d.incident.solution.description),e.xp6(3),e.Q6J("ngForOf",null==d.incident.solution?null:d.incident.solution.etapes))},dependencies:[t.sg,se.x,ve.C,Ce.l],styles:["*[_ngcontent-%COMP%]{font-family:aileronlight}.poppins-bold[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700}.general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%;font-size:13px!important}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.form-main[_ngcontent-%COMP%]{overflow-y:auto;height:400px}.alert-header[_ngcontent-%COMP%]{background-color:#69abe9;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}"]})}return r})();var X=i(8281),le=i(797),ae=i(3849),G=i(95),Se=i(7251),Pe=i(6327),Ae=i(8564),be=i(8223),ye=i(602),Te=i(1469),Ze=i(6326),Ne=i(8346),Oe=i(1171),De=i(547),Me=i(362);function xe(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}function Fe(r,a){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const s=a.$implicit;e.xp6(1),e.Oqu(s.refSys)}}function Ue(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Cat & sous-categorie"),e.qZA())}const D=function(r){return{"alert-echeance":r}};function Le(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(2,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(null==s.categorieIncident?null:s.categorieIncident.code)}}function Be(r,a){1&r&&(e.TgZ(0,"th",37),e._uU(1,"Libell\xe9 Demande"),e.qZA())}function $e(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(2,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(s.titre)}}function Ke(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Equipement"),e.qZA())}function Re(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(2,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(s.equipement.libelle)}}function we(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Statut"),e.qZA())}function Ge(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(2,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(s.statutIncident)}}function ze(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Emis Par"),e.qZA())}function We(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(3,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.AsE("",null==s.demandeur?null:s.demandeur.firstName," ",null==s.demandeur?null:s.demandeur.lastName,"")}}function Ye(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Priorit\xe9"),e.qZA())}function He(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(2,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(s.prioriteIncident)}}function qe(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Affect\xe9 \xe0"),e.qZA())}function Je(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(3,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.AsE("",null==s.gestionnaire?null:s.gestionnaire.firstName," ",null==s.gestionnaire?null:s.gestionnaire.lastName,"")}}function Qe(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"S\xe9v\xe9rit\xe9"),e.qZA())}function Ve(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(2,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(null==s.severite?null:s.severite.libelle)}}function ke(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Date Cr\xe9ation"),e.qZA())}function je(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(5,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(e.xi3(2,2,s.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function Xe(r,a){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function et(r,a){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const s=a.$implicit,c=e.oxw(3);e.Q6J("ngClass",e.VKq(5,D,c.isDueDate(s.dateEcheanceCloture))),e.xp6(1),e.Oqu(e.xi3(2,2,s.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function tt(r,a){if(1&r){const s=e.EpF();e.TgZ(0,"table",18),e.NdJ("itemSelected",function(d){e.CHM(s);const Z=e.oxw(2);return e.KtG(Z.itemSelected(d))}),e.ynx(1,19),e.YNc(2,xe,2,0,"th",20),e.YNc(3,Fe,2,1,"td",21),e.BQk(),e.ynx(4,22),e.YNc(5,Ue,2,0,"th",20),e.YNc(6,Le,2,4,"td",23),e.BQk(),e.ynx(7,24),e.YNc(8,Be,2,0,"th",25),e.YNc(9,$e,2,4,"td",23),e.BQk(),e.ynx(10,26),e.YNc(11,Ke,2,0,"th",20),e.YNc(12,Re,2,4,"td",23),e.BQk(),e.ynx(13,27),e.YNc(14,we,2,0,"th",20),e.YNc(15,Ge,2,4,"td",23),e.BQk(),e.ynx(16,28),e.YNc(17,ze,2,0,"th",20),e.YNc(18,We,2,5,"td",23),e.BQk(),e.ynx(19,29),e.YNc(20,Ye,2,0,"th",20),e.YNc(21,He,2,4,"td",23),e.BQk(),e.ynx(22,30),e.YNc(23,qe,2,0,"th",20),e.YNc(24,Je,2,5,"td",23),e.BQk(),e.ynx(25,31),e.YNc(26,Qe,2,0,"th",20),e.YNc(27,Ve,2,4,"td",23),e.BQk(),e.ynx(28,32),e.YNc(29,ke,2,0,"th",20),e.YNc(30,je,3,7,"td",23),e.BQk(),e.ynx(31,33),e.YNc(32,Xe,2,0,"th",20),e.YNc(33,et,3,7,"td",23),e.BQk(),e.qZA()}if(2&r){const s=a.ngIf,c=e.oxw(2);e.Q6J("items",s)("headers",c.headerTable)("selectable",!0)}}function nt(r,a){if(1&r){const s=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(s);const d=e.oxw();return e.KtG(d.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(s);const d=e.oxw();return e.KtG(d.refreshButtonClicked())})("pageSelected",function(d){e.CHM(s);const Z=e.oxw();return e.KtG(Z.pageSelected(d))})("pageSizeChange",function(d){e.CHM(s);const Z=e.oxw();return e.KtG(Z.pageSizeChange(d))})("closeButtonClicked",function(){e.CHM(s);const d=e.oxw();return e.KtG(d.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e._UZ(7,"div",10),e.TgZ(8,"div",11)(9,"app-custom-button",12),e.NdJ("buttonClicked",function(){e.CHM(s);const d=e.oxw();return e.KtG(d.closeIncidentButtonClicked())}),e.qZA()(),e.TgZ(10,"div",13),e._UZ(11,"app-custom-button",14),e.TgZ(12,"app-print-button",15),e.NdJ("printButtonClicked",function(){e.CHM(s);const d=e.oxw();return e.KtG(d.printButtonClicked())}),e.qZA()(),e.TgZ(13,"div",16),e.YNc(14,tt,34,3,"table",17),e.ALo(15,"async"),e.qZA()()}if(2&r){const s=a.ngIf,c=e.oxw();e.Q6J("itemSelected",c.isItemSelected())("pageSize",s.pageSize)("currentPage",s.page)("totalElements",s.totalElement),e.xp6(1),e.Q6J("formGroup",c.searchForm),e.xp6(6),e.Q6J("formGroup",c.searchForm),e.xp6(2),e.Q6J("disabled",!c.isItemSelected()),e.xp6(5),e.Q6J("ngIf",e.lcZ(15,8,c.items$))}}let rt=(()=>{class r{constructor(s,c,d,Z){this.router=s,this.modalService=c,this.store=d,this.incidentFormService=Z,this.isUpdateActivated=!1,this.headerTable=["R\xe9f\xe9rence","Cat & sous-categorie","Libell\xe9 Demande","Equipement","Statut","Priorit\xe9","S\xe9v\xe9rit\xe9","Impact","Demandeur","Gestionnaire","service/unit.Fonct","Date Cr\xe9ation","Date Dern modif"],this.items$=this.store.select(he),this.page$=this.store.select(re),this.pageSize$=this.store.select(ie),this.totalElement$=this.store.select(_e),this.data$=(0,ge.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,M.U)(([ee,te,v])=>({page:ee,pageSize:te,totalElement:v}))),this.selectedItem=null,this.actualDate=0}ngOnInit(){this.searchForm=this.incidentFormService.createSearchForm(),this.store.dispatch(m.loadItems()),this.actualDate=Date.now()}isDueDate(s){return console.log(s-this.actualDate<=0),s-this.actualDate<=0}closeIncidentButtonClicked(){this.selectedItem?.id&&this.modalService.openComponent(Ee,{data:{id:this.selectedItem?.id,incident:this.selectedItem}})}itemSelected(s){this.selectedItem=s}pageSelected(s){this.store.dispatch(m.changePage({page:s}))}pageSizeChange(s){this.store.dispatch(m.changePageSize({pageSize:s}))}closeButtonClicked(){this.router.navigate(["incidents"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(m.resetSearch())}searchButtonClicked(){this.store.dispatch(m.search({searchModel:this.searchForm.value}))}printButtonClicked(){}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(X.F0),e.Y36(le.Z),e.Y36(o.yh),e.Y36(f.X))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-incident-clos-list"]],features:[e._Bn([f.X,u.x,_.W,h.P])],decls:4,vars:3,consts:[[1,"ps-3","pb-0","mb-0"],["pathLevelOne","Supervision Incident","pathLevelTwo","Cl\xf4turer Incident","pathLevelThree","Liste"],["title","Liste des Incidents \xe0 Cl\xf4turer",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Incidents \xe0 Cl\xf4turer",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","titre"],[1,"advance-search",3,"formGroup"],[1,"primary-actions"],["icon","icon-check btn-icon-add","title","Cl\xf4turer",1,"me-1",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Cat & sous-categorie"],["app-cell-def-template","","class","left",3,"ngClass",4,"appCellDefTemplate"],["appCellDef","Libell\xe9 Demande"],["app-header-attribute-def-template","","class","width-30",4,"appHeaderDefTemplate"],["appCellDef","Equipement"],["appCellDef","Statut"],["appCellDef","Demandeur"],["appCellDef","Priorit\xe9"],["appCellDef","Gestionnaire"],["appCellDef","S\xe9v\xe9rit\xe9"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Date Modification"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-cell-def-template","",1,"left",3,"ngClass"],["app-header-attribute-def-template","",1,"width-30"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,nt,16,10,"app-crud-list",2),e.ALo(3,"async")),2&c&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,d.data$)))},dependencies:[t.mk,t.O5,ae.L,G.JJ,G.JL,G.sg,G.u,Se._,se.x,Pe.N,Ae.D,be.h,ye.u,Te.O,Ze.q,Ne.W,Oe.h,De.Z,Me.V,t.Ov,t.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.left[_ngcontent-%COMP%]{text-align:left!important}.alert-echeance[_ngcontent-%COMP%]{background-color:#f5c2c7!important}"]})}return r})();var it=i(3396),ot=i(1793),C=i(6465),st=i(9207),lt=i(2030),at=i(8510),S=i(6063),ct=i(9862),ut=i(2460),x=i(6328),dt=i(9026),B=i(6306),z=i(9397),pt=i(1631),y=i(2096),mt=i(3186),ht=i(4664),ft=i(9989),_t=i(1946);let ce=(()=>{class r extends ft.v{getResourceBasePath(){return`${_t.y}/supervision-cloture-incident`}getIdValue(s){return s.id}close(s,c){return this.http.post(`${this.url}/${this.getResourceBasePath()}/cloturer/${s}`,c)}static#e=this.\u0275fac=function(){let s;return function(d){return(s||(s=e.n5z(r)))(d||r)}}();static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();var gt=i(6366);let vt=(()=>{class r{constructor(s,c,d,Z,ee,te){this.incidentClosService=s,this.authService=c,this.actions$=d,this.router=Z,this.modalService=ee,this.store=te,this.loadItems$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.loadItems),(0,ut.M)(this.store.select(re),this.store.select(ie),this.store.select(fe)),(0,x.b)(([v,I,W,ne])=>(this.store.dispatch((0,S.Q)()),(0,dt.$)(this.incidentClosService.getAllWithPagination(I,W,ne),this.incidentClosService.count(ne)).pipe((0,M.U)(([$,Et])=>(this.store.dispatch((0,S.Z)()),m.loadItemsSuccess({items:$,totalElement:Et}))),(0,B.K)($=>(this.store.dispatch((0,S.Z)()),(0,y.of)(m.setError({errors:$})))))))),{dispatch:!0}),this.createItem$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.createItem),(0,x.b)(v=>(this.store.dispatch((0,S.Q)()),console.log(v.item),this.incidentClosService.add(v.item).pipe((0,z.b)(()=>{this.store.dispatch((0,S.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/cloturer-incident")}),(0,M.U)(I=>m.createItemSuccess({item:I})),(0,B.K)(I=>(this.store.dispatch((0,S.Z)()),(0,y.of)(m.setError({errors:I})))))))),{dispatch:!0}),this.loadItem$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.loadItem),(0,pt.z)(v=>this.incidentClosService.findById(v.id).pipe((0,M.U)(I=>m.loadItemSuccess({item:I})),(0,B.K)(I=>(this.store.dispatch((0,S.Z)()),(0,y.of)(m.setError({errors:I}))))))),{dispatch:!0}),this.deleteItem$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.deleteItem),(0,x.b)(v=>this.incidentClosService.delete(v.item.id,v.item)),(0,z.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident supprim\xe9 avec succ\xe8s"})}),(0,M.U)(()=>m.loadItems()),(0,B.K)(v=>(this.store.dispatch((0,S.Z)()),(0,y.of)(m.setError({errors:v}))))),{dispatch:!0}),this.updateItem$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.updateItem),(0,x.b)(v=>(this.store.dispatch((0,S.Q)()),this.incidentClosService.update(v.item.id,v.item).pipe((0,z.b)(()=>{this.store.dispatch((0,S.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/cloturer-incident")}),(0,M.U)(I=>m.createItemSuccess({item:I})),(0,B.K)(I=>(this.store.dispatch((0,S.Z)()),(0,y.of)(m.setError({errors:I})))))))),{dispatch:!0}),this.closeItem$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.closeItem),(0,x.b)(v=>(this.store.dispatch((0,S.Q)()),this.incidentClosService.close(v.id,v.item).pipe((0,z.b)(()=>{this.store.dispatch((0,S.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident Cl\xf4tur\xe9 avec succ\xe8s"})}),(0,M.U)(()=>m.loadItems()),(0,B.K)(I=>(this.store.dispatch((0,S.Z)()),(0,y.of)(m.setError({errors:I})))))))),{dispatch:!0}),this.loadFormModel$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.loadFormModel),(0,x.b)(()=>this.incidentClosService.getFormModel()),(0,M.U)(v=>m.loadFormModelSuccess({formModel:v})),(0,B.K)(v=>(0,y.of)(m.setError({errors:v}))))),this.resetSearch$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.resetSearch),(0,x.b)(()=>(0,y.of)(m.changePage({page:1}))))),this.search$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.search),(0,x.b)(()=>(0,y.of)(m.changePage({page:1}))))),this.changePage$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.changePage),(0,M.U)(v=>m.loadItems()))),this.changePageSize$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.changePageSize),(0,x.b)(()=>(0,y.of)(m.changePage({page:1}))))),this.handleError$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(m.setError),(0,ht.w)(v=>{if(this.store.dispatch((0,S.Q)()),v.errors instanceof ct.UA){if(422===v.errors.status){let I="",W=0;for(const[ne,$]of Object.entries(v.errors.error))I+=0===W?$:"\n"+$,W++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:I})}if(403===v.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===v.errors.status){let I="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,S.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:I}),(0,y.of)(mt.jM())}}return this.store.dispatch((0,S.Z)()),(0,y.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(ce),e.LFG(gt.e),e.LFG(C.eX),e.LFG(X.F0),e.LFG(le.Z),e.LFG(o.yh))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const Ct=[{path:"",component:rt,pathMatch:"prefix"}];let It=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[ce],imports:[t.ez,ae.L,o.Aw.forFeature("incident-clos",me),C.sQ.forFeature(vt),at.Y,lt.h,it.B,ot.K,st.m,X.Bz.forChild(Ct)]})}return r})()},8346:(P,g,i)=>{i.d(g,{W:()=>_});var t=i(9468),h=i(95),f=i(7394);let _=(()=>{class u{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new f.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new h.NI}writeValue(n){this.control.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,n?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(n=>{this.onChange(n)})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||u)};static#t=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[t._Bn([{provide:h.JU,useExisting:(0,t.Gpc)(()=>u),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(p,l){1&p&&t._UZ(0,"input",0),2&p&&(t.Gre("custom-text-field m-0 form-control-sm ",l.otherclass,""),t.s9C("placeholder",l.placeholder),t.Q6J("type",l.type)("formControl",l.control)("readonly",l.readonly))},dependencies:[h.Fj,h.JJ,h.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return u})()},1171:(P,g,i)=>{i.d(g,{h:()=>h});var t=i(9468);let h=(()=>{class f{constructor(){this.title="",this.class=""}static#e=this.\u0275fac=function(o){return new(o||f)};static#t=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(o,n){1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o&&(t.Tol(n.class),t.xp6(1),t.Oqu(n.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return f})()},9887:(P,g,i)=>{i.d(g,{l:()=>n});var t=i(9468),h=i(6814);function f(p,l){if(1&p&&(t.TgZ(0,"h5",3),t._UZ(1,"span"),t._uU(2),t.Hsn(3,1),t.qZA()),2&p){const A=t.oxw();t.xp6(1),t.Tol(A.icon),t.xp6(1),t.hij(" ",A.title," ")}}function _(p,l){1&p&&t._UZ(0,"hr",4)}const u=["*",[["",8,"button-head"]]],o=["*",".button-head"];let n=(()=>{class p{constructor(){this.title="",this.icon="",this.background="white",this.otherclass=""}static#e=this.\u0275fac=function(T){return new(T||p)};static#t=this.\u0275cmp=t.Xpm({type:p,selectors:[["app-panel-custom"]],inputs:{title:"title",icon:"icon",background:"background",otherclass:"otherclass"},ngContentSelectors:o,decls:5,vars:6,consts:[["class","title-panel-custom mb-1",4,"ngIf"],["class","mt-0",4,"ngIf"],[1,"panel-custom-body"],[1,"title-panel-custom","mb-1"],[1,"mt-0"]],template:function(T,b){1&T&&(t.F$t(u),t.TgZ(0,"div"),t.YNc(1,f,4,4,"h5",0),t.YNc(2,_,1,0,"hr",1),t.TgZ(3,"div",2),t.Hsn(4),t.qZA()()),2&T&&(t.MT6("panel-custom ",b.background," ",b.otherclass,""),t.xp6(1),t.Q6J("ngIf",b.title),t.xp6(1),t.Q6J("ngIf",b.title))},dependencies:[h.O5],styles:[".panel-custom[_ngcontent-%COMP%]{border:1px solid #c7c5c6;padding:15px;margin-bottom:3px}.title-panel-custom[_ngcontent-%COMP%]{display:flex;align-items:center;color:#045a5e;font-size:15px;font-family:aileronbold}.title-panel-custom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#46ad7e;margin-right:5px}"]})}return p})()},9543:(P,g,i)=>{i.d(g,{C:()=>h});var t=i(9468);let h=(()=>{class f{constructor(){this.otherclass="",this.disabled=!1,this.buttonClicked=new t.vpe}emitButtonClicked(u){u.preventDefault(),this.buttonClicked.emit()}static#e=this.\u0275fac=function(o){return new(o||f)};static#t=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-primary-button"]],inputs:{title:"title",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(o,n){1&o&&(t.TgZ(0,"button",0),t.NdJ("click",function(l){return n.emitButtonClicked(l)}),t._uU(1),t.qZA()),2&o&&(t.Gre("primary-button ",n.otherclass,""),t.Q6J("disabled",n.disabled),t.xp6(1),t.hij(" ",n.title,"\n"))},styles:[".primary-button[_ngcontent-%COMP%]{color:#fff;border:1px solid #1EA860;background-color:#1ea860;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:30px;padding:.75rem 1rem;border-radius:6px}.primary-button[_ngcontent-%COMP%]:hover{background-color:#2da899;border:1px solid #2DA899}.primary-button[_ngcontent-%COMP%]:disabled{color:#fff;border:1px solid #3d4957;background-color:#3d4957;min-width:80px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:24px;opacity:.7;padding:.75rem 0rem}"]})}return f})()},3849:(P,g,i)=>{i.d(g,{L:()=>u});var t=i(9468),h=i(2463),f=i(6814),_=i(166);let u=(()=>{class o{constructor(){this.printButtonClicked=new t.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[t.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(l,A){1&l&&(t.TgZ(0,"app-custom-button",0),t.NdJ("buttonClicked",function(){return A.emitPrintButtonClicked()}),t.qZA())},dependencies:[f.ez,h.v,_.x],styles:["[_nghost-%COMP%]{display:block}"]})}return o})()},547:(P,g,i)=>{i.d(g,{Z:()=>f});var t=i(9468),h=i(95);let f=(()=>{class _{constructor(o){this.ngControl=o}static#e=this.\u0275fac=function(n){return new(n||_)(t.Y36(h.a5,10))};static#t=this.\u0275dir=t.lG2({type:_,selectors:[["","formControl",""],["","formControlName",""]]})}return _})()}}]);