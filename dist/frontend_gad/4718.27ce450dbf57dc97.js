"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[4718],{3396:(P,f,r)=>{r.d(f,{B:()=>p});var e=r(6814),d=r(9207),h=r(9468);let p=(()=>{class a{static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275mod=h.oAB({type:a});static#r=this.\u0275inj=h.cJS({imports:[e.ez,d.m]})}return a})()},5779:(P,f,r)=>{r.d(f,{P:()=>h});var e=r(95),d=r(9468);let h=(()=>{class p{constructor(){}createFormActionSuggeree(c){return new e.cw({id:new e.NI(this.getActionSuggereeId(c),{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI(this.getActionSuggereeLibelle(c),{nonNullable:!0,validators:[e.kI.required]}),statut:new e.NI(this.getActionSuggereeStatut(c),{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI(this.getActionSuggereeDescription(c),{}),refSys:new e.NI(this.getActionSuggereeRefSys(c),{})})}createFormNewActionSuggeree(){return new e.cw({id:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),statut:new e.NI(null,{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI("",{}),refSys:new e.NI("",{})})}getActionSuggereeId(c){return null!==c?c.id:0}getActionSuggereeLibelle(c){return null!==c?c.libelle:""}getActionSuggereeStatut(c){return null!==c?c.statut:null}getActionSuggereeDescription(c){return null!==c?c.description:""}getActionSuggereeRefSys(c){return null!==c?c.refSys:""}static#e=this.\u0275fac=function(n){return new(n||p)};static#t=this.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac})}return p})()},4970:(P,f,r)=>{r.d(f,{W:()=>p});var e=r(95),d=r(9468),h=r(5779);let p=(()=>{class a{constructor(n){this.actionSuggereeFormService=n}createFormEtape(n){return new e.cw({id:new e.NI(this.getEtapeId(n),{nonNullable:!0,validators:[e.kI.required]}),numeroEtape:new e.NI(this.getEtapeNumeroEtape(n),{nonNullable:!0,validators:[e.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormActionSuggeree(this.getEtapeActionSuggeree(n)),refSys:new e.NI(this.getEtapeRefSys(n),{})})}createFormNewEtape(){return new e.cw({id:new e.NI("",{nonNullable:!0,validators:[e.kI.required]}),numeroEtape:new e.NI(0,{nonNullable:!0,validators:[e.kI.required]}),actionSuggere:this.actionSuggereeFormService.createFormNewActionSuggeree(),refSys:new e.NI("",{})})}getEtapeId(n){return null!==n?n.id:""}getEtapeRefSys(n){return null!==n?n.refSys:""}getEtapeNumeroEtape(n){return null!==n?n.numeroEtape:0}getEtapeActionSuggeree(n){return null!==n?n.actionSuggere:null}static#e=this.\u0275fac=function(s){return new(s||a)(d.LFG(h.P))};static#t=this.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac})}return a})()},1793:(P,f,r)=>{r.d(f,{K:()=>J});var e=r(6814),d=r(9207),h=r(2984),p=r(676),a=r(198);const n=(0,p.Lq)({savedFile:null,errors:null},(0,p.on)(a.NY.importFileSuccess,(_,U)=>({..._,savedFile:U.fileUploadResult})),(0,p.on)(a.NY.resetErrorField,(_,U)=>{let F={};return null!==_.errors&&Object.entries(_.errors).forEach(([M,$])=>{M!==U.fieldName&&(F[`${M}`]=$)}),{..._,errors:F}}));(0,p.ZF)("file-imports");var i=r(6465),L=r(6063),x=r(7398),T=r(6306),W=r(8504),z=r(7634),y=r(9468),w=r(8281),H=r(797);let Y=(()=>{class _{constructor(F,M,$,V,Q){this.fileService=F,this.actions$=M,this.router=$,this.modalService=V,this.store=Q,this.importFile$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(a.NY.importFile),(0,z.z)(K=>(this.store.dispatch((0,L.Q)()),this.fileService.import(K.filePath).pipe((0,x.U)(B=>(console.log(B),this.store.dispatch((0,L.Z)()),a.NY.importFileSuccess({fileUploadResult:B,id:K.id}))),(0,T.K)(B=>(console.log(B),(0,W._)(()=>B))))))),{dispatch:!0})}static#e=this.\u0275fac=function(M){return new(M||_)(y.LFG(h.I),y.LFG(i.eX),y.LFG(w.F0),y.LFG(H.Z),y.LFG(p.yh))};static#t=this.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac})}return _})(),J=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=y.oAB({type:_});static#r=this.\u0275inj=y.cJS({providers:[h.I],imports:[e.ez,d.m,p.Aw.forFeature("file-imports",n),i.sQ.forFeature(Y)]})}return _})()},2984:(P,f,r)=>{r.d(f,{I:()=>p});var e=r(1946),d=r(9468),h=r(9862);let p=(()=>{class a{constructor(n){this.http=n,this.url="http://192.168.1.120:8080/source_file_service-impl-1.0-SNAPSHOT/api",this.resourceBasePath="items-file"}getResourceBasePath(){return`${e.y}/incident`}import(n){const s=new FormData;return s.append("file",n),this.http.post(`${this.url}/${this.resourceBasePath}/upload`,s)}static#e=this.\u0275fac=function(s){return new(s||a)(d.LFG(h.eN))};static#t=this.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac})}return a})()},198:(P,f,r)=>{r.d(f,{NY:()=>s});var e=r(676);const d="FileUpload",s={importFile:(0,e.PH)(`[${d} API] Import File`,(0,e.Ky)()),importFileSuccess:(0,e.PH)(`[${d} API] Import File Success`,(0,e.Ky)()),setError:(0,e.PH)(`[${d} API] Create Error`,(0,e.Ky)()),resetError:(0,e.PH)(`[${d} API] Reset Error`),resetErrorField:(0,e.PH)(`[${d} API] Reset Error Field`,(0,e.Ky)())}},8510:(P,f,r)=>{r.d(f,{Y:()=>s});var e=r(6814),d=r(9207),h=r(2030),p=r(3396),a=r(1793),c=r(9468);let n=(()=>{class i{static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275mod=c.oAB({type:i});static#r=this.\u0275inj=c.cJS({imports:[e.ez,d.m]})}return i})(),s=(()=>{class i{static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275mod=c.oAB({type:i});static#r=this.\u0275inj=c.cJS({imports:[e.ez,d.m,h.h,n,p.B,a.K]})}return i})()},3096:(P,f,r)=>{r.d(f,{X:()=>p});var e=r(95),d=r(9468),h=r(3975);let p=(()=>{class a{constructor(n){this.solutionFormService=n}createForm(n,s,i){return this.currentIncident=i,this.currentOperationType=n,this.currentRoleIncident=s,console.log("Create Form : "+this.currentRoleIncident),new e.cw({titre:new e.NI(i.titre,{nonNullable:!0,validators:[e.kI.required]}),description:new e.NI(i.description,{nonNullable:!0,validators:[e.kI.required]}),equipement:new e.NI(i.equipement,{nonNullable:!0,validators:[e.kI.required]}),groupeEquipement:new e.NI(i.groupeEquipement),categorieEquipement:new e.NI(i.categorieEquipement),sousCategorieEquipement:new e.NI(i.sousCategorieEquipement),libelleEquipement:new e.NI(i.libelleEquipement),numeroSerie:new e.NI(i.numeroSerie),refSys:new e.NI(i.refSys),etapeIncident:new e.NI(i.etapeIncident),prioriteIncident:new e.NI(i.prioriteIncident,{}),typeIncident:new e.NI(i.typeIncident,{nonNullable:!0,validators:[e.kI.required]}),probleme:new e.NI(i.probleme,{nonNullable:"USER"!==this.currentRoleIncident,validators:[this.problemeValidator.bind(this)]}),impact:new e.NI(i.impact,{validators:[this.impactValidator.bind(this)]}),categorieIncident:new e.NI(i.categorieIncident,{validators:[this.categorieValidator.bind(this)]}),firstName:new e.NI(i.firstName),lastName:new e.NI(i.lastName),userName:new e.NI(i.userName),demandeur:new e.NI(i.demandeur,{validators:[this.demandeurValidator.bind(this)]}),firstNameGestionnaire:new e.NI(i.firstNameGestionnaire),lastNameGestionnaire:new e.NI(i.lastNameGestionnaire),userNameGestionnaire:new e.NI(i.userNameGestionnaire),firstNameSupport:new e.NI(i.firstNameSupport),lastNameSupport:new e.NI(i.lastNameSupport),userNameSupport:new e.NI(i.userNameSupport),test:new e.NI(i.test),gestionnaire:new e.NI(i.gestionnaire,{validators:[this.gestionnaireValidator.bind(this)]}),source:new e.NI(i.source,{nonNullable:!0,validators:[e.kI.required]}),severite:new e.NI(i.severite,{nonNullable:!0,validators:[e.kI.required]}),solution:this.solutionFormService.createFormSolution(this.currentOperationType,i.solution),dateCreation:new e.NI(i.dateCreation),dateDerniereModification:new e.NI(i.dateDerniereModification)})}createSearchForm(){return new e.cw({titre:new e.NI("",{nonNullable:!0})})}problemeValidator(n){return"USER"===this.currentRoleIncident?"ADD"===this.currentOperationType?null===n.value?null:{problemeInvalide:!0}:null===n.value?{problemeInvalide:!0}:null:(console.log(this.currentRoleIncident),null===n.value?{problemeInvalide:!0}:null)}impactValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{impactInvalide:!0}:null===n.value?{impactInvalide:!0}:null}gestionnaireValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{gestionnaireInvalide:!0}:null===n.value?{gestionnaireInvalide:!0}:null}demandeurValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{demandeurInvalide:!0}:null===n.value?{demandeurInvalide:!0}:null}categorieValidator(n){return"USER"===this.currentRoleIncident&&"ADD"===this.currentOperationType?null===n.value?null:{categorieInvalide:!0}:null===n.value?{categorieInvalide:!0}:null}static#e=this.\u0275fac=function(s){return new(s||a)(d.LFG(h.x))};static#t=this.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac})}return a})()},3975:(P,f,r)=>{r.d(f,{x:()=>p});var e=r(95),d=r(9468),h=r(4970);let p=(()=>{class a{constructor(n){this.etapeFormService=n}createFormSolution(n,s){return new e.cw({id:new e.NI({value:this.getSolutionId(s),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[e.kI.required]}),code:new e.NI({value:this.getSolutionCode(s),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[e.kI.required]}),libelle:new e.NI({value:this.getSolutionLibelle(s),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[e.kI.required]}),refSys:new e.NI({value:this.getSolutionRefSys(s),disabled:"BEING_RESOLVED"!==n},{}),description:new e.NI({value:this.getSolutionDescription(s),disabled:"BEING_RESOLVED"!==n},{}),nombreEtape:new e.NI({value:this.getSolutionNumber(s),disabled:"BEING_RESOLVED"!==n},{nonNullable:!0,validators:[e.kI.required]}),etapes:new e.Oe(this.createEtapeForms(this.getSolutionEtapes(s)))})}getSolutionId(n){return n?n.id:""}getSolutionCode(n){return n?n.code:""}getSolutionRefSys(n){return n?n.refSys:""}getSolutionLibelle(n){return n?n.libelle:""}getSolutionDescription(n){return n?n.description:""}getSolutionNumber(n){return n?n.nombreEtape:0}getSolutionEtapes(n){return n?n.etapes:[]}createEtapeForms(n){return n.map(s=>this.etapeFormService.createFormEtape(s))}static#e=this.\u0275fac=function(s){return new(s||a)(d.LFG(h.W))};static#t=this.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac})}return a})()},2030:(P,f,r)=>{r.d(f,{h:()=>p});var e=r(6814),d=r(9207),h=r(9468);let p=(()=>{class a{static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275mod=h.oAB({type:a});static#r=this.\u0275inj=h.cJS({imports:[e.ez,d.m]})}return a})()},4718:(P,f,r)=>{r.r(f),r.d(f,{IncidentSupprimeModule:()=>ke});var e=r(6814),d=r(3096),h=r(3975),p=r(5779),a=r(4970),c=r(2572),n=r(7398),s=r(676);const i="Incident Supprime Superviseur",L=(0,s.PH)(`[${i} API] Load All`),x=(0,s.PH)(`[${i} API] Load All Success`,(0,s.Ky)()),T=(0,s.PH)(`[${i} API] Create`,(0,s.Ky)()),W=(0,s.PH)(`[${i} API] Create Success`,(0,s.Ky)()),z=(0,s.PH)(`[${i} API] Load`,(0,s.Ky)()),y=(0,s.PH)(`[${i} API] Reset`),w=(0,s.PH)(`[${i} API] Load Success`,(0,s.Ky)()),H=(0,s.PH)(`[${i} API] Delete`,(0,s.Ky)()),Y=(0,s.PH)(`[${i} API] Delete Success`,(0,s.Ky)()),J=(0,s.PH)(`[${i} API] Update`,(0,s.Ky)()),_=(0,s.PH)(`[${i} API] Update Success`,(0,s.Ky)()),U=(0,s.PH)(`[${i} API] Load Form Model`),F=(0,s.PH)(`[${i} API] Reset Form Model`),M=(0,s.PH)(`[${i} API] Load Form Model Success`,(0,s.Ky)()),$=(0,s.PH)(`[${i} API] Reset Search`),V=(0,s.PH)(`[${i} API] Search`,(0,s.Ky)()),Q=(0,s.PH)(`[${i} API] Change Page`,(0,s.Ky)()),K=(0,s.PH)(`[${i} API] Change Page Size`,(0,s.Ky)()),l={loadItems:L,loadItemsSuccess:x,resetItem:y,createItem:T,createItemSuccess:W,loadItem:z,loadItemSuccess:w,updateItem:J,updateItemSuccess:_,deleteItem:H,deleteItemSuccess:Y,loadFormModel:U,resetFormModel:F,loadFormModelSuccess:M,setError:(0,s.PH)(`[${i} API] Create Error`,(0,s.Ky)()),resetError:(0,s.PH)(`[${i} API] Reset Error`),resetErrorField:(0,s.PH)(`[${i} API] Reset Error Field`,(0,s.Ky)()),resetSearch:$,search:V,changePage:Q,changePageSize:K},le=(0,s.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,s.on)(l.loadItemsSuccess,(o,m)=>({...o,items:m.items,totalElement:m.totalElement})),(0,s.on)(l.resetItem,(o,m)=>({...o,currentItem:null})),(0,s.on)(l.createItemSuccess,(o,m)=>({...o})),(0,s.on)(l.deleteItemSuccess,(o,m)=>({...o})),(0,s.on)(l.loadItemSuccess,(o,m)=>({...o,currentItem:m.item})),(0,s.on)(l.updateItemSuccess,(o,m)=>({...o})),(0,s.on)(l.loadFormModel,(o,m)=>({...o,formModel:null})),(0,s.on)(l.loadFormModelSuccess,(o,m)=>({...o,formModel:m.formModel})),(0,s.on)(l.resetSearch,(o,m)=>({...o,searchModel:{}})),(0,s.on)(l.search,(o,m)=>({...o,searchModel:m.searchModel})),(0,s.on)(l.changePage,(o,m)=>({...o,page:m.page})),(0,s.on)(l.changePageSize,(o,m)=>({...o,pageSize:m.pageSize})),(0,s.on)(l.setError,(o,m)=>({...o,errors:m.errors})),(0,s.on)(l.resetError,(o,m)=>({...o,errors:{}})),(0,s.on)(l.resetErrorField,(o,m)=>{let u={};return null!==o.errors&&Object.entries(o.errors).forEach(([g,S])=>{g!==m.fieldName&&(u[`${g}`]=S)}),{...o,errors:u}})),O=(0,s.ZF)("incident-supprimes"),ce=(0,s.P1)(O,o=>o.items),ue=((0,s.P1)(O,o=>o.currentItem),(0,s.P1)(O,o=>o.formModel),(0,s.P1)(O,o=>o.searchModel)),te=(0,s.P1)(O,o=>o.page),re=(0,s.P1)(O,o=>o.pageSize),de=(0,s.P1)(O,o=>o.totalElement);(0,s.P1)(O,o=>o.errors);var t=r(9468),j=r(8281),ne=r(3849),Z=r(95),pe=r(7251),me=r(166),he=r(6327),fe=r(8564),ge=r(8223),ve=r(602),Ie=r(1469),Se=r(6326),Ee=r(8346),_e=r(1171),Pe=r(547),Ce=r(362);function Ne(o,m){1&o&&(t.TgZ(0,"th",25),t._uU(1,"R\xe9f\xe9rence"),t.qZA())}function ye(o,m){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const u=m.$implicit;t.xp6(1),t.Oqu(u.refSys)}}function Me(o,m){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Titre"),t.qZA())}function Ae(o,m){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const u=m.$implicit;t.xp6(1),t.Oqu(u.titre)}}function Fe(o,m){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Date \xe9mission"),t.qZA())}function Oe(o,m){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const u=m.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,u.dateDeclaration,"dd/MM/y \xe0 HH:mm:ss"))}}function De(o,m){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Date Derni\xe8re Modif"),t.qZA())}function Le(o,m){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const u=m.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,u.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function Te(o,m){if(1&o){const u=t.EpF();t.TgZ(0,"table",17),t.NdJ("itemSelected",function(S){t.CHM(u);const A=t.oxw(2);return t.KtG(A.itemSelected(S))}),t.ynx(1,18),t.YNc(2,Ne,2,0,"th",19),t.YNc(3,ye,2,1,"td",20),t.BQk(),t.ynx(4,21),t.YNc(5,Me,2,0,"th",19),t.YNc(6,Ae,2,1,"td",22),t.BQk(),t.ynx(7,23),t.YNc(8,Fe,2,0,"th",19),t.YNc(9,Oe,3,4,"td",22),t.BQk(),t.ynx(10,24),t.YNc(11,De,2,0,"th",19),t.YNc(12,Le,3,4,"td",22),t.BQk(),t.qZA()}if(2&o){const u=m.ngIf,g=t.oxw(2);t.Q6J("items",u)("headers",g.headerTable)("selectable",!0)}}function Be(o,m){if(1&o){const u=t.EpF();t.TgZ(0,"app-crud-list",3),t.NdJ("searchButtonClicked",function(){t.CHM(u);const S=t.oxw();return t.KtG(S.searchButtonClicked())})("refreshButtonClicked",function(){t.CHM(u);const S=t.oxw();return t.KtG(S.refreshButtonClicked())})("pageSelected",function(S){t.CHM(u);const A=t.oxw();return t.KtG(A.pageSelected(S))})("pageSizeChange",function(S){t.CHM(u);const A=t.oxw();return t.KtG(A.pageSizeChange(S))})("closeButtonClicked",function(){t.CHM(u);const S=t.oxw();return t.KtG(S.closeButtonClicked())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._UZ(4,"app-form-label",7),t.qZA(),t.TgZ(5,"div",8),t._UZ(6,"app-custom-textfield",9),t.qZA()()(),t._UZ(7,"div",10)(8,"div",11),t.TgZ(9,"div",12),t._UZ(10,"app-custom-button",13),t.TgZ(11,"app-print-button",14),t.NdJ("printButtonClicked",function(){t.CHM(u);const S=t.oxw();return t.KtG(S.printButtonClicked())}),t.qZA()(),t.TgZ(12,"div",15),t.YNc(13,Te,13,3,"table",16),t.ALo(14,"async"),t.qZA()()}if(2&o){const u=m.ngIf,g=t.oxw();t.Q6J("itemSelected",g.isItemSelected())("pageSize",u.pageSize)("currentPage",u.page)("totalElements",u.totalElement),t.xp6(1),t.Q6J("formGroup",g.searchForm),t.xp6(6),t.Q6J("formGroup",g.searchForm),t.xp6(6),t.Q6J("ngIf",t.lcZ(14,7,g.items$))}}let be=(()=>{class o{constructor(u,g,S){this.router=u,this.store=g,this.incidentFormService=S,this.isUpdateActivated=!1,this.headerTable=["R\xe9f\xe9rence","Titre","Date Emission","Date Modification"],this.items$=this.store.select(ce),this.page$=this.store.select(te),this.pageSize$=this.store.select(re),this.totalElement$=this.store.select(de),this.data$=(0,c.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,n.U)(([A,k,q])=>({page:A,pageSize:k,totalElement:q}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.incidentFormService.createSearchForm(),this.store.dispatch(l.loadItems())}itemSelected(u){this.selectedItem=u}pageSelected(u){this.store.dispatch(l.changePage({page:u}))}pageSizeChange(u){this.store.dispatch(l.changePageSize({pageSize:u}))}closeButtonClicked(){this.router.navigate(["incidents"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(l.resetSearch())}searchButtonClicked(){this.store.dispatch(l.search({searchModel:this.searchForm.value}))}printButtonClicked(){}static#e=this.\u0275fac=function(g){return new(g||o)(t.Y36(j.F0),t.Y36(s.yh),t.Y36(d.X))};static#t=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-incident-supprime-list"]],features:[t._Bn([d.X,h.x,a.W,p.P])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Supervision Incident","pathLevelTwo","Corbeille","pathLevelThree","Liste"],["title","Liste des Incidents Supprim\xe9s",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Incidents Supprim\xe9s",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","titre"],[1,"advance-search",3,"formGroup"],[1,"primary-actions"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Titre"],["app-cell-def-template","","class","left",4,"appCellDefTemplate"],["appCellDef","Date Emission"],["appCellDef","Date Modification"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-cell-def-template","",1,"left"]],template:function(g,S){1&g&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,Be,15,9,"app-crud-list",2),t.ALo(3,"async")),2&g&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,S.data$)))},dependencies:[e.O5,ne.L,Z.JJ,Z.JL,Z.sg,Z.u,pe._,me.x,he.N,fe.D,ge.h,ve.u,Ie.O,Se.q,Ee.W,_e.h,Pe.Z,Ce.V,e.Ov,e.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.left[_ngcontent-%COMP%]{text-align:left!important}"]})}return o})();var xe=r(8510),Re=r(3396),Ue=r(1793),v=r(6465),$e=r(9207),Ke=r(2030),Ze=r(1946),Ge=r(9989);let se=(()=>{class o extends Ge.v{getResourceBasePath(){return`${Ze.y}/supervision-incidents-supprimer`}getIdValue(u){return u.id}static#e=this.\u0275fac=function(){let u;return function(S){return(u||(u=t.n5z(o)))(S||o)}}();static#t=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();var C=r(6063),We=r(9862),ze=r(2460),D=r(6328),we=r(9026),R=r(6306),X=r(9397),He=r(1631),N=r(2096),Ye=r(3186),Je=r(4664),Ve=r(6366),Qe=r(797);let je=(()=>{class o{constructor(u,g,S,A,k,q){this.incidentSupprimeService=u,this.authService=g,this.actions$=S,this.router=A,this.modalService=k,this.store=q,this.loadItems$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.loadItems),(0,ze.M)(this.store.select(te),this.store.select(re),this.store.select(ue)),(0,D.b)(([I,E,G,ee])=>(this.store.dispatch((0,C.Q)()),(0,we.$)(this.incidentSupprimeService.getAllWithPagination(E,G,ee),this.incidentSupprimeService.count(ee)).pipe((0,n.U)(([b,qe])=>(console.log(b),this.store.dispatch((0,C.Z)()),l.loadItemsSuccess({items:b,totalElement:qe}))),(0,R.K)(b=>(this.store.dispatch((0,C.Z)()),(0,N.of)(l.setError({errors:b})))))))),{dispatch:!0}),this.createItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.createItem),(0,D.b)(I=>(this.store.dispatch((0,C.Q)()),console.log(I.item),this.incidentSupprimeService.add(I.item).pipe((0,X.b)(()=>{this.store.dispatch((0,C.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/corbeille-supervision")}),(0,n.U)(E=>l.createItemSuccess({item:E})),(0,R.K)(E=>(this.store.dispatch((0,C.Z)()),(0,N.of)(l.setError({errors:E})))))))),{dispatch:!0}),this.loadItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.loadItem),(0,He.z)(I=>this.incidentSupprimeService.findById(I.id).pipe((0,n.U)(E=>l.loadItemSuccess({item:E})),(0,R.K)(E=>(this.store.dispatch((0,C.Z)()),(0,N.of)(l.setError({errors:E}))))))),{dispatch:!0}),this.deleteItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.deleteItem),(0,D.b)(I=>this.incidentSupprimeService.delete(I.item.id,I.item)),(0,X.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident supprim\xe9 avec succ\xe8s"})}),(0,n.U)(()=>l.loadItems()),(0,R.K)(I=>(this.store.dispatch((0,C.Z)()),(0,N.of)(l.setError({errors:I}))))),{dispatch:!0}),this.updateItem$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.updateItem),(0,D.b)(I=>(this.store.dispatch((0,C.Q)()),this.incidentSupprimeService.update(I.item.id,I.item).pipe((0,X.b)(()=>{this.store.dispatch((0,C.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Incident modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("incidents/corbeille-supervision")}),(0,n.U)(E=>l.createItemSuccess({item:E})),(0,R.K)(E=>(this.store.dispatch((0,C.Z)()),(0,N.of)(l.setError({errors:E})))))))),{dispatch:!0}),this.loadFormModel$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.loadFormModel),(0,D.b)(()=>this.incidentSupprimeService.getFormModel()),(0,n.U)(I=>l.loadFormModelSuccess({formModel:I})),(0,R.K)(I=>(0,N.of)(l.setError({errors:I}))))),this.resetSearch$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.resetSearch),(0,D.b)(()=>(0,N.of)(l.changePage({page:1}))))),this.search$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.search),(0,D.b)(()=>(0,N.of)(l.changePage({page:1}))))),this.changePage$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.changePage),(0,n.U)(I=>l.loadItems()))),this.changePageSize$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.changePageSize),(0,D.b)(()=>(0,N.of)(l.changePage({page:1}))))),this.handleError$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(l.setError),(0,Je.w)(I=>{if(this.store.dispatch((0,C.Q)()),I.errors instanceof We.UA){if(422===I.errors.status){let E="",G=0;for(const[ee,b]of Object.entries(I.errors.error))E+=0===G?b:"\n"+b,G++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:E})}if(403===I.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===I.errors.status){let E="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,C.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:E}),(0,N.of)(Ye.jM())}}return this.store.dispatch((0,C.Z)()),(0,N.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(g){return new(g||o)(t.LFG(se),t.LFG(Ve.e),t.LFG(v.eX),t.LFG(j.F0),t.LFG(Qe.Z),t.LFG(s.yh))};static#t=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const Xe=[{path:"",component:be,pathMatch:"prefix"}];let ke=(()=>{class o{static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275mod=t.oAB({type:o});static#r=this.\u0275inj=t.cJS({providers:[se],imports:[e.ez,ne.L,s.Aw.forFeature("incident-supprimes",le),v.sQ.forFeature(je),xe.Y,Ke.h,Re.B,Ue.K,$e.m,j.Bz.forChild(Xe)]})}return o})()},8346:(P,f,r)=>{r.d(f,{W:()=>p});var e=r(9468),d=r(95),h=r(7394);let p=(()=>{class a{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new h.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new d.NI}writeValue(n){this.control.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,n?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(n=>{this.onChange(n)})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>a),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(s,i){1&s&&e._UZ(0,"input",0),2&s&&(e.Gre("custom-text-field m-0 form-control-sm ",i.otherclass,""),e.s9C("placeholder",i.placeholder),e.Q6J("type",i.type)("formControl",i.control)("readonly",i.readonly))},dependencies:[d.Fj,d.JJ,d.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return a})()},1171:(P,f,r)=>{r.d(f,{h:()=>d});var e=r(9468);let d=(()=>{class h{constructor(){this.title="",this.class=""}static#e=this.\u0275fac=function(c){return new(c||h)};static#t=this.\u0275cmp=e.Xpm({type:h,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(c,n){1&c&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&c&&(e.Tol(n.class),e.xp6(1),e.Oqu(n.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return h})()},3849:(P,f,r)=>{r.d(f,{L:()=>a});var e=r(9468),d=r(2463),h=r(6814),p=r(166);let a=(()=>{class c{constructor(){this.printButtonClicked=new e.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(i){return new(i||c)};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[e.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(i,L){1&i&&(e.TgZ(0,"app-custom-button",0),e.NdJ("buttonClicked",function(){return L.emitPrintButtonClicked()}),e.qZA())},dependencies:[h.ez,d.v,p.x],styles:["[_nghost-%COMP%]{display:block}"]})}return c})()},547:(P,f,r)=>{r.d(f,{Z:()=>h});var e=r(9468),d=r(95);let h=(()=>{class p{constructor(c){this.ngControl=c}static#e=this.\u0275fac=function(n){return new(n||p)(e.Y36(d.a5,10))};static#t=this.\u0275dir=e.lG2({type:p,selectors:[["","formControl",""],["","formControlName",""]]})}return p})()}}]);