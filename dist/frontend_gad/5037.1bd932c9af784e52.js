(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[5037],{5037:(S,y,r)=>{"use strict";r.r(y),r.d(y,{LivraisonModule:()=>ho});var f=r(6814),e=r(9468),c=r(95);let x=(()=>{class o{constructor(){}createForm(t){return new c.cw({refLivraison:new c.NI(t.refLivraison,{nonNullable:!0,validators:[c.kI.required]}),refCommande:new c.NI(t.refCommande,{nonNullable:!0,validators:[c.kI.required]}),libelle:new c.NI(t.libelle,{nonNullable:!0,validators:[c.kI.required]}),commentaire:new c.NI(t.commentaire),nomFournisseur:new c.NI(t.nomFournisseur),refFournisseur:new c.NI(t.refFournisseur),typeFournisseur:new c.NI(t.typeFournisseur),fournisseur:new c.NI(t.fournisseur),dateCommande:new c.NI(t.dateCommande),dateLivraison:new c.NI(t.dateLivraison),utilisateurModification:new c.NI(t.utilisateurModification),utilisateurCreation:new c.NI(t.utilisateurCreation),dateCreation:new c.NI(t.dateCreation),dateDerniereModification:new c.NI(t.dateDerniereModification)})}createEquipementForms(t){return t.map(i=>this.createFormEquipement(i))}createFormEquipement(t){return new c.cw({libelle:new c.NI(t.libelle,{nonNullable:!0,validators:[c.kI.required]}),description:new c.NI(t.description),numeroSerie:new c.NI(t.libelle,{nonNullable:!0,validators:[c.kI.required]}),modelEquip:new c.NI(t.modelEquip),versionEquip:new c.NI(t.versionEquip)})}createSearchForm(){return new c.cw({refCommande:new c.NI("",{nonNullable:!0,validators:[c.kI.required]}),refLivraison:new c.NI("",{nonNullable:!0,validators:[c.kI.required]})})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();var v=r(2572),b=r(7398),s=r(676);const d="Livraison",L=(0,s.PH)(`[${d} API] Load All`),p=(0,s.PH)(`[${d} API] Load All Success`,(0,s.Ky)()),m=(0,s.PH)(`[${d} API] Create`,(0,s.Ky)()),T=(0,s.PH)(`[${d} API] Create Success`,(0,s.Ky)()),u=(0,s.PH)(`[${d} API] Create Error`,(0,s.Ky)()),Z=(0,s.PH)(`[${d} API] Reset Error`),Y=(0,s.PH)(`[${d} API] Reset Error Field`,(0,s.Ky)()),$=(0,s.PH)(`[${d} API] Load`,(0,s.Ky)()),U=(0,s.PH)(`[${d} API] Load Success`,(0,s.Ky)()),k=(0,s.PH)(`[${d} API] Reset`),q=(0,s.PH)(`[${d} API] Delete`,(0,s.Ky)()),P=(0,s.PH)(`[${d} API] Delete Success`,(0,s.Ky)()),l={loadItems:L,loadItemsSuccess:p,resetItem:k,createItem:m,createItemSuccess:T,loadItem:$,loadItemSuccess:U,updateItem:(0,s.PH)(`[${d} API] Update`,(0,s.Ky)()),updateItemSuccess:(0,s.PH)(`[${d} API] Update Success`,(0,s.Ky)()),deleteItem:q,deleteItemSuccess:P,setError:u,resetError:Z,resetErrorField:Y,loadFormModel:(0,s.PH)(`[${d} API] Load Form Model`),resetFormModel:(0,s.PH)(`[${d} API] Reset Form Model`),loadFormModelSuccess:(0,s.PH)(`[${d} API] Load Form Model Success`,(0,s.Ky)()),resetSearch:(0,s.PH)(`[${d} API] Reset Search`),search:(0,s.PH)(`[${d} API] Search`,(0,s.Ky)()),changePage:(0,s.PH)(`[${d} API] Change Page`,(0,s.Ky)()),changePageSize:(0,s.PH)(`[${d} API] Change Page Size`,(0,s.Ky)()),downloadFile:(0,s.PH)(`[${d} API] Download File`),downloadFileSuccess:(0,s.PH)(`[${d} API] Download File Success`)},Me=(0,s.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,s.on)(l.loadItemsSuccess,(o,n)=>(console.log(n.items),{...o,items:n.items,totalElement:n.totalElement})),(0,s.on)(l.resetItem,(o,n)=>({...o,currentItem:null})),(0,s.on)(l.createItemSuccess,(o,n)=>({...o})),(0,s.on)(l.deleteItemSuccess,(o,n)=>({...o})),(0,s.on)(l.loadItemSuccess,(o,n)=>({...o,currentItem:n.item})),(0,s.on)(l.updateItemSuccess,(o,n)=>({...o})),(0,s.on)(l.loadFormModel,(o,n)=>({...o,formModel:null})),(0,s.on)(l.loadFormModelSuccess,(o,n)=>({...o,formModel:n.formModel})),(0,s.on)(l.resetSearch,(o,n)=>({...o,searchModel:{}})),(0,s.on)(l.search,(o,n)=>({...o,searchModel:n.searchModel})),(0,s.on)(l.changePage,(o,n)=>({...o,page:n.page})),(0,s.on)(l.changePageSize,(o,n)=>({...o,pageSize:n.pageSize})),(0,s.on)(l.setError,(o,n)=>({...o,errors:n.errors})),(0,s.on)(l.resetError,(o,n)=>({...o,errors:null})),(0,s.on)(l.resetErrorField,(o,n)=>{let t={};return null!==o.errors&&Object.entries(o.errors).forEach(([i,a])=>{i!==n.fieldName&&(t[`${i}`]=a)}),{...o,errors:t}})),I=(0,s.ZF)("livraisons"),Ae=(0,s.P1)(I,o=>o.items),Ie=(0,s.P1)(I,o=>o.currentItem),R=(0,s.P1)(I,o=>o.formModel),Fe=(0,s.P1)(I,o=>o.searchModel),V=(0,s.P1)(I,o=>o.page),X=(0,s.P1)(I,o=>o.pageSize),Se=(0,s.P1)(I,o=>o.totalElement),ee=(0,s.P1)(I,o=>o.errors);var Pe=r(4849),w=r(8281),J=r(797),te=r(3849),Ne=r(7251),H=r(166),oe=r(6327),ie=r(8564),ne=r(8223),re=r(602),se=r(1469),ae=r(6326),Q=r(8346),K=r(1171),G=r(547),z=r(362);function De(o,n){1&o&&(e.TgZ(0,"th",34),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}function Oe(o,n){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.refSys)}}function Ue(o,n){1&o&&(e.TgZ(0,"th",34),e._uU(1,"R\xe9f. Livraison"),e.qZA())}function qe(o,n){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.refLivraison)}}function we(o,n){1&o&&(e.TgZ(0,"th",34),e._uU(1,"R\xe9f. Commande"),e.qZA())}function Be(o,n){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.refCommande)}}function $e(o,n){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Libell\xe9"),e.qZA())}function ke(o,n){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.libelle)}}function Ye(o,n){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Date Livraison"),e.qZA())}function Re(o,n){if(1&o&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.dateLivraison,"dd/MM/y"))}}function Je(o,n){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Date cr\xe9ation"),e.qZA())}function He(o,n){if(1&o&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function Qe(o,n){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function Ke(o,n){if(1&o&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function Ge(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"table",23),e.NdJ("itemSelected",function(a){e.CHM(t);const h=e.oxw(2);return e.KtG(h.itemSelected(a))}),e.ynx(1,24),e.YNc(2,De,2,0,"th",25),e.YNc(3,Oe,2,1,"td",26),e.BQk(),e.ynx(4,27),e.YNc(5,Ue,2,0,"th",25),e.YNc(6,qe,2,1,"td",26),e.BQk(),e.ynx(7,28),e.YNc(8,we,2,0,"th",25),e.YNc(9,Be,2,1,"td",26),e.BQk(),e.ynx(10,29),e.YNc(11,$e,2,0,"th",25),e.YNc(12,ke,2,1,"td",26),e.BQk(),e.ynx(13,30),e.YNc(14,Ye,2,0,"th",25),e.YNc(15,Re,3,4,"td",31),e.BQk(),e.ynx(16,32),e.YNc(17,Je,2,0,"th",25),e.YNc(18,He,3,4,"td",31),e.BQk(),e.ynx(19,33),e.YNc(20,Qe,2,0,"th",25),e.YNc(21,Ke,3,4,"td",31),e.BQk(),e.qZA()}if(2&o){const t=n.ngIf,i=e.oxw(2);e.Q6J("items",t)("headers",i.headerTable)("selectable",!0)}}function ze(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.refreshButtonClicked())})("pageSelected",function(a){e.CHM(t);const h=e.oxw();return e.KtG(h.pageSelected(a))})("pageSizeChange",function(a){e.CHM(t);const h=e.oxw();return e.KtG(h.pageSizeChange(a))})("closeButtonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e.TgZ(7,"div",10)(8,"div",11)(9,"div",6),e._UZ(10,"app-form-label",12),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"app-custom-textfield",13),e.qZA()()(),e.TgZ(13,"div",14)(14,"app-custom-button",15),e.NdJ("buttonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addButtonClicked())}),e.qZA(),e.TgZ(15,"app-custom-button",16),e.NdJ("buttonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.editButtonClicked())}),e.qZA(),e.TgZ(16,"app-custom-button",17),e.NdJ("buttonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteButtonClicked())}),e.qZA()(),e.TgZ(17,"div",18),e._UZ(18,"app-custom-button",19),e.TgZ(19,"app-print-button",20),e.NdJ("printButtonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.printButtonClicked())}),e.qZA()(),e.TgZ(20,"div",21),e.YNc(21,Ge,22,3,"table",22),e.ALo(22,"async"),e.qZA()()}if(2&o){const t=n.ngIf,i=e.oxw();e.Q6J("itemSelected",i.isItemSelected())("pageSize",t.pageSize)("currentPage",t.page)("totalElements",t.totalElement),e.xp6(1),e.Q6J("formGroup",i.searchForm),e.xp6(6),e.Q6J("formGroup",i.searchForm),e.xp6(8),e.Q6J("disabled",!i.isItemSelected()),e.xp6(1),e.Q6J("disabled",!i.isItemSelected()),e.xp6(5),e.Q6J("ngIf",e.lcZ(22,9,i.items$))}}let je=(()=>{class o{constructor(t,i,a,h,A){this.router=t,this.modalService=i,this.store=a,this.livraisonFormService=h,this.headerTable=["R\xe9f\xe9rence","R\xe9f. Livraison","R\xe9f. Commande","Libell\xe9","Fournisseur","Date Livraison","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(Ae),this.page$=this.store.select(V),this.pageSize$=this.store.select(X),this.totalElement$=this.store.select(Se),this.data$=(0,v.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,b.U)(([W,C,_])=>({page:W,pageSize:C,totalElement:_}))),this.selectedItem=null,this.dateTest=new Date}ngOnInit(){this.searchForm=this.livraisonFormService.createSearchForm(),this.store.dispatch(l.loadItems())}addButtonClicked(){this.router.navigate(["parc-informatique","livraison","add"])}editButtonClicked(){const t=this.selectedItem?.id;t&&(this.store.dispatch(l.resetItem()),this.router.navigate(["parc-informatique","livraison","edit",t]))}deleteButtonClicked(){const t=this.selectedItem;t&&this.modalService.openComponent(Pe.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(i=>{i&&"yes"===i&&this.store.dispatch(l.deleteItem({item:t}))})}itemSelected(t){this.selectedItem=t}pageSelected(t){this.store.dispatch(l.changePage({page:t}))}pageSizeChange(t){this.store.dispatch(l.changePageSize({pageSize:t}))}closeButtonClicked(){this.router.navigate(["parc-informatique"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(l.resetSearch())}searchButtonClicked(){this.store.dispatch(l.search({searchModel:this.searchForm.value}))}printButtonClicked(){this.store.dispatch(l.downloadFile())}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(w.F0),e.Y36(J.Z),e.Y36(s.yh),e.Y36(x),e.Y36(e.soG))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-livraison-list"]],features:[e._Bn([x,{provide:e.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Stock","pathLevelTwo","R\xe9ception Equipement","pathLevelThree","Liste"],["title","Liste des R\xe9ceptions des Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des R\xe9ceptions des Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search-max"],["title","R\xe9f\xe9rence Livraison"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","refLivraison"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","R\xe9f\xe9rence Commande"],["placeholder","","otherclass","item-input","formControlName","refCommande"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","R\xe9f. Livraison"],["appCellDef","R\xe9f. Commande"],["appCellDef","Libell\xe9"],["appCellDef","Date Livraison"],["app-cell-def-template","",4,"appCellDefTemplate"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-cell-def-template",""]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,ze,23,11,"app-crud-list",2),e.ALo(3,"async")),2&i&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,a.data$)))},dependencies:[te.L,f.O5,c.JJ,c.JL,c.sg,c.u,Ne._,H.x,oe.N,ie.D,ne.h,re.u,se.O,ae.q,Q.W,K.h,G.Z,z.V,f.Ov,f.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return o})();var le=r(1892),ce=r(9543),We=r(8145),Ve=r(1588),Xe=r(7435),et=r(7152),tt=r(3227),ot=r(3846),it=r(8764),nt=r(8795),me=r(9887);function rt(o,n){1&o&&(e.TgZ(0,"th",31),e._uU(1,"Libell\xe9"),e.qZA())}function st(o,n){if(1&o&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.libelle," ")}}function at(o,n){1&o&&(e.TgZ(0,"th",31),e._uU(1,"Description"),e.qZA())}function lt(o,n){if(1&o&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function ct(o,n){1&o&&(e.TgZ(0,"table",26),e.ynx(1,27),e.YNc(2,rt,2,0,"th",28),e.YNc(3,st,2,1,"td",29),e.BQk(),e.ynx(4,30),e.YNc(5,at,2,0,"th",28),e.YNc(6,lt,2,1,"td",29),e.BQk(),e.qZA())}function mt(o,n){if(1&o&&(e.TgZ(0,"div",23)(1,"app-item-selection",24),e.YNc(2,ct,7,0,"table",25),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("headers",t.modelSelectItemsHeader)("items",t.formModel.modelEquips)("criterias",t.modelItemCritterias)("itemDescription",t.modelItemDescription)}}function pt(o,n){1&o&&(e.TgZ(0,"th",31),e._uU(1,"Libell\xe9"),e.qZA())}function dt(o,n){if(1&o&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.libelle," ")}}function ut(o,n){1&o&&(e.TgZ(0,"th",31),e._uU(1,"Description"),e.qZA())}function ft(o,n){if(1&o&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function _t(o,n){1&o&&(e.TgZ(0,"table",26),e.ynx(1,27),e.YNc(2,pt,2,0,"th",28),e.YNc(3,dt,2,1,"td",29),e.BQk(),e.ynx(4,30),e.YNc(5,ut,2,0,"th",28),e.YNc(6,ft,2,1,"td",29),e.BQk(),e.qZA())}function ht(o,n){if(1&o&&(e.TgZ(0,"div",23)(1,"app-item-selection",33),e.YNc(2,_t,7,0,"table",25),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("headers",t.versionSelectItemsHeader)("items",t.formModel.versionEquips)("criterias",t.versionItemCritterias)("itemDescription",t.versionItemDescription)}}function vt(o,n){if(1&o&&(e.TgZ(0,"form",8)(1,"div",9)(2,"app-panel-custom",10)(3,"div",11)(4,"div",12),e._UZ(5,"app-form-label",13),e.TgZ(6,"div",14),e._UZ(7,"app-custom-textfield",15),e.qZA()(),e.TgZ(8,"div",12),e._UZ(9,"app-form-label",16),e.TgZ(10,"div",14),e._UZ(11,"app-custom-textfield",17),e.qZA()()(),e.TgZ(12,"div",11)(13,"div",12),e._UZ(14,"app-form-label",18),e.TgZ(15,"div",14),e._UZ(16,"app-custom-textfield",19),e.qZA()(),e.TgZ(17,"div",12),e._UZ(18,"app-form-label",20),e.YNc(19,mt,3,4,"div",21),e.qZA(),e.TgZ(20,"div",12),e._UZ(21,"app-form-label",22),e.YNc(22,ht,3,4,"div",21),e.qZA()()()()()),2&o){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(19),e.Q6J("ngIf",t.formModel),e.xp6(3),e.Q6J("ngIf",t.formModel)}}let gt=(()=>{class o{constructor(t,i,a,h){this.modalData=t,this.modalRef=i,this.formService=a,this.store=h,this.errors=null,this.modelSelectItemsHeader=["Libell\xe9","Description"],this.modelItemDescription=A=>A.libelle,this.modelItemCritterias={libelle:"Libell\xe9",description:"Description"},this.versionSelectItemsHeader=["Libell\xe9","Description"],this.versionItemDescription=A=>A.libelle,this.versionItemCritterias={libelle:"Libell\xe9",description:"Description"}}ngOnInit(){console.log(this.modalData);let t=this.modalData;t&&(this.formModel=t.data,console.log(this.modalData.data)),this.equipement={id:"",libelle:"",description:"",refSys:"",numeroSerie:"",versionEquip:null,modelEquip:null,etatEquipement:"",livraison:null,dateCreation:null,dateDerniereModification:null,utilisateurCreation:"",utilisateurModification:""},this.store.select(ee).subscribe(i=>{this.errors=i}),this.store.dispatch(l.resetError()),this.form=this.formService.createFormEquipement(this.equipement)}addEquipmentToList(){const t={libelle:this.form.get("libelle")?.value,description:this.form.get("description")?.value,numeroSerie:this.form.get("numeroSerie")?.value,versionEquip:this.form.get("versionEquip")?.value,modelEquip:this.form.get("modelEquip")?.value};console.log(t),this.modalRef.close(t)}close(){this.modalRef.close(null)}resetBackendError(t){this.store.dispatch(l.resetErrorField({fieldName:t}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(le.S),e.Y36(le.R),e.Y36(x),e.Y36(s.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-equipement-form"]],features:[e._Bn([x])],decls:9,vars:1,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[3,"formGroup",4,"ngIf"],[1,"form-actions","mt-2"],["title","Valider",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Informations g\xe9n\xe9rales"],[1,"general-info"],[1,"input-container","col-4"],["title","Libell\xe9",1,"col-5","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","libelle"],["title","Description",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","description"],["title","Num\xe9ro S\xe9rie",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","numeroSerie"],["title","Mod\xe8le",1,"col-5","text-end"],["class","col",4,"ngIf"],["title","Version",1,"col-5","text-end"],[1,"col"],["otherclass","custom-style-item-selection-form","formControlName","modelEquip",1,"ml-2",3,"headers","items","criterias","itemDescription"],["app-item-selection-template-attribute","",4,"appItemSelectionTemplate"],["app-item-selection-template-attribute",""],["appItemSelectionCellDef","Libell\xe9"],["app-item-selection-header-def-template","","class","custom-head",4,"appItemSelectionHeaderDefTemplate"],["app-item-selection-cell-def-template","","class","custom-head",4,"appItemSelectionCellDefTemplate"],["appItemSelectionCellDef","Description"],["app-item-selection-header-def-template","",1,"custom-head"],["app-item-selection-cell-def-template","",1,"custom-head"],["otherclass","custom-style-item-selection-form","formControlName","versionEquip",1,"ml-2",3,"headers","items","criterias","itemDescription"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Ajout des \xe9quipements"),e.qZA()()(),e.TgZ(4,"div",3),e.YNc(5,vt,23,3,"form",4),e.TgZ(6,"div",5)(7,"app-primary-button",6),e.NdJ("buttonClicked",function(){return a.addEquipmentToList()}),e.qZA(),e.TgZ(8,"app-custom-button",7),e.NdJ("buttonClicked",function(){return a.close()}),e.qZA()()()),2&i&&(e.xp6(5),e.Q6J("ngIf",a.form))},dependencies:[f.O5,c._Y,c.JJ,c.JL,c.sg,c.u,H.x,Q.W,K.h,ce.C,We.K,Ve.o,Xe.o,et.P,tt.F,ot.e,it.T,nt.k,G.Z,me.l],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#2c3963;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}"]})}return o})();var Ct=r(8819),bt=r(7426),xt=r(6219),Tt=r(2113),Zt=r(5973),Et=r(4944),yt=r(2093),Lt=r(6136),Mt=r(8513),At=r(586),It=r(1327),Ft=r(5188),pe=r(7394);let St=(()=>{class o{constructor(t,i){this._renderer=t,this._elementRef=i,this.onInput=a=>{}}writeValue(t){if(null!=t&&t.length>0){const i=(0,f.p6)(t,"YYYY-MM-dd","en-IN");this._renderer.setAttribute(this._elementRef.nativeElement,"value",i)}}registerOnChange(t){this.onInput=i=>{t(this.getDate(i).toISOString())}}registerOnTouched(t){}getDate(t){if(t){const i=new Date(t);return this.isValidDate(i)?i:{toISOString:()=>null}}return{toISOString:()=>null}}isValidDate(t){return t instanceof Date&&!isNaN(t)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["input","type","date"]],hostBindings:function(i,a){1&i&&e.NdJ("input",function(A){return a.onInput(A.target.valueAsNumber)})},features:[e._Bn([{provide:c.JU,useExisting:o,multi:!0}])]})}return o})(),Pt=(()=>{class o{constructor(){this.readonly=!1,this.otherclass="",this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.subscription=new pe.w0,this.control=new c.NI}writeValue(t){this.control.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this.disabled?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(t)})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-custom-date-picker"]],inputs:{readonly:"readonly",otherclass:"otherclass"},features:[e._Bn([{provide:c.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:1,vars:5,consts:[["type","date",3,"readOnly","formControl"]],template:function(i,a){1&i&&e._UZ(0,"input",0),2&i&&(e.Gre("custom-text-field form-control-sm ",a.otherclass,""),e.Q6J("readOnly",a.readonly)("formControl",a.control))},dependencies:[c.Fj,c.JJ,c.oH,St],styles:["[_nghost-%COMP%]{display:block}.custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5}.custom-text-field[_ngcontent-%COMP%]:disabled, .custom-text-field[_ngcontent-%COMP%]:read-only{background-color:#f0f4f5}"]})}return o})();function Nt(o,n){1&o&&(e.TgZ(0,"th",79),e._uU(1," R\xe9f\xe9rence "),e.qZA())}function Dt(o,n){if(1&o&&(e.TgZ(0,"td",80),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.refFournisseur," ")}}function Ot(o,n){1&o&&(e.TgZ(0,"th",79),e._uU(1," Noms "),e.qZA())}function Ut(o,n){if(1&o&&(e.TgZ(0,"td",80),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.nom," ")}}function qt(o,n){1&o&&(e.TgZ(0,"th",79),e._uU(1," Type Fournisseur "),e.qZA())}function wt(o,n){if(1&o&&(e.TgZ(0,"td",80),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.typeFournisseur," ")}}function Bt(o,n){1&o&&(e.TgZ(0,"table",73),e.ynx(1,74),e.YNc(2,Nt,2,0,"th",75),e.YNc(3,Dt,2,1,"td",76),e.BQk(),e.ynx(4,77),e.YNc(5,Ot,2,0,"th",75),e.YNc(6,Ut,2,1,"td",76),e.BQk(),e.ynx(7,78),e.YNc(8,qt,2,0,"th",75),e.YNc(9,wt,2,1,"td",76),e.BQk(),e.qZA())}function $t(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"app-field-error-wrapper",26),e.NdJ("resetField",function(a){e.CHM(t);const h=e.oxw(2);return e.KtG(h.resetBackendError(a))}),e.TgZ(1,"app-item-search",71),e.YNc(2,Bt,10,0,"table",72),e.qZA()()}if(2&o){const t=n.ngIf,i=e.oxw(2);e.Q6J("errors",i.errors),e.xp6(1),e.Q6J("headers",i.fournisseurSelectItemsHeader)("items",t.fournisseurs)("criterias",i.fournisseurItemCritterias)("itemDescription",i.fournisseurItemDescription)}}function kt(o,n){1&o&&(e.TgZ(0,"th",81),e._uU(1,"Num\xe9ro S\xe9rie"),e.qZA())}function Yt(o,n){if(1&o&&(e.TgZ(0,"td",82),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.numeroSerie," ")}}function Rt(o,n){1&o&&(e.TgZ(0,"th",81),e._uU(1,"Libell\xe9"),e.qZA())}function Jt(o,n){if(1&o&&(e.TgZ(0,"td",82),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij("",t.libelle," ")}}function Ht(o,n){1&o&&(e.TgZ(0,"th",81),e._uU(1,"Mod\xe8le"),e.qZA())}function Qt(o,n){if(1&o&&(e.TgZ(0,"td",82),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.libelle," ")}}function Kt(o,n){1&o&&(e.TgZ(0,"th",81),e._uU(1,"Fabricant"),e.qZA())}function Gt(o,n){if(1&o&&(e.TgZ(0,"td",82),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.makerEquip.libelle," ")}}function zt(o,n){1&o&&(e.TgZ(0,"th",81),e._uU(1,"Groupe Equipement"),e.qZA())}function jt(o,n){if(1&o&&(e.TgZ(0,"td",82),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.categoryEquip.groupEquip.libelle," ")}}function Wt(o,n){1&o&&(e.TgZ(0,"th",81),e._uU(1,"Cat\xe9gorie"),e.qZA())}function Vt(o,n){if(1&o&&(e.TgZ(0,"td",82),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.modelEquip.categoryEquip.groupEquip.libelle," ")}}function Xt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"app-panel-custom",4)(3,"div",5)(4,"div",6),e._UZ(5,"app-form-label",7),e.TgZ(6,"div",8),e._UZ(7,"app-custom-textfield",9),e.qZA()(),e.TgZ(8,"div",6),e._UZ(9,"app-form-label",10),e.TgZ(10,"div",8),e._UZ(11,"app-custom-textfield",11),e.qZA()()(),e.TgZ(12,"div",5)(13,"div",6),e._UZ(14,"app-form-label",12),e.TgZ(15,"div",8),e._UZ(16,"app-custom-textfield",13),e.qZA()(),e.TgZ(17,"div",6),e._UZ(18,"app-form-label",14),e.TgZ(19,"div",8),e._UZ(20,"app-custom-textfield",15),e.qZA()()()(),e.TgZ(21,"app-panel-custom",16)(22,"app-tabs",17)(23,"app-tab",18)(24,"div",19)(25,"h6",20),e._uU(26," Informations sur la Livraison "),e.qZA()(),e._UZ(27,"hr",21),e.TgZ(28,"div",22)(29,"div",23)(30,"div",24),e._UZ(31,"app-form-label",25),e.TgZ(32,"div",8)(33,"app-field-error-wrapper",26),e.NdJ("resetField",function(a){e.CHM(t);const h=e.oxw();return e.KtG(h.resetBackendError(a))}),e._UZ(34,"app-custom-textfield",27),e.qZA()()(),e.TgZ(35,"div",28),e._UZ(36,"app-form-label",29),e.TgZ(37,"div",8)(38,"app-field-error-wrapper",26),e.NdJ("resetField",function(a){e.CHM(t);const h=e.oxw();return e.KtG(h.resetBackendError(a))}),e._UZ(39,"app-custom-textfield",30),e.qZA()()()(),e.TgZ(40,"div",31)(41,"div",32),e._UZ(42,"app-form-label",33),e.TgZ(43,"div",8),e._UZ(44,"app-custom-date-picker",34),e.qZA()(),e.TgZ(45,"div",28),e._UZ(46,"app-form-label",35),e.TgZ(47,"div",8)(48,"app-field-error-wrapper",26),e.NdJ("resetField",function(a){e.CHM(t);const h=e.oxw();return e.KtG(h.resetBackendError(a))}),e._UZ(49,"app-custom-textfield",36),e.qZA()()()()(),e.TgZ(50,"div",37)(51,"div",38)(52,"div",19)(53,"h6",20),e._uU(54," Informations sur le Fournisseur "),e.qZA(),e.TgZ(55,"div",39),e.YNc(56,$t,3,5,"app-field-error-wrapper",40),e.ALo(57,"async"),e.qZA()(),e._UZ(58,"hr",21),e.TgZ(59,"div",5)(60,"div",41)(61,"div",42)(62,"div",43),e._UZ(63,"app-form-label",25),e.TgZ(64,"div",44),e._UZ(65,"app-custom-textfield",45),e.qZA()()(),e.TgZ(66,"div",42)(67,"div",28),e._UZ(68,"app-form-label",46),e.TgZ(69,"div",44),e._UZ(70,"app-custom-textfield",47),e.qZA()()(),e.TgZ(71,"div",42)(72,"div",43),e._UZ(73,"app-form-label",48),e.TgZ(74,"div",44),e._UZ(75,"app-custom-textfield",49),e.qZA()()()()()(),e.TgZ(76,"div",50)(77,"div",19)(78,"h6",20),e._uU(79," Informations sur la Commande "),e.qZA()(),e._UZ(80,"hr",21),e.TgZ(81,"div",5)(82,"div",41)(83,"div",42)(84,"div",51),e._UZ(85,"app-form-label",25),e.TgZ(86,"div",44),e._UZ(87,"app-custom-textfield",52),e.qZA()()(),e.TgZ(88,"div",42)(89,"div",43),e._UZ(90,"app-form-label",53),e.TgZ(91,"div",8),e._UZ(92,"app-custom-date-picker",54),e.qZA()()()()()()()(),e.TgZ(93,"app-tab",55)(94,"div",56)(95,"app-custom-button",57),e.NdJ("buttonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.showModalToAddEquipment())}),e.qZA(),e.TgZ(96,"app-custom-button",58),e.NdJ("buttonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.removeEquipement())}),e.qZA()(),e.TgZ(97,"div",5)(98,"table",59),e.NdJ("itemSelected",function(a){e.CHM(t);const h=e.oxw();return e.KtG(h.itemSelected(a))}),e.ynx(99,60),e.YNc(100,kt,2,0,"th",61),e.YNc(101,Yt,2,1,"td",62),e.BQk(),e.ynx(102,63),e.YNc(103,Rt,2,0,"th",61),e.YNc(104,Jt,2,1,"td",62),e.BQk(),e.ynx(105,64),e.YNc(106,Ht,2,0,"th",61),e.YNc(107,Qt,2,1,"td",62),e.BQk(),e.ynx(108,65),e.YNc(109,Kt,2,0,"th",61),e.YNc(110,Gt,2,1,"td",62),e.BQk(),e.ynx(111,66),e.YNc(112,zt,2,0,"th",61),e.YNc(113,jt,2,1,"td",62),e.BQk(),e.ynx(114,67),e.YNc(115,Wt,2,0,"th",61),e.YNc(116,Vt,2,1,"td",62),e.BQk(),e.qZA()()()()(),e.TgZ(117,"div",68)(118,"app-primary-button",69),e.NdJ("buttonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForm())}),e.qZA(),e.TgZ(119,"app-cancel-button",70),e.NdJ("buttonClicked",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.returnToList())}),e.qZA()()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(13),e.Q6J("errors",t.errors),e.xp6(5),e.Q6J("errors",t.errors),e.xp6(10),e.Q6J("errors",t.errors),e.xp6(8),e.Q6J("ngIf",e.lcZ(57,15,t.formModel$)),e.xp6(9),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(23),e.Q6J("items",t.getEquipements())("headers",t.headerTable)("selectable",!0)}}let de=(()=>{class o{constructor(t,i,a,h){this.formService=t,this.modalService=i,this.store=a,this.router=h,this.formModel$=this.store.select(R),this.errors=null,this.materiels=[],this.selectedItem=null,this.action="",this.formSubmitted=new e.vpe,this.fournisseurSelectItemsHeader=["R\xe9f\xe9rence","Noms","Type Fournisseur"],this.fournisseurItemDescription=A=>A.refFournisseur,this.fournisseurItemCritterias={refFournisseur:"R\xe9f\xe9rence",nom:"Noms",typeFournisseur:"Type Fournisseur"},this.headerTable=["Num\xe9ro S\xe9rie","Libell\xe9","Mod\xe8le","Fabricant","Groupe Equipement","Cat\xe9gorie"]}ngOnInit(){this.store.dispatch(l.loadFormModel()),this.store.select(ee).subscribe(t=>{this.errors=t}),this.store.dispatch(l.resetError()),this.form=this.formService.createForm(this.livraison),this.formModel$.subscribe(t=>{t&&(this.formModelEquipement=t)}),"edit"===this.action&&(this.materiels=this.livraison.equipements),this.form.get("fournisseur")?.valueChanges.subscribe(t=>{t&&(this.form.get("nomFournisseur")?.setValue(t.nom),this.form.get("typeFournisseur")?.setValue(t.typeFournisseur),this.form.get("refFournisseur")?.setValue(t.refFournisseur))})}ngOnDestroy(){}submitForm(){if(console.log(this.form.getRawValue()),"add"===this.action){const t={...this.form.getRawValue(),equipements:this.getEquipements()};console.log(t),this.formSubmitted.emit(t)}else this.formSubmitted.emit(this.form.getRawValue())}showModalToAddEquipment(){this.modalService.openComponent(gt,{data:this.formModelEquipement}).afterClosed.subscribe(t=>{null!==t&&(this.materiels.find(i=>i.numeroSerie!==t.numeroSerie),this.initMateriels(t))})}initMateriels(t){const i=[];this.materiels.length>0?(this.materiels.forEach(a=>{i.push(a)}),this.materiels=[],i.forEach(a=>{this.materiels.push(a)}),this.materiels.push(t)):(this.materiels=[],this.materiels.push(t))}getEquipements(){return this.materiels}removeEquipement(){null!==this.selectedItem&&(this.materiels=this.materiels.filter(t=>t.numeroSerie!==this.selectedItem?.numeroSerie)),console.log(this.materiels)}itemSelected(t){this.selectedItem=t}returnToList(){this.router.navigateByUrl("parc-informatique/livraison")}resetBackendError(t){this.store.dispatch(l.resetErrorField({fieldName:t}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(J.Z),e.Y36(s.yh),e.Y36(w.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-livraison-form"]],inputs:{livraison:"livraison",action:"action"},outputs:{formSubmitted:"formSubmitted"},features:[e._Bn([x])],decls:2,vars:1,consts:[[1,"pe-3","ps-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-4"],["title","Date Cr\xe9ation",1,"w-form","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],["title","Cr\xe9\xe9 Par",1,"w-form","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"w-form","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","dateDerniereModification",3,"readonly"],["title","Modifi\xe9 Par",1,"w-form","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","background","background-style custom-padding"],["background","background-tabs"],["tabTitle","Informations g\xe9n\xe9rales"],[1,"d-flex","align-items-center",2,"margin-bottom","0px"],[1,"mb-0","pt-1","text-success","me-auto"],[1,"mt-0"],[1,"general-info","flex-row"],[1,"d-flex","flex-column","col-5","mb-2"],[1,"input-container","mb-2","col"],["title","R\xe9f\xe9rence",1,"w-form","text-end"],[3,"errors","resetField"],["otherclass","custom-style-form","placeholder","","formControlName","refLivraison"],[1,"input-container","col"],["title","Libell\xe9",1,"w-form","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","libelle"],[1,"d-flex","flex-column","col-5","offset-1","mb-2"],[1,"input-container","mb-2","col-9"],["title","Date Livraison",1,"w-form","text-end"],["type","date","formControlName","dateLivraison","otherclass","custom-style-form custom-bg"],["title","Commentaire",1,"w-form","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","commentaire"],[1,"d-flex","col-12"],[1,"col-6","pe-1"],[1,"button-head","ms-auto"],[3,"errors","resetField",4,"ngIf"],[1,"col-12","d-flex","flex-column"],[1,"col-12","d-flex","flex-row","mb-2"],[1,"input-container","col-8"],[1,"input-textfield-container","col","flex-column"],["otherclass","custom-style-form col","placeholder","","formControlName","refFournisseur",3,"readonly"],["title","Nom",1,"w-form","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","nomFournisseur",3,"readonly"],["title","Type Fournisseur",1,"w-form","text-end"],["otherclass","custom-style-form col","placeholder","","formControlName","typeFournisseur",3,"readonly"],[1,"col-6","ps-1"],[1,"input-container","col-9"],["otherclass","custom-style-form col","placeholder","","formControlName","refCommande"],["title","Date Commande",1,"w-form","text-end"],["type","date","formControlName","dateCommande","otherclass","custom-style-form custom-bg"],["tabTitle","Liste des \xe9quipements"],[1,"button-head","d-flex","ms-auto"],["otherclass","custom-button-item-search col-auto","icon","icon-plus m-custom btn-icon-add",3,"buttonClicked"],["otherclass","custom-button-item-search col-auto","icon","icon-trash m-custom btn-icon-delete",3,"buttonClicked"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","Num\xe9ro S\xe9rie"],["app-header-attribute-def-template","","class","custom-head",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","custom-head",4,"appCellDefTemplate"],["appCellDef","Libell\xe9"],["appCellDef","Mod\xe8le"],["appCellDef","Fabricant"],["appCellDef","Groupe Equipement"],["appCellDef","Cat\xe9gorie"],[1,"form-actions"],["title","Enregistrer",1,"me-1",3,"buttonClicked"],["title","Annuler","otherclass","custom-cancel-button",3,"buttonClicked"],["otherclass","custom-button-item-search col-auto","icon","icon-plus btn-icon-add","label","Ajouter","formControlName","fournisseur",3,"headers","items","criterias","itemDescription"],["app-item-search-template-attribute","",4,"appItemSearchTemplate"],["app-item-search-template-attribute",""],["appItemSearchCellDef","R\xe9f\xe9rence"],["app-item-search-header-def-template","","class","custom-head",4,"appItemSearchHeaderDefTemplate"],["app-item-search-cell-def-template","","class","custom-head",4,"appItemSearchCellDefTemplate"],["appItemSearchCellDef","Noms"],["appItemSearchCellDef","Type Fournisseur"],["app-item-search-header-def-template","",1,"custom-head"],["app-item-search-cell-def-template","",1,"custom-head"],["app-header-attribute-def-template","",1,"custom-head"],["app-cell-def-template","",1,"custom-head"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Xt,120,17,"form",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",a.form))},dependencies:[f.O5,c._Y,c.JJ,c.JL,c.sg,c.u,H.x,Ct.F,oe.N,ie.D,ne.h,re.u,se.O,ae.q,Q.W,K.h,ce.C,G.Z,bt.p,me.l,xt.n,Tt.i,Zt.v,Et.K,yt.d,Lt.D,Mt.T,At.o,It.g,Ft.K,Pt,f.Ov],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-select-sm[_ngcontent-%COMP%]{min-height:25px!important;max-height:25px!important;font-size:14px!important;border-radius:3px;padding-top:0rem;padding-bottom:.25rem;padding-left:.5rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return o})(),eo=(()=>{class o{constructor(t){this.store=t,this.formModel$=this.store.select(R),this.livraison={id:"",refLivraison:"",refCommande:"",typeFournisseur:"",refFournisseur:"",nomFournisseur:"",fournisseur:null,commentaire:"",equipements:[],dateCommande:null,dateLivraison:null,libelle:"",dateDerniereModification:null,dateCreation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(l.resetItem()),this.store.dispatch(l.resetFormModel())}addLivraison(t){const i={refLivraison:t.refLivraison,refCommande:t.refCommande,fournisseur:t.fournisseur,commentaire:t.commentaire,equipements:t.equipements,dateCommande:t.dateCommande,dateLivraison:t.dateLivraison,libelle:t.libelle};console.log(i),this.store.dispatch(l.createItem({item:i}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(s.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-livraison-add"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Stock","pathLevelTwo","R\xe9ception Equipement","pathLevelThree","Ajouter"],["action","add",3,"livraison","formSubmitted"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.TgZ(2,"app-livraison-form",2),e.NdJ("formSubmitted",function(A){return a.addLivraison(A)}),e.qZA()),2&i&&(e.xp6(2),e.Q6J("livraison",a.livraison))},dependencies:[z.V,de],styles:["[_nghost-%COMP%]{width:100%}"]})}return o})();function to(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"app-livraison-form",3),e.NdJ("formSubmitted",function(a){e.CHM(t);const h=e.oxw();return e.KtG(h.editLivraison(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("livraison",t.livraisonDto)}}let oo=(()=>{class o{constructor(t,i){this.store=t,this.route=i,this.formModel$=this.store.select(R),this.livraison$=this.store.select(Ie),this.livraisonDto=null,this.subscription=new pe.w0}ngOnInit(){this.store.dispatch(l.resetFormModel()),this.subscription=this.route.params.subscribe(t=>{this.id=t.id,this.id&&this.store.dispatch(l.loadItem({id:this.id}))}),this.livraison$.subscribe(t=>{null!==t&&(this.livraisonDto={id:t.id,libelle:t.libelle,refCommande:t.refCommande,refLivraison:t.refLivraison,commentaire:t.commentaire,typeFournisseur:null===t.fournisseur?"":t.fournisseur.typeFournisseur,refFournisseur:null===t.fournisseur?"":t.fournisseur.refFournisseur,nomFournisseur:null===t.fournisseur?"":t.fournisseur.nom,fournisseur:t.fournisseur,equipements:t.equipements,dateCommande:t.dateCommande,dateLivraison:t.dateLivraison,dateDerniereModification:null===t.dateDerniereModification?"":this.formatDate(t.dateDerniereModification),dateCreation:null===t.dateCreation?"":this.formatDate(t.dateCreation),utilisateurCreation:t.utilisateurCreation,utilisateurModification:t.utilisateurModification})})}formatDate(t){if(t){const i=new Date(t);return i.toLocaleDateString()+" \xe0 "+i.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}editLivraison(t){const i={id:this.id,libelle:t.libelle,refCommande:t.refCommande,refLivraison:t.refLivraison,commentaire:t.commentaire,fournisseur:t.fournisseur,dateCommande:t.dateCommande,dateLivraison:t.dateLivraison};console.log(i),this.store.dispatch(l.updateItem({id:Number(this.id),item:i}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(s.yh),e.Y36(w.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-livraison-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Stock","pathLevelTwo","R\xe9ception Equipement","pathLevelThree","Editer"],["action","edit",3,"livraison","formSubmitted",4,"ngIf"],["action","edit",3,"livraison","formSubmitted"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,to,1,1,"app-livraison-form",2)),2&i&&(e.xp6(2),e.Q6J("ngIf",a.livraisonDto))},dependencies:[f.O5,z.V,de],styles:["[_nghost-%COMP%]{width:100%}"]})}return o})();var io=r(9207),g=r(6465),E=r(6063),no=r(2460),F=r(6328),ro=r(9026),N=r(6306),j=r(9397),ue=r(1631),so=r(9862),M=r(2096),ao=r(3186),lo=r(4664),co=r(217),mo=r(9989),po=r(1946);let fe=(()=>{class o extends mo.v{getResourceBasePath(){return`${po.y}/livraison`}getPrintAll(){return this.http.post(`${this.url}/${this.getResourceBasePath()}/print/all`,{},{observe:"response",responseType:"blob"})}static#e=this.\u0275fac=function(){let t;return function(a){return(t||(t=e.n5z(o)))(a||o)}}();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();var uo=r(6366);let fo=(()=>{class o{constructor(t,i,a,h,A,W){this.livraisonService=t,this.authService=i,this.actions$=a,this.router=h,this.modalService=A,this.store=W,this.loadItems$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.loadItems),(0,no.M)(this.store.select(V),this.store.select(X),this.store.select(Fe)),(0,F.b)(([C,_,D,B])=>(console.log(_),this.store.dispatch((0,E.Q)()),(0,ro.$)(this.livraisonService.getAllWithPagination(_,D,B),this.livraisonService.count(B)).pipe((0,b.U)(([O,vo])=>(this.store.dispatch((0,E.Z)()),l.loadItemsSuccess({items:O,totalElement:vo}))),(0,N.K)(O=>(this.store.dispatch((0,E.Z)()),(0,M.of)(l.setError({errors:O})))))))),{dispatch:!0}),this.createItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.createItem),(0,F.b)(C=>(this.store.dispatch((0,E.Q)()),this.livraisonService.add(C.item).pipe((0,j.b)(()=>{this.store.dispatch((0,E.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Livraison ajout\xe9e avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/livraison")}),(0,b.U)(_=>l.createItemSuccess({item:_})),(0,N.K)(_=>(this.store.dispatch((0,E.Z)()),(0,M.of)(l.setError({errors:_})))))))),{dispatch:!0}),this.loadItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.loadItem),(0,ue.z)(C=>this.livraisonService.findById(C.id).pipe((0,b.U)(_=>l.loadItemSuccess({item:_})),(0,N.K)(_=>(this.store.dispatch((0,E.Z)()),(0,M.of)(l.setError({errors:_}))))))),{dispatch:!0}),this.deleteItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.deleteItem),(0,F.b)(C=>this.livraisonService.delete(C.item.id,C.item)),(0,j.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Livraison supprim\xe9e avec succ\xe8s"})}),(0,b.U)(()=>l.loadItems()),(0,N.K)(C=>(this.store.dispatch((0,E.Z)()),(0,M.of)(l.setError({errors:C}))))),{dispatch:!0}),this.updateItem$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.updateItem),(0,F.b)(C=>(this.store.dispatch((0,E.Q)()),this.livraisonService.update(C.id,C.item).pipe((0,j.b)(()=>{this.store.dispatch((0,E.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Livraison modifi\xe9e avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/livraison")}),(0,b.U)(_=>l.updateItemSuccess({item:_})),(0,N.K)(_=>(this.store.dispatch((0,E.Z)()),(0,M.of)(l.setError({errors:_})))))))),{dispatch:!0}),this.downloadFile$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.downloadFile),(0,ue.z)(C=>(this.store.dispatch((0,E.Q)()),this.livraisonService.getPrintAll().pipe((0,b.U)(_=>{console.log(_),this.store.dispatch((0,E.Z)());let D=_.headers.get("content-disposition")?.split(";")[1].split("=")[1];return(0,co.saveAs)(_.body,D),l.loadItems()}),(0,N.K)(_=>(this.store.dispatch((0,E.Z)()),(0,M.of)(l.setError({errors:_})))))))),{dispatch:!0}),this.loadFormModel$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.loadFormModel),(0,F.b)(()=>this.livraisonService.getFormModel()),(0,b.U)(C=>l.loadFormModelSuccess({formModel:C})),(0,N.K)(C=>(0,M.of)(l.setError({errors:C}))))),this.resetSearch$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.resetSearch),(0,F.b)(()=>(0,M.of)(l.changePage({page:1}))))),this.search$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.search),(0,F.b)(()=>(0,M.of)(l.changePage({page:1}))))),this.changePage$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.changePage),(0,b.U)(C=>l.loadItems()))),this.changePageSize$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.changePageSize),(0,F.b)(()=>(0,M.of)(l.changePage({page:1}))))),this.handleError$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(l.setError),(0,lo.w)(C=>{if(this.store.dispatch((0,E.Q)()),C.errors instanceof so.UA){if(422===C.errors.status){let _="",D=0;for(const[B,O]of Object.entries(C.errors.error))_+=0===D?O:"\n"+O,D++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:_})}if(403===C.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===C.errors.status){let _="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,E.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:_}),(0,M.of)(ao.jM())}}return this.store.dispatch((0,E.Z)()),(0,M.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(fe),e.LFG(uo.e),e.LFG(g.eX),e.LFG(w.F0),e.LFG(J.Z),e.LFG(s.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();const _o=[{path:"",component:je,pathMatch:"prefix"},{path:"add",component:eo,pathMatch:"prefix"},{path:"edit/:id",component:oo,pathMatch:"prefix"}];let ho=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({providers:[fe],imports:[te.L,f.ez,s.Aw.forFeature("livraisons",Me),g.sQ.forFeature(fo),io.m,w.Bz.forChild(_o)]})}return o})()},4849:(S,y,r)=>{"use strict";r.d(y,{n:()=>s});var f=r(1892),e=r(6814),c=r(8666),x=r(2463),v=r(9468),b=r(166);let s=(()=>{class d{constructor(p,m){this.modalData=p,this.modalRef=m}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#e=this.\u0275fac=function(m){return new(m||d)(v.Y36(f.S),v.Y36(f.R))};static#t=this.\u0275cmp=v.Xpm({type:d,selectors:[["app-confirm-alert"]],standalone:!0,features:[v.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(m,T){1&m&&(v.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),v._uU(3,"Confirmation de Suppression"),v.qZA()()(),v.TgZ(4,"div",3)(5,"div",4)(6,"div",5),v._UZ(7,"img",6),v.qZA(),v.TgZ(8,"div",7),v._uU(9," Voulez-vous vraiment effectuer cette action ? "),v.qZA()(),v.TgZ(10,"div",8)(11,"app-custom-button",9),v.NdJ("buttonClicked",function(){return T.confirmAction()}),v.qZA(),v.TgZ(12,"app-custom-button",10),v.NdJ("buttonClicked",function(){return T.close()}),v.qZA()()())},dependencies:[e.ez,c.a,x.v,b.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return d})()},3849:(S,y,r)=>{"use strict";r.d(y,{L:()=>v});var f=r(9468),e=r(2463),c=r(6814),x=r(166);let v=(()=>{class b{constructor(){this.printButtonClicked=new f.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(L){return new(L||b)};static#t=this.\u0275cmp=f.Xpm({type:b,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[f.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(L,p){1&L&&(f.TgZ(0,"app-custom-button",0),f.NdJ("buttonClicked",function(){return p.emitPrintButtonClicked()}),f.qZA())},dependencies:[c.ez,e.v,x.x],styles:["[_nghost-%COMP%]{display:block}"]})}return b})()},2113:(S,y,r)=>{"use strict";r.d(y,{i:()=>c});var f=r(9468);const e=["*"];let c=(()=>{class x{constructor(){this.tabTitle="",this.active=!1}static#e=this.\u0275fac=function(s){return new(s||x)};static#t=this.\u0275cmp=f.Xpm({type:x,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle",active:"active"},ngContentSelectors:e,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(s,d){1&s&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&s&&f.Q6J("hidden",!d.active)},styles:[".pane[_ngcontent-%COMP%]{padding:1rem}"]})}return x})()},6219:(S,y,r)=>{"use strict";r.d(y,{n:()=>s});var f=r(2113),e=r(9468),c=r(6814);const x=function(d){return{active:d}};function v(d,L){if(1&d){const p=e.EpF();e.TgZ(0,"li",3),e.NdJ("click",function(){const u=e.CHM(p).$implicit,Z=e.oxw();return e.KtG(Z.selectTab(u))}),e._uU(1),e.qZA()}if(2&d){const p=L.$implicit;e.Q6J("ngClass",e.VKq(2,x,!0===p.active)),e.xp6(1),e.hij(" ",p.tabTitle," ")}}const b=["*"];let s=(()=>{class d{constructor(){}ngAfterContentInit(){0===this.tabs.filter(m=>m.active).length&&this.selectTab(this.tabs.first)}selectTab(p){this.tabs.toArray().forEach(m=>m.active=!1),p.active=!0}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275cmp=e.Xpm({type:d,selectors:[["app-tabs"]],contentQueries:function(m,T,u){if(1&m&&e.Suo(u,f.i,4),2&m){let Z;e.iGM(Z=e.CRH())&&(T.tabs=Z)}},inputs:{background:"background"},ngContentSelectors:b,decls:5,vars:4,consts:[[1,"tabs-container"],["class","tab",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"active-tab-content"],[1,"tab",3,"ngClass","click"]],template:function(m,T){1&m&&(e.F$t(),e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,v,2,4,"li",1),e.qZA(),e.TgZ(3,"div",2),e.Hsn(4),e.qZA()()),2&m&&(e.xp6(1),e.Gre("list-unstyled tab-title-container ",T.background,""),e.xp6(1),e.Q6J("ngForOf",T.tabs))},dependencies:[c.mk,c.sg],styles:['.tabs-container[_ngcontent-%COMP%]{margin:2px;border-top:0px;background-color:#fff}.tab-title-container[_ngcontent-%COMP%]{font-size:.875rem;display:flex;margin-bottom:0}.active-tab-content[_ngcontent-%COMP%]{border:1px solid #c7c5c6;border-top:0px;margin-top:0}.tab-title-container[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:12px;flex-grow:1;border-bottom:1px solid #c7c5c6}.tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:.25rem 1rem;text-align:center;border:0px;border-bottom:1px solid #c7c5c6;cursor:pointer}.tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{border-radius:2px;opacity:90%}.tabs-container[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c7c5c6;border-bottom:0px;color:#69696b;font-family:aileronbold;border-top-left-radius:8px;border-top-right-radius:8px}']})}return d})()},217:function(S,y){var r,e;void 0!==(e="function"==typeof(r=function(){"use strict";function x(p,m,T){var u=new XMLHttpRequest;u.open("GET",p),u.responseType="blob",u.onload=function(){L(u.response,m,T)},u.onerror=function(){console.error("could not download file")},u.send()}function v(p){var m=new XMLHttpRequest;m.open("HEAD",p,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function b(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(m)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,d=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),L=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(p,m,T){var u=s.URL||s.webkitURL,Z=document.createElement("a");Z.download=m=m||p.name||"download",Z.rel="noopener","string"==typeof p?(Z.href=p,Z.origin===location.origin?b(Z):v(Z.href)?x(p,m,T):b(Z,Z.target="_blank")):(Z.href=u.createObjectURL(p),setTimeout(function(){u.revokeObjectURL(Z.href)},4e4),setTimeout(function(){b(Z)},0))}:"msSaveOrOpenBlob"in navigator?function(p,m,T){if(m=m||p.name||"download","string"!=typeof p)navigator.msSaveOrOpenBlob(function c(p,m){return typeof m>"u"?m={autoBom:!1}:"object"!=typeof m&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p}(p,T),m);else if(v(p))x(p,m,T);else{var u=document.createElement("a");u.href=p,u.target="_blank",setTimeout(function(){b(u)})}}:function(p,m,T,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof p)return x(p,m,T);var Z="application/octet-stream"===p.type,Y=/constructor/i.test(s.HTMLElement)||s.safari,$=/CriOS\/[\d]+/.test(navigator.userAgent);if(($||Z&&Y||d)&&typeof FileReader<"u"){var U=new FileReader;U.onloadend=function(){var P=U.result;P=$?P:P.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=P:location=P,u=null},U.readAsDataURL(p)}else{var k=s.URL||s.webkitURL,q=k.createObjectURL(p);u?u.location=q:location.href=q,u=null,setTimeout(function(){k.revokeObjectURL(q)},4e4)}});s.saveAs=L.saveAs=L,S.exports=L})?r.apply(y,[]):r)&&(S.exports=e)}}]);