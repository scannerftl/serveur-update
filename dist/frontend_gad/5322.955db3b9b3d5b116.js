"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[5322],{5322:(O,v,r)=>{r.r(v),r.d(v,{SousCategorieIncidentModule:()=>Mt});var d=r(6814),e=r(9468),S=r(1227),l=r(95);let p=(()=>{class t{constructor(){}createForm(o){return new l.cw({code:new l.NI(o.code,{nonNullable:!0,validators:[l.kI.required]}),libelle:new l.NI(o.libelle,{nonNullable:!0,validators:[l.kI.required]}),categorieIncident:new l.NI(o.categorieIncident,{nonNullable:!0,validators:[l.kI.required]}),description:new l.NI(o.description),categorie:new l.NI(o.categorie),utilisateurModification:new l.NI(o.utilisateurModification),utilisateurCreation:new l.NI(o.utilisateurCreation),dateCreation:new l.NI(o.dateCreation),dateDerniereModification:new l.NI(o.dateDerniereModification)})}createSearchForm(){return new l.cw({code:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),libelle:new l.NI("",{nonNullable:!0,validators:[l.kI.required]})})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var C=r(2572),g=r(7398),n=r(676);const u="SousCategorieIncident",M=(0,n.PH)(`[${u} API] Load All`),x=(0,n.PH)(`[${u} API] Load All Success`,(0,n.Ky)()),F=(0,n.PH)(`[${u} API] Create`,(0,n.Ky)()),D=(0,n.PH)(`[${u} API] Create Success`,(0,n.Ky)()),W=(0,n.PH)(`[${u} API] Load`,(0,n.Ky)()),j=(0,n.PH)(`[${u} API] Load Success`,(0,n.Ky)()),V=(0,n.PH)(`[${u} API] Create Error`,(0,n.Ky)()),X=(0,n.PH)(`[${u} API] Reset Error`),q=(0,n.PH)(`[${u} API] Reset Error Field`,(0,n.Ky)()),ee=(0,n.PH)(`[${u} API] Reset`),te=(0,n.PH)(`[${u} API] Delete`,(0,n.Ky)()),oe=(0,n.PH)(`[${u} API] Delete Success`,(0,n.Ky)()),c={loadItems:M,loadItemsSuccess:x,resetItem:ee,createItem:F,createItemSuccess:D,loadItem:W,loadItemSuccess:j,updateItem:(0,n.PH)(`[${u} API] Update`,(0,n.Ky)()),updateItemSuccess:(0,n.PH)(`[${u} API] Update Success`,(0,n.Ky)()),deleteItem:te,deleteItemSuccess:oe,setError:V,resetError:X,resetErrorField:q,loadFormModel:(0,n.PH)(`[${u} API] Load Form Model`),resetFormModel:(0,n.PH)(`[${u} API] Reset Form Model`),loadFormModelSuccess:(0,n.PH)(`[${u} API] Load Form Model Success`,(0,n.Ky)()),resetSearch:(0,n.PH)(`[${u} API] Reset Search`),search:(0,n.PH)(`[${u} API] Search`,(0,n.Ky)()),changePage:(0,n.PH)(`[${u} API] Change Page`,(0,n.Ky)()),changePageSize:(0,n.PH)(`[${u} API] Change Page Size`,(0,n.Ky)())},me=(0,n.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,n.on)(c.loadItemsSuccess,(t,s)=>(console.log(s.items),{...t,items:s.items,totalElement:s.totalElement})),(0,n.on)(c.resetItem,(t,s)=>({...t,currentItem:null})),(0,n.on)(c.createItemSuccess,(t,s)=>({...t})),(0,n.on)(c.deleteItemSuccess,(t,s)=>({...t})),(0,n.on)(c.loadItemSuccess,(t,s)=>({...t,currentItem:s.item})),(0,n.on)(c.updateItemSuccess,(t,s)=>({...t})),(0,n.on)(c.loadFormModel,(t,s)=>({...t,formModel:null})),(0,n.on)(c.loadFormModelSuccess,(t,s)=>({...t,formModel:s.formModel})),(0,n.on)(c.resetSearch,(t,s)=>({...t,searchModel:{}})),(0,n.on)(c.search,(t,s)=>({...t,searchModel:s.searchModel})),(0,n.on)(c.changePage,(t,s)=>({...t,page:s.page})),(0,n.on)(c.changePageSize,(t,s)=>({...t,pageSize:s.pageSize})),(0,n.on)(c.setError,(t,s)=>({...t,errors:s.errors})),(0,n.on)(c.resetError,(t,s)=>({...t,errors:null})),(0,n.on)(c.resetErrorField,(t,s)=>{let o={};return null!==t.errors&&Object.entries(t.errors).forEach(([i,a])=>{i!==s.fieldName&&(o[`${i}`]=a)}),{...t,errors:o}})),Z=(0,n.ZF)("sous-categorie-incidents"),_e=(0,n.P1)(Z,t=>t.items),he=(0,n.P1)(Z,t=>t.currentItem),B=(0,n.P1)(Z,t=>t.formModel),fe=(0,n.P1)(Z,t=>t.searchModel),H=(0,n.P1)(Z,t=>t.page),z=(0,n.P1)(Z,t=>t.pageSize),ge=(0,n.P1)(Z,t=>t.totalElement),Ce=(0,n.P1)(Z,t=>t.errors);var Ie=r(4849),A=r(8281),U=r(797),G=r(3849),be=r(7251),Se=r(166),ve=r(6327),xe=r(8564),Ze=r(8223),Te=r(602),Me=r(1469),ye=r(6326),Y=r(8346),k=r(1171),Q=r(547),$=r(362);function Pe(t,s){1&t&&(e.TgZ(0,"th",35),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}function Ee(t,s){if(1&t&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.Oqu(o.refSys)}}function Ae(t,s){1&t&&(e.TgZ(0,"th",35),e._uU(1,"Code"),e.qZA())}function Fe(t,s){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.Oqu(o.code)}}function Le(t,s){1&t&&(e.TgZ(0,"th",35),e._uU(1,"Libell\xe9"),e.qZA())}function Oe(t,s){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.Oqu(o.libelle)}}function De(t,s){1&t&&(e.TgZ(0,"th",35),e._uU(1,"Description"),e.qZA())}function Be(t,s){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.Oqu(o.description)}}function Ue(t,s){1&t&&(e.TgZ(0,"th",35),e._uU(1,"Cat\xe9gorie"),e.qZA())}function $e(t,s){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.Oqu(o.categorieIncident.libelle)}}function Ne(t,s){1&t&&(e.TgZ(0,"th",35),e._uU(1,"Date cr\xe9ation"),e.qZA())}function Ke(t,s){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,o.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function Je(t,s){1&t&&(e.TgZ(0,"th",35),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function He(t,s){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,o.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function ze(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"table",24),e.NdJ("itemSelected",function(a){e.CHM(o);const f=e.oxw(2);return e.KtG(f.itemSelected(a))}),e.ynx(1,25),e.YNc(2,Pe,2,0,"th",26),e.YNc(3,Ee,2,1,"td",27),e.BQk(),e.ynx(4,28),e.YNc(5,Ae,2,0,"th",26),e.YNc(6,Fe,2,1,"td",29),e.BQk(),e.ynx(7,30),e.YNc(8,Le,2,0,"th",26),e.YNc(9,Oe,2,1,"td",29),e.BQk(),e.ynx(10,31),e.YNc(11,De,2,0,"th",26),e.YNc(12,Be,2,1,"td",29),e.BQk(),e.ynx(13,32),e.YNc(14,Ue,2,0,"th",26),e.YNc(15,$e,2,1,"td",29),e.BQk(),e.ynx(16,33),e.YNc(17,Ne,2,0,"th",26),e.YNc(18,Ke,3,4,"td",29),e.BQk(),e.ynx(19,34),e.YNc(20,Je,2,0,"th",26),e.YNc(21,He,3,4,"td",29),e.BQk(),e.qZA()}if(2&t){const o=s.ngIf,i=e.oxw(2);e.Q6J("items",o)("headers",i.headerTable)("selectable",!0)}}function Ge(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.refreshButtonClicked())})("pageSelected",function(a){e.CHM(o);const f=e.oxw();return e.KtG(f.pageSelected(a))})("pageSizeChange",function(a){e.CHM(o);const f=e.oxw();return e.KtG(f.pageSizeChange(a))})("closeButtonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e.TgZ(7,"div",10)(8,"div",11)(9,"div",6),e._UZ(10,"app-form-label",12),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"app-custom-textfield",13),e.qZA()()(),e.TgZ(13,"div",14)(14,"app-custom-button",15),e.NdJ("buttonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.addButtonClicked())}),e.qZA(),e.TgZ(15,"app-custom-button",16),e.NdJ("buttonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.editButtonClicked())}),e.qZA(),e.TgZ(16,"app-custom-button",17),e.NdJ("buttonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.deleteButtonClicked())}),e.qZA()(),e.TgZ(17,"div",18),e._UZ(18,"app-custom-button",19)(19,"app-custom-button",20),e.TgZ(20,"app-print-button",21),e.NdJ("printButtonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.printButtonClicked())}),e.qZA()(),e.TgZ(21,"div",22),e.YNc(22,ze,22,3,"table",23),e.ALo(23,"async"),e.qZA()()}if(2&t){const o=s.ngIf,i=e.oxw();e.Q6J("itemSelected",i.isItemSelected())("pageSize",o.pageSize)("currentPage",o.page)("totalElements",o.totalElement),e.xp6(1),e.Q6J("formGroup",i.searchForm),e.xp6(6),e.Q6J("formGroup",i.searchForm),e.xp6(8),e.Q6J("disabled",!i.isItemSelected()),e.xp6(1),e.Q6J("disabled",!i.isItemSelected()),e.xp6(6),e.Q6J("ngIf",e.lcZ(23,9,i.items$))}}(0,d.qS)(S.Z,"fr-Fr");let Ye=(()=>{class t{constructor(o,i,a,f){this.router=o,this.modalService=i,this.store=a,this.sousCategorieIncidentFormService=f,this.headerTable=["R\xe9f\xe9rence","Code","Libell\xe9","Description","Cat\xe9gorie","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(_e),this.page$=this.store.select(H),this.pageSize$=this.store.select(z),this.totalElement$=this.store.select(ge),this.data$=(0,C.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,g.U)(([y,K,m])=>({page:y,pageSize:K,totalElement:m}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.sousCategorieIncidentFormService.createSearchForm(),this.store.dispatch(c.loadItems())}addButtonClicked(){this.router.navigate(["incidents","sous-categorie-incident","add"])}editButtonClicked(){const o=this.selectedItem?.id;o&&(this.store.dispatch(c.resetItem()),this.router.navigate(["incidents","sous-categorie-incident","edit",o]))}deleteButtonClicked(){const o=this.selectedItem;o&&this.modalService.openComponent(Ie.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(i=>{i&&"yes"===i&&this.store.dispatch(c.deleteItem({item:o}))})}itemSelected(o){this.selectedItem=o}pageSelected(o){this.store.dispatch(c.changePage({page:o}))}pageSizeChange(o){this.store.dispatch(c.changePageSize({pageSize:o}))}closeButtonClicked(){this.router.navigate(["incidents"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(c.resetSearch())}searchButtonClicked(){this.store.dispatch(c.search({searchModel:this.searchForm.value}))}printButtonClicked(){}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(A.F0),e.Y36(U.Z),e.Y36(n.yh),e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-sous-categorie-incident-list"]],features:[e._Bn([p,{provide:e.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiels","pathLevelTwo","Sous-cat\xe9gorie","pathLevelThree","Liste"],["title","Liste des Sous-Cat\xe9gories Incidents",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Sous-Cat\xe9gories Incidents",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search-2"],["title","Code"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","code"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Libell\xe9"],["placeholder","","otherclass","item-input","formControlName","libelle"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Importer","url","import.svg"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Code"],["app-cell-def-template","",4,"appCellDefTemplate"],["appCellDef","Libell\xe9"],["appCellDef","Description"],["appCellDef","Cat\xe9gorie"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-cell-def-template",""]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Ge,24,11,"app-crud-list",2),e.ALo(3,"async")),2&i&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,a.data$)))},dependencies:[d.O5,G.L,l.JJ,l.JL,l.sg,l.u,be._,Se.x,ve.N,xe.D,Ze.h,Te.u,Me.O,ye.q,Y.W,k.h,Q.Z,$.V,d.Ov,d.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return t})();var ke=r(8819),Qe=r(9543),we=r(7426),Re=r(9887),We=r(5973),je=r(4944),Ve=r(2093),Xe=r(6136),qe=r(8513),et=r(586),tt=r(1327),ot=r(5188);function it(t,s){1&t&&(e.TgZ(0,"th",38),e._uU(1,"Code"),e.qZA())}function nt(t,s){if(1&t&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.hij(" ",o.code," ")}}function rt(t,s){1&t&&(e.TgZ(0,"th",38),e._uU(1,"Libell\xe9"),e.qZA())}function st(t,s){if(1&t&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.xp6(1),e.hij(" ",o.libelle," ")}}function ct(t,s){1&t&&(e.TgZ(0,"table",33),e.ynx(1,34),e.YNc(2,it,2,0,"th",35),e.YNc(3,nt,2,1,"td",36),e.BQk(),e.ynx(4,37),e.YNc(5,rt,2,0,"th",35),e.YNc(6,st,2,1,"td",36),e.BQk(),e.qZA())}function at(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"app-field-error-wrapper",30),e.NdJ("resetField",function(a){e.CHM(o);const f=e.oxw(2);return e.KtG(f.resetBackendError(a))}),e.TgZ(1,"app-item-search",31),e.YNc(2,ct,7,0,"table",32),e.qZA()()}if(2&t){const o=s.ngIf,i=e.oxw(2);e.Q6J("errors",i.errors),e.xp6(1),e.Q6J("headers",i.categorieIncidentSelectItemsHeader)("items",o.categorieIncidents)("criterias",i.categorieIncidentItemCritterias)("itemDescription",i.categorieIncidentItemDescription)}}function lt(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"app-panel-custom",4)(3,"div",5)(4,"div",6),e._UZ(5,"app-form-label",7),e.TgZ(6,"div",8),e._UZ(7,"app-custom-textfield",9),e.qZA()(),e.TgZ(8,"div",6),e._UZ(9,"app-form-label",10),e.TgZ(10,"div",8),e._UZ(11,"app-custom-textfield",11),e.qZA()()(),e.TgZ(12,"div",5)(13,"div",6),e._UZ(14,"app-form-label",12),e.TgZ(15,"div",8),e._UZ(16,"app-custom-textfield",13),e.qZA()(),e.TgZ(17,"div",6),e._UZ(18,"app-form-label",14),e.TgZ(19,"div",8),e._UZ(20,"app-custom-textfield",15),e.qZA()()()(),e.TgZ(21,"app-panel-custom",16)(22,"div",5)(23,"div",6),e._UZ(24,"app-form-label",17),e.TgZ(25,"div",8)(26,"app-field-error-wrapper",18),e.NdJ("resetField",function(a){e.CHM(o);const f=e.oxw();return e.KtG(f.resetBackendError(a))}),e._UZ(27,"app-custom-textfield",19),e.qZA()()(),e.TgZ(28,"div",6),e._UZ(29,"app-form-label",20),e.TgZ(30,"div",8)(31,"app-field-error-wrapper",18),e.NdJ("resetField",function(a){e.CHM(o);const f=e.oxw();return e.KtG(f.resetBackendError(a))}),e._UZ(32,"app-custom-textfield",21),e.qZA()()()(),e.TgZ(33,"div",5)(34,"div",6),e._UZ(35,"app-form-label",22),e.TgZ(36,"div",8),e._UZ(37,"app-custom-textfield",23),e.qZA()(),e.TgZ(38,"div",6),e._UZ(39,"app-form-label",24),e.TgZ(40,"div",8),e._UZ(41,"app-custom-textfield",25),e.qZA(),e.YNc(42,at,3,5,"app-field-error-wrapper",26),e.ALo(43,"async"),e.qZA()()(),e.TgZ(44,"div",27)(45,"app-primary-button",28),e.NdJ("buttonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.submitForm())}),e.qZA(),e.TgZ(46,"app-cancel-button",29),e.NdJ("buttonClicked",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.returnToList())}),e.qZA()()()()}if(2&t){const o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(6),e.Q6J("errors",o.errors),e.xp6(5),e.Q6J("errors",o.errors),e.xp6(10),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("ngIf",e.lcZ(43,9,o.formModel$))}}let w=(()=>{class t{constructor(o,i,a,f){this.formService=o,this.modalService=i,this.router=a,this.store=f,this.formModel$=this.store.select(B),this.errors=null,this.formSubmitted=new e.vpe,this.categorieIncidentSelectItemsHeader=["Code","Libell\xe9"],this.categorieIncidentItemDescription=y=>y.code,this.categorieIncidentItemCritterias={code:"Code",libelle:"Libell\xe9"}}ngOnInit(){this.store.dispatch(c.loadFormModel()),this.store.select(Ce).subscribe(o=>{this.errors=o}),this.store.dispatch(c.resetError()),this.form=this.formService.createForm(this.sousCategorieIncident),this.formModel$.subscribe(o=>{console.log(o)}),this.form.get("categorieIncident")?.valueChanges.subscribe(o=>{null!==o&&this.form.get("categorie")?.setValue(o.libelle)})}ngOnDestroy(){}submitForm(){this.formSubmitted.emit(this.form.getRawValue())}returnToList(){this.router.navigateByUrl("incidents/sous-categorie-incident")}resetBackendError(o){this.store.dispatch(c.resetErrorField({fieldName:o}))}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(p),e.Y36(U.Z),e.Y36(A.F0),e.Y36(n.yh))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-sous-categorie-incident-form"]],inputs:{sousCategorieIncident:"sousCategorieIncident"},outputs:{formSubmitted:"formSubmitted"},features:[e._Bn([p])],decls:2,vars:1,consts:[["id","main",1,"ps-3","pe-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-4"],["title","Date Cr\xe9ation",1,"col-5","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],["title","Cr\xe9\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"col-5","text-end"],["otherclass","custom-style-form","formControlName","dateDerniereModification","placeholder","",3,"readonly"],["title","Modifi\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","title","Informations g\xe9n\xe9rales"],["title","Code",1,"col-5","text-end"],[3,"errors","resetField"],["otherclass","custom-style-form","placeholder","","formControlName","code"],["title","Libell\xe9",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","libelle"],["title","Description",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","description"],["title","Cat\xe9gorie Incident",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","categorie",3,"readonly"],["class","col-auto",3,"errors","resetField",4,"ngIf"],[1,"form-actions"],["title","Enregistrer",1,"me-1",3,"buttonClicked"],["title","Annuler","otherclass","custom-cancel-button",3,"buttonClicked"],[1,"col-auto",3,"errors","resetField"],["otherclass","custom-style-item-selection-form","formControlName","categorieIncident",1,"ml-2",3,"headers","items","criterias","itemDescription"],["app-item-search-template-attribute","",4,"appItemSearchTemplate"],["app-item-search-template-attribute",""],["appItemSearchCellDef","Code"],["app-item-search-header-def-template","","class","custom-head",4,"appItemSearchHeaderDefTemplate"],["app-item-search-cell-def-template","","class","custom-head",4,"appItemSearchCellDefTemplate"],["appItemSearchCellDef","Libell\xe9"],["app-item-search-header-def-template","",1,"custom-head"],["app-item-search-cell-def-template","",1,"custom-head"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e.YNc(1,lt,47,11,"form",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",a.form))},dependencies:[d.O5,l._Y,l.JJ,l.JL,l.sg,l.u,ke.F,Y.W,k.h,Qe.C,Q.Z,we.p,Re.l,We.v,je.K,Ve.d,Xe.D,qe.T,et.o,tt.g,ot.K,d.Ov],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return t})(),dt=(()=>{class t{constructor(o){this.store=o,this.formModel$=this.store.select(B),this.sousCategorieIncident={id:"",code:"",libelle:"",description:"",categorie:"",categorieIncident:null,dateDerniereModification:null,dateCreation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(c.resetItem()),this.store.dispatch(c.resetFormModel())}addSousCategorieIncident(o){this.store.dispatch(c.createItem({item:{code:o.code,libelle:o.libelle,description:o.description,categorieIncident:o.categorieIncident}}))}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(n.yh))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-sous-categorie-incident-add"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiels","pathLevelTwo","Sous-cat\xe9gorie","pathLevelThree","Ajouter"],["id","main",3,"sousCategorieIncident","formSubmitted"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.TgZ(2,"app-sous-categorie-incident-form",2),e.NdJ("formSubmitted",function(y){return a.addSousCategorieIncident(y)}),e.qZA()),2&i&&(e.xp6(2),e.Q6J("sousCategorieIncident",a.sousCategorieIncident))},dependencies:[$.V,w],styles:["[_nghost-%COMP%]{width:100%}"]})}return t})();var pt=r(7394);function ut(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"app-sous-categorie-incident-form",3),e.NdJ("formSubmitted",function(a){e.CHM(o);const f=e.oxw();return e.KtG(f.editSousCategorieIncident(a))}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("sousCategorieIncident",o.sousCategorieIncidentDto)}}let mt=(()=>{class t{constructor(o,i){this.store=o,this.route=i,this.formModel$=this.store.select(B),this.sousCategorieIncident$=this.store.select(he),this.sousCategorieIncidentDto=null,this.subscription=new pt.w0}ngOnInit(){this.store.dispatch(c.resetFormModel()),this.subscription=this.route.params.subscribe(o=>{this.id=o.id,this.id&&this.store.dispatch(c.loadItem({id:this.id}))}),this.sousCategorieIncident$.subscribe(o=>{o&&(this.sousCategorieIncidentDto={id:o.id,code:o.code,libelle:o.libelle,description:o.description,categorie:null===o.categorieIncident?"":o.categorieIncident.libelle,categorieIncident:null===o.categorieIncident?null:o.categorieIncident,dateDerniereModification:null===o.dateDerniereModification?"":this.formatDate(o.dateDerniereModification),dateCreation:null===o.dateCreation?"":this.formatDate(o.dateCreation),utilisateurCreation:o.utilisateurCreation,utilisateurModification:o.utilisateurModification})})}formatDate(o){if(o){const i=new Date(o);return i.toLocaleDateString()+" \xe0 "+i.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}editSousCategorieIncident(o){this.store.dispatch(c.updateItem({id:this.id,item:{id:this.id,code:o.code,libelle:o.libelle,description:o.description,categorieIncident:o.categorieIncident}}))}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(n.yh),e.Y36(A.gz))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-sous-categorie-incident-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiels","pathLevelTwo","Sous-cat\xe9gorie","pathLevelThree","Editer"],[3,"sousCategorieIncident","formSubmitted",4,"ngIf"],[3,"sousCategorieIncident","formSubmitted"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,ut,1,1,"app-sous-categorie-incident-form",2)),2&i&&(e.xp6(2),e.Q6J("ngIf",a.sousCategorieIncidentDto))},dependencies:[d.O5,$.V,w],styles:["[_nghost-%COMP%]{width:100%}"]})}return t})();var _=r(6465),_t=r(9207),ht=r(9862),I=r(6063),ft=r(2460),T=r(6328),gt=r(9026),P=r(6306),N=r(9397),Ct=r(1631),It=r(4664),b=r(2096),bt=r(3186),St=r(9989),vt=r(1946);let R=(()=>{class t extends St.v{getResourceBasePath(){return`${vt.y}/sousCategorieIncident`}static#e=this.\u0275fac=function(){let o;return function(a){return(o||(o=e.n5z(t)))(a||t)}}();static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var xt=r(6366);let Zt=(()=>{class t{constructor(o,i,a,f,y,K){this.sousCategorieIncidentService=o,this.authService=i,this.actions$=a,this.router=f,this.modalService=y,this.store=K,this.loadItems$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.loadItems),(0,ft.M)(this.store.select(H),this.store.select(z),this.store.select(fe)),(0,T.b)(([m,h,L,J])=>(console.log(h),this.store.dispatch((0,I.Q)()),(0,gt.$)(this.sousCategorieIncidentService.getAllWithPagination(h,L,J),this.sousCategorieIncidentService.count(J)).pipe((0,g.U)(([E,yt])=>(this.store.dispatch((0,I.Z)()),c.loadItemsSuccess({items:E,totalElement:yt}))),(0,P.K)(E=>(0,b.of)(c.setError({errors:E}))))))),{dispatch:!0}),this.createItem$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.createItem),(0,T.b)(m=>(this.store.dispatch((0,I.Q)()),this.sousCategorieIncidentService.add(m.item).pipe((0,N.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Sous-Categorie Incident ajout\xe9e avec succ\xe8s"}),this.router.navigateByUrl("incidents/sous-categorie-incident")}),(0,g.U)(h=>c.createItemSuccess({item:h})),(0,P.K)(h=>(this.store.dispatch((0,I.Z)()),(0,b.of)(c.setError({errors:h})))))))),{dispatch:!0}),this.loadItem$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.loadItem),(0,Ct.z)(m=>this.sousCategorieIncidentService.findById(m.id).pipe((0,g.U)(h=>c.loadItemSuccess({item:h})),(0,P.K)(h=>(this.store.dispatch((0,I.Z)()),(0,b.of)(c.setError({errors:h}))))))),{dispatch:!0}),this.deleteItem$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.deleteItem),(0,T.b)(m=>this.sousCategorieIncidentService.delete(m.item.id,m.item)),(0,N.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Sous-Cat\xe9gorie Incident supprim\xe9e avec succ\xe8s"})}),(0,g.U)(()=>c.loadItems()),(0,P.K)(m=>(this.store.dispatch((0,I.Z)()),(0,b.of)(c.setError({errors:m}))))),{dispatch:!0}),this.updateItem$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.updateItem),(0,T.b)(m=>(this.store.dispatch((0,I.Q)()),this.sousCategorieIncidentService.update(m.id,m.item).pipe((0,N.b)(()=>{this.store.dispatch((0,I.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Sous-Categorie Incident modifi\xe9e avec succ\xe8s"}),this.router.navigateByUrl("incidents/sous-categorie-incident")}),(0,g.U)(h=>c.createItemSuccess({item:h})),(0,P.K)(h=>(this.store.dispatch((0,I.Z)()),(0,b.of)(c.setError({errors:h})))))))),{dispatch:!0}),this.loadFormModel$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.loadFormModel),(0,T.b)(()=>this.sousCategorieIncidentService.getFormModel()),(0,g.U)(m=>c.loadFormModelSuccess({formModel:m})),(0,P.K)(m=>(0,b.of)(c.setError({errors:m}))))),this.resetSearch$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.resetSearch),(0,T.b)(()=>(0,b.of)(c.changePage({page:1}))))),this.search$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.search),(0,T.b)(()=>(0,b.of)(c.changePage({page:1}))))),this.changePage$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.changePage),(0,g.U)(m=>c.loadItems()))),this.changePageSize$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.changePageSize),(0,T.b)(()=>(0,b.of)(c.changePage({page:1}))))),this.handleError$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(c.setError),(0,It.w)(m=>{if(this.store.dispatch((0,I.Q)()),m.errors instanceof ht.UA){if(422===m.errors.status){let h="",L=0;for(const[J,E]of Object.entries(m.errors.error))h+=0===L?E:"\n"+E,L++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:h})}if(403===m.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===m.errors.status){let h="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,I.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:h}),(0,b.of)(bt.jM())}}return this.store.dispatch((0,I.Z)()),(0,b.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(i){return new(i||t)(e.LFG(R),e.LFG(xt.e),e.LFG(_.eX),e.LFG(A.F0),e.LFG(U.Z),e.LFG(n.yh))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();const Tt=[{path:"",component:Ye,pathMatch:"prefix"},{path:"add",component:dt,pathMatch:"prefix"},{path:"edit/:id",component:mt,pathMatch:"prefix"}];let Mt=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({providers:[R],imports:[d.ez,G.L,n.Aw.forFeature("sous-categorie-incidents",me),_.sQ.forFeature(Zt),_t.m,A.Bz.forChild(Tt)]})}return t})()},8819:(O,v,r)=>{r.d(v,{F:()=>e});var d=r(9468);let e=(()=>{class S{constructor(){this.disabled=!1,this.buttonClicked=new d.vpe}emitButtonClicked(){this.buttonClicked.emit()}static#e=this.\u0275fac=function(C){return new(C||S)};static#t=this.\u0275cmp=d.Xpm({type:S,selectors:[["app-cancel-button"]],inputs:{title:"title",url:"url",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(C,g){1&C&&(d.TgZ(0,"button",0),d.NdJ("click",function(){return g.emitButtonClicked()}),d._uU(1),d.qZA()),2&C&&(d.Gre("cancel-button ",g.otherclass,""),d.Q6J("disabled",g.disabled),d.xp6(1),d.hij(" ",g.title,"\n"))},styles:[".cancel-button[_ngcontent-%COMP%]{color:#000;border:1px solid #6d7582;background-color:#fff;min-width:120px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:25px;padding:.75rem 0rem;border-radius:3px}"]})}return S})()},4849:(O,v,r)=>{r.d(v,{n:()=>g});var d=r(1892),e=r(6814),S=r(8666),l=r(2463),p=r(9468),C=r(166);let g=(()=>{class n{constructor(M,x){this.modalData=M,this.modalRef=x}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#e=this.\u0275fac=function(x){return new(x||n)(p.Y36(d.S),p.Y36(d.R))};static#t=this.\u0275cmp=p.Xpm({type:n,selectors:[["app-confirm-alert"]],standalone:!0,features:[p.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(x,F){1&x&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),p._uU(3,"Confirmation de Suppression"),p.qZA()()(),p.TgZ(4,"div",3)(5,"div",4)(6,"div",5),p._UZ(7,"img",6),p.qZA(),p.TgZ(8,"div",7),p._uU(9," Voulez-vous vraiment effectuer cette action ? "),p.qZA()(),p.TgZ(10,"div",8)(11,"app-custom-button",9),p.NdJ("buttonClicked",function(){return F.confirmAction()}),p.qZA(),p.TgZ(12,"app-custom-button",10),p.NdJ("buttonClicked",function(){return F.close()}),p.qZA()()())},dependencies:[e.ez,S.a,l.v,C.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return n})()},3849:(O,v,r)=>{r.d(v,{L:()=>p});var d=r(9468),e=r(2463),S=r(6814),l=r(166);let p=(()=>{class C{constructor(){this.printButtonClicked=new d.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#e=this.\u0275fac=function(u){return new(u||C)};static#t=this.\u0275cmp=d.Xpm({type:C,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[d.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(u,M){1&u&&(d.TgZ(0,"app-custom-button",0),d.NdJ("buttonClicked",function(){return M.emitPrintButtonClicked()}),d.qZA())},dependencies:[S.ez,e.v,l.x],styles:["[_nghost-%COMP%]{display:block}"]})}return C})()}}]);