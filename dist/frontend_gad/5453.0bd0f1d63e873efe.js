"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[5453],{1573:(I,d)=>{d.DF={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},d.Md=d.DF},6810:(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0});var l="triangle-exclamation",h=[9888,"exclamation-triangle","warning"],r="f071",c="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z";d.definition={prefix:"fas",iconName:l,icon:[512,512,h,r,c]},d.faTriangleExclamation=d.definition,d.prefix="fas",d.iconName=l,d.width=512,d.height=512,d.ligatures=h,d.unicode=r,d.svgPathData=c,d.aliases=h},6712:(I,d,t)=>{var s=t(6810);d.DF={prefix:s.prefix,iconName:s.iconName,icon:[s.width,s.height,s.aliases,s.unicode,s.svgPathData]},d.e7=d.DF},5453:(I,d,t)=>{t.r(d),t.d(d,{IncidentModule:()=>X});var l=t(6814),s=t(9207),o=t(9468);let h=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=o.oAB({type:n});static#e=this.\u0275inj=o.cJS({imports:[l.ez]})}return n})(),r=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=o.oAB({type:n});static#e=this.\u0275inj=o.cJS({imports:[l.ez,s.m,h]})}return n})();var c=t(8281),v=t(7248),g=t(6712),p=t(590),S=t(1573),P=t(4e3),f=t(2191),M=t(6104),$=t(3170),A=t(2440),a=t(5619),N=t(5966),E=t(1946);let C=(()=>{class n{constructor(u){this.nouvelIncident$=new a.X(0),this.incidentCloture$=new a.X(0),this.incidentSupprime$=new a.X(0),this.incidentEnCours$=new a.X(0),this.supervisionIncidentPriseEnCharge$=new a.X(0),this.supervisionIncidentRejete$=new a.X(0),this.supervisionIncidentResolu$=new a.X(0),this.supervisionIncidentSupprime$=new a.X(0),this.supervisionValidationSolution$=new a.X(0),this.supportIncidentEnCours$=new a.X(0),this.supportIncidentPriseEnCharge$=new a.X(0),this.supportIncidentResolu$=new a.X(0),this.supportIncidentSupprime$=new a.X(0),this.supportNouvelleIncident$=new a.X(0),this.supportIncidentCloturer$=new a.X(0),this.sseEndpoint=`${u}/${E.y}/events/incident-event`}subscribe(){this.eventSource=new EventSource(this.sseEndpoint),this.eventSource.onopen=u=>{},this.eventSource.onerror=u=>null,this.eventSource.onmessage=u=>{const e=JSON.parse(u.data);this.nouvelIncident$.next(Number(e.mesNouveauIncidentCount)),this.incidentCloture$.next(Number(e.mesIncidentCloturerCount)),this.incidentSupprime$.next(Number(e.mesIncidentSupprimeCount)),this.incidentEnCours$.next(Number(e.mesIncidentenCoursCount)),this.supervisionIncidentPriseEnCharge$.next(Number(e.supervisionIncidentPriseEnChargeCount)),this.supervisionIncidentRejete$.next(Number(e.supervisionIncidentRejeteCount)),this.supervisionIncidentResolu$.next(Number(e.supervisionIncidentResoluCount)),this.supervisionIncidentSupprime$.next(Number(e.supervisionIncidentSupprimeCount)),this.supervisionValidationSolution$.next(Number(e.supervisionValidationSolutionCount)),this.supportIncidentEnCours$.next(Number(e.supportIncidentEnCoursCount)),this.supportIncidentPriseEnCharge$.next(Number(e.supportIncidentPriseEnChargeCount)),this.supportIncidentResolu$.next(Number(e.supportIncidentResoluCount)),this.supportIncidentSupprime$.next(Number(e.supportIncidentSupprimeCount)),this.supportNouvelleIncident$.next(Number(e.supportNouvelleIncidentCount)),this.supportIncidentCloturer$.next(Number(e.supportIncidentCloturerCount))}}unsubscribe(){this.eventSource.close()}getNouvelIncident(){return this.nouvelIncident$.asObservable()}getIncidentCloture(){return this.incidentCloture$.asObservable()}getIncidentSupprime(){return this.incidentSupprime$.asObservable()}getIncidentEnCours(){return this.incidentEnCours$.asObservable()}getSupervisionIncidentPriseEnCharge(){return this.supervisionIncidentPriseEnCharge$.asObservable()}getSupervisionIncidentRejete(){return this.supervisionIncidentRejete$.asObservable()}getSupervisionIncidentResolu(){return this.supervisionIncidentResolu$.asObservable()}getSupervisionIncidentSupprime(){return this.supervisionIncidentSupprime$.asObservable()}getSupervisionValidationSolution(){return this.supervisionValidationSolution$.asObservable()}getSupportIncidentEnCours(){return this.supportIncidentEnCours$.asObservable()}getSupportIncidentPriseEnCharge(){return this.supportIncidentPriseEnCharge$.asObservable()}getSupportIncidentResolu(){return this.supportIncidentResolu$.asObservable()}getSupportIncidentSupprime(){return this.supportIncidentSupprime$.asObservable()}getSupportNouvelleIncident(){return this.supportNouvelleIncident$.asObservable()}getSupportIncidentCloturer(){return this.supportIncidentCloturer$.asObservable()}static#t=this.\u0275fac=function(e){return new(e||n)(o.LFG(N.z))};static#n=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();var R=t(797),j=t(7438);let O=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-incident-landing"]],decls:1,vars:0,consts:[[1,"home-incident"]],template:function(e,m){1&e&&o._UZ(0,"div",0)},styles:['[_nghost-%COMP%]{width:100%;height:100%;//background: linear-gradient(to right,#c9eaf9,#daf0fa,#ffffff)}.home-incident[_ngcontent-%COMP%]{background-image:url("/assets/images/GAD accueil 3.svg");background-size:cover;background-position:center;background-repeat:no-repeat;height:calc(100vh - 80px)}']})}return n})();function y(n,F){1&n&&o._UZ(0,"app-incident-landing")}let x=(()=>{class n{constructor(u,e,m){this.router=u,this.serverSentService=e,this.modalService=m}ngOnInit(){this.serverSentService.subscribe(),this.menus=[{icon:g.e7,path:"",title:"Mes incidents",module:"Incident",items:[{path:"nouvel-incident",title:"Nouvel Incident",module:"Incident",authPath:"Mes nouveaux incidents",recap$:this.serverSentService.getNouvelIncident(),creation:!0,subitems:[]},{path:"incident-en-cours",title:"Mes Incidents En Cours",module:"Incident",authPath:"Mes incidents en cours",recap$:this.serverSentService.getIncidentEnCours(),wait:!0,subitems:[]},{path:"incident-clos",title:"Incidents Clotur\xe9s",module:"Incident",authPath:"Mes incidents clotur\xe9s",recap$:this.serverSentService.getIncidentCloture(),validate:!0,subitems:[]},{path:"brouillon",title:"Brouillon",module:"Incident",draft:!0,subitems:[]},{path:"incident-supprime",title:"Corbeille",recap$:this.serverSentService.getIncidentSupprime(),module:"Incident",authPath:"Mes incident supprim\xe9s",trash:!0,subitems:[]}]},{icon:p.xHF,path:"",title:"Support IT",module:"Incident",items:[{path:"support-nouvel-incident",title:"Nouvel incident",module:"Incident",authPath:"Support nouvel incident",creation:!0,subitems:[]},{path:"attente-pris-charge",title:"Attente prise en charge",module:"Incident",authPath:"Support incident prises en charge",wait:!0,recap$:this.serverSentService.getSupportIncidentPriseEnCharge(),subitems:[]},{path:"resolution",title:"En cours de r\xe9solution",module:"Incident",authPath:"Support incident en cours r\xe9solution",wait:!0,recap$:this.serverSentService.getSupportIncidentEnCours(),subitems:[]},{path:"attente-validation",title:"Attente validat. solution",module:"Incident",authPath:"Support incidents r\xe9solus",recap$:this.serverSentService.getSupportIncidentResolu(),waiting:!0,subitems:[]},{path:"solutions-rejetees",title:"Solutions Rejet\xe9es",module:"Incident",authPath:"",reject:!0,subitems:[]},{path:"incidents-rejetes",title:"Incidents Rejet\xe9s",module:"Incident",authPath:"Support incidents rej\xe9t\xe9s",reject:!0,subitems:[]},{path:"incidents-clotures",title:"Incidents Cl\xf4tur\xe9s",validate:!0,recap$:this.serverSentService.getSupportIncidentCloturer(),authPath:"Support incidents clotur\xe9s",module:"Incident",subitems:[]},{path:"brouillon-it",title:"Brouillon",draft:!0,module:"Incident",subitems:[]},{path:"corbeille-it",title:"Corbeille",module:"Incident",authPath:"Support incidents supprim\xe9s",trash:!0,subitems:[]}]},{icon:S.Md,path:"",title:"Supervision Incident",module:"Incident",items:[{path:"incident",title:"Nouvel incident",module:"Incident",authPath:"Supervision nouvel incident",creation:!0,subitems:[]},{path:"incident-pris-en-charge",title:"Incident pris en charge",recap$:this.serverSentService.getSupervisionIncidentPriseEnCharge(),module:"Incident",authPath:"Supervision incident prise en charge",wait:!0,subitems:[]},{path:"incident-reaffecte",title:"R\xe9affecter Incident",module:"Incident",authPath:"Supervision r\xe9affecter incident",wait:!0,subitems:[]},{path:"validation-solution",title:"Validation Solution",recap$:this.serverSentService.getSupervisionValidationSolution(),module:"Incident",authPath:"Validation solution",wait:!0,subitems:[]},{path:"cloturer-incident",title:"Cl\xf4turer Incident",recap$:this.serverSentService.getSupervisionIncidentResolu(),module:"Incident",authPath:"Supervision cloturer Incident",validate:!0,subitems:[]},{path:"incident-rejete",title:"Incidents Rejet\xe9s",recap$:this.serverSentService.getSupervisionIncidentRejete(),module:"Incident",authPath:"Supervision incidents rejet\xe9s",reject:!0,subitems:[]},{path:"brouillon-supervision",title:"Brouillon",authPath:"brouillon",module:"Incident",draft:!0,subitems:[]},{path:"corbeille-supervision",title:"Corbeille",recap$:this.serverSentService.getSupervisionIncidentSupprime(),module:"Incident",authPath:"Supervision incidents supprim\xe9s",trash:!0,subitems:[]}]},{icon:p.t5N,path:"base",title:"Base de connaissance",authPath:"Base de connaissance",module:"Incident",items:[{path:"rechercher-incident",title:"Recherche Incident",rechercherIncident:!0,module:"Incident",authPath:"Base de connaissance",name:"rechercher",subitems:[]},{path:"consultation-incident",title:"Consultation Incidents",consultationIncident:!0,module:"Incident",authPath:"Base de connaissance",subitems:[]}]},{icon:M.R7,path:".",title:"Pilotage",module:"Incident",items:[{path:"tableau-de-bord",title:"Tableau de Bord",module:"Incident",tableauBord:!0,subitems:[]},{path:"archivage-donnee",title:"Archivage des donn\xe9es",module:"Incident",archivage:!0,subitems:[]},{path:"notification",title:"Alertes",module:"Incident",authPath:"Notification",alerte:!0,subitems:[]},{path:"parametre-echeance",title:"Param\xe8tre des Ech\xe9ances",module:"Incident",authPath:"Param\xe8tre \xe9cheance incident",alerte:!0,subitems:[]}]},{icon:$.FL,path:"referentiels",title:"R\xe9f\xe9rentiels",module:"Incident",authPath:"",items:[{path:"categorie-incident",title:"Cat\xe9gorie Incident",categorie:!0,module:"Incident",authPath:"Cat\xe9gorie incident",subitems:[]},{path:"sous-categorie-incident",title:"Sous-cat\xe9gorie Incident",sousCategorie:!0,module:"Incident",authPath:"Sous cat\xe9gorie incident",subitems:[]},{path:"probleme",title:"Probl\xe8me Incident",problemeIncident:!0,module:"Incident",authPath:"Probl\xe8me",subitems:[]},{path:"impact",title:"Impact Incident",impactIncident:!0,module:"Incident",authPath:"Impact",subitems:[]},{path:"severite",title:"Criticit\xe9 Incident",criticiteIncident:!0,module:"Incident",authPath:"S\xe9v\xe9rit\xe9",subitems:[]},{path:"source",title:"Source Incident",sourceIncident:!0,module:"Incident",authPath:"Source",subitems:[]}]},{icon:f.CC,path:"etat-de-synthese",title:"Etats de synth\xe8ses",module:"Incident",items:[]},{icon:P.sp,path:"",module:"Incident",title:"Aide",items:[{path:"",clickFunction:this.showAboutModal.bind(this),title:"A propos",module:"Incident",subitems:[]},{path:"aide-en-ligne",title:"Aide en ligne",module:"Incident",aideEnLigne:!0,subitems:[]}]}]}ngOnDestroy(){this.serverSentService.unsubscribe()}showAboutModal(){this.modalService.openComponent(A.E,{size:"md"})}showLanding(){return"/incidents"===this.router.url}static#t=this.\u0275fac=function(e){return new(e||n)(o.Y36(c.F0),o.Y36(C),o.Y36(R.Z))};static#n=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-incident-home"]],features:[o._Bn([C])],decls:3,vars:2,consts:[[3,"menus"],[4,"ngIf"]],template:function(e,m){1&e&&(o.TgZ(0,"app-main-page",0),o.YNc(1,y,1,0,"app-incident-landing",1),o._UZ(2,"router-outlet"),o.qZA()),2&e&&(o.Q6J("menus",m.menus),o.xp6(1),o.Q6J("ngIf",m.showLanding()))},dependencies:[l.O5,c.lC,j.h,O]})}return n})();var i=t(8036);const B=[{path:"",component:x,pathMatch:"prefix",children:[{path:"notification",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(718)]).then(t.bind(t,718)).then(n=>n.NotificationModule),canActivate:[i.p],data:{routeModel:{module:"*"}}},{path:"parametre-echeance",loadChildren:()=>t.e(1924).then(t.bind(t,1924)).then(n=>n.ParametreEcheanceModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"rechercher-incident",loadChildren:()=>Promise.all([t.e(8651),t.e(8592),t.e(639)]).then(t.bind(t,639)).then(n=>n.IncidentRechercheModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"consultation-incident",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(8592),t.e(6944)]).then(t.bind(t,6944)).then(n=>n.BaseConnaissanceModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incident-reaffecte",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1228),t.e(7668),t.e(5286),t.e(4231)]).then(t.bind(t,4231)).then(n=>n.IncidentReaffecteModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"tableau-de-bord",loadChildren:()=>Promise.all([t.e(4958),t.e(2016)]).then(t.bind(t,2016)).then(n=>n.TableauDeBordModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"categorie-incident",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1760)]).then(t.bind(t,1760)).then(n=>n.CategorieIncidentModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"sous-categorie-incident",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1228),t.e(5322)]).then(t.bind(t,5322)).then(n=>n.SousCategorieIncidentModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"nouvel-incident",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1228),t.e(7668),t.e(5286),t.e(8592),t.e(699)]).then(t.bind(t,699)).then(n=>n.NouveauIncidentModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incident-en-cours",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(8707)]).then(t.bind(t,8707)).then(n=>n.IncidentEnCoursModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incident-supprime",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(7962)]).then(t.bind(t,7962)).then(n=>n.IncidentSupprimeModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incident-clos",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(5713)]).then(t.bind(t,5713)).then(n=>n.IncidentClosModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"support-nouvel-incident",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1228),t.e(7668),t.e(5286),t.e(2913)]).then(t.bind(t,2913)).then(n=>n.NouvelIncidentModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"attente-pris-charge",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(3594)]).then(t.bind(t,3594)).then(n=>n.AttentePriseChargeModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"resolution",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1228),t.e(7668),t.e(5286),t.e(8592),t.e(5264)]).then(t.bind(t,5264)).then(n=>n.IncidentCoursResolutionModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"attente-validation",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1089)]).then(t.bind(t,1089)).then(n=>n.IncidentValidationSolutionModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incidents-clotures",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(8592),t.e(193)]).then(t.bind(t,193)).then(n=>n.IncidentsClosModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incidents-rejetes",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(4189),t.e(8592),t.e(2312)]).then(t.bind(t,2312)).then(n=>n.IncidentsRejetesModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"corbeille-it",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(4575)]).then(t.bind(t,4575)).then(n=>n.IncidentsSupprimesModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incident",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1228),t.e(7668),t.e(5286),t.e(8592),t.e(6869)]).then(t.bind(t,6869)).then(n=>n.NouvelIncidentModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incident-pris-en-charge",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(7293)]).then(t.bind(t,7293)).then(n=>n.PrisEnChargeModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"validation-solution",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(1721)]).then(t.bind(t,1721)).then(n=>n.ValidationSolutionModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"solutions-rejetees",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(2332)]).then(t.bind(t,2332)).then(n=>n.SolutionsRejeteesModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"cloturer-incident",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(4239)]).then(t.bind(t,4239)).then(n=>n.IncidentClosModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"incident-rejete",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(4189),t.e(1394)]).then(t.bind(t,1394)).then(n=>n.IncidentRejeteModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"corbeille-supervision",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(4718)]).then(t.bind(t,4718)).then(n=>n.IncidentSupprimeModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"probleme",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(821)]).then(t.bind(t,821)).then(n=>n.ProblemeModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"impact",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(5354)]).then(t.bind(t,5354)).then(n=>n.ImpactModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"severite",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(9339)]).then(t.bind(t,9339)).then(n=>n.SeveriteModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"source",loadChildren:()=>Promise.all([t.e(8651),t.e(777),t.e(3633)]).then(t.bind(t,3633)).then(n=>n.SourceModule),canActivate:[i.p],data:{routeModel:{module:"Incident"}}},{path:"**",component:v.w}]}];let X=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=o.oAB({type:n});static#e=this.\u0275inj=o.cJS({imports:[l.ez,r,c.Bz.forChild(B)]})}return n})()}}]);