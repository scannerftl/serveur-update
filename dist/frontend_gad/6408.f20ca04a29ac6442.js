"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[6408],{6408:(Z,_,o)=>{o.r(_),o.d(_,{RecapEquipementCategorieModule:()=>Be});var c=o(6814),e=o(9468),f=o(2572),m=o(7398),d=o(95);let C=(()=>{class t{constructor(){}createSearchForm(){return new d.cw({stockReel:new d.NI(0,{nonNullable:!0,validators:[d.kI.required]})})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var r=o(676);const p="Recap Equipement Categorie",v=(0,r.PH)(`[${p} API] Load All`),B=(0,r.PH)(`[${p} API] Load All Success`,(0,r.Ky)()),z=(0,r.PH)(`[${p} API] Load`,(0,r.Ky)()),U=(0,r.PH)(`[${p} API] Load Success`,(0,r.Ky)()),G=(0,r.PH)(`[${p} API] Reset Search`),q=(0,r.PH)(`[${p} API] Search`,(0,r.Ky)()),D=(0,r.PH)(`[${p} API] Change Page`,(0,r.Ky)()),H=(0,r.PH)(`[${p} API] Change Page Size`,(0,r.Ky)()),n={loadItems:v,loadItemsSuccess:B,loadItem:z,loadItemSuccess:U,setError:(0,r.PH)(`[${p} API] Create Error`,(0,r.Ky)()),resetError:(0,r.PH)(`[${p} API] Reset Error`),resetErrorField:(0,r.PH)(`[${p} API] Reset Error Field`,(0,r.Ky)()),search:q,resetSearch:G,changePage:D,changePageSize:H},k=(0,r.Lq)({searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,r.on)(n.loadItemsSuccess,(t,a)=>(console.log(a.items),{...t,items:a.items,totalElement:a.totalElement})),(0,r.on)(n.loadItemSuccess,(t,a)=>({...t,currentItem:a.item})),(0,r.on)(n.resetSearch,(t,a)=>({...t,searchModel:{}})),(0,r.on)(n.search,(t,a)=>({...t,searchModel:a.searchModel})),(0,r.on)(n.changePage,(t,a)=>({...t,page:a.page})),(0,r.on)(n.changePageSize,(t,a)=>({...t,pageSize:a.pageSize})),(0,r.on)(n.setError,(t,a)=>({...t,errors:a.errors})),(0,r.on)(n.resetError,(t,a)=>({...t,errors:null})),(0,r.on)(n.resetErrorField,(t,a)=>{let s={};return null!==t.errors&&Object.entries(t.errors).forEach(([i,l])=>{i!==a.fieldName&&(s[`${i}`]=l)}),{...t,errors:s}})),E=(0,r.ZF)("recap-equipement-categories"),Q=(0,r.P1)(E,t=>t.items),J=((0,r.P1)(E,t=>t.currentItem),(0,r.P1)(E,t=>t.searchModel)),$=(0,r.P1)(E,t=>t.page),M=(0,r.P1)(E,t=>t.pageSize),j=(0,r.P1)(E,t=>t.totalElement);(0,r.P1)(E,t=>t.errors);var L=o(8281),V=o(7251),X=o(6327),w=o(8564),ee=o(8223),te=o(602),re=o(1469),oe=o(6326),se=o(8346),ae=o(1171),ie=o(547),ne=o(362);function ce(t,a){1&t&&(e.TgZ(0,"th",24),e._uU(1,"Libell\xe9"),e.qZA())}function le(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Oqu(s.libelle)}}function pe(t,a){1&t&&(e.TgZ(0,"th",26),e._uU(1,"Stock R\xe9el"),e.qZA())}function ue(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Oqu(s.stockReel)}}function de(t,a){1&t&&(e.TgZ(0,"th",26),e._uU(1,"En Service"),e.qZA())}function he(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Oqu(s.stockService)}}function me(t,a){1&t&&(e.TgZ(0,"th",26),e._uU(1,"En Maintenance"),e.qZA())}function ge(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Oqu(s.stockMaintenance)}}function fe(t,a){1&t&&(e.TgZ(0,"th",26),e._uU(1,"Hors Service"),e.qZA())}function Ce(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Oqu(s.stockHorsService)}}function _e(t,a){1&t&&(e.TgZ(0,"th",26),e._uU(1,"Stock Perdu"),e.qZA())}function ve(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Oqu(s.stockPerdu)}}function Ee(t,a){if(1&t&&(e.TgZ(0,"table",14),e.ynx(1,15),e.YNc(2,ce,2,0,"th",16),e.YNc(3,le,2,1,"td",17),e.BQk(),e.ynx(4,18),e.YNc(5,pe,2,0,"th",19),e.YNc(6,ue,2,1,"td",17),e.BQk(),e.ynx(7,20),e.YNc(8,de,2,0,"th",19),e.YNc(9,he,2,1,"td",17),e.BQk(),e.ynx(10,21),e.YNc(11,me,2,0,"th",19),e.YNc(12,ge,2,1,"td",17),e.BQk(),e.ynx(13,22),e.YNc(14,fe,2,0,"th",19),e.YNc(15,Ce,2,1,"td",17),e.BQk(),e.ynx(16,23),e.YNc(17,_e,2,0,"th",19),e.YNc(18,ve,2,1,"td",17),e.BQk(),e.qZA()),2&t){const s=a.ngIf,i=e.oxw(2);e.Q6J("items",s)("headers",i.headerTable)("selectable",!0)}}function Se(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(s);const l=e.oxw();return e.KtG(l.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(s);const l=e.oxw();return e.KtG(l.refreshButtonClicked())})("pageSelected",function(l){e.CHM(s);const y=e.oxw();return e.KtG(y.pageSelected(l))})("pageSizeChange",function(l){e.CHM(s);const y=e.oxw();return e.KtG(y.pageSizeChange(l))})("closeButtonClicked",function(){e.CHM(s);const l=e.oxw();return e.KtG(l.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e._UZ(7,"div",10)(8,"div",11),e.TgZ(9,"div",12),e.YNc(10,Ee,19,3,"table",13),e.ALo(11,"async"),e.qZA()()}if(2&t){const s=a.ngIf,i=e.oxw();e.Q6J("itemSelected",i.isItemSelected())("pageSize",s.pageSize)("currentPage",s.page)("totalElements",s.totalElement)("type","action"),e.xp6(1),e.Q6J("formGroup",i.searchForm),e.xp6(6),e.Q6J("formGroup",i.searchForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(11,8,i.items$))}}let Pe=(()=>{class t{constructor(s,i,l,y){this.router=s,this.store=i,this.recapEquipementCategorieFormService=l,this.headerTable=["Libell\xe9","Stock R\xe9el","Stock Perdu","En Service","En Maintenance","Hors Service"],this.items$=this.store.select(Q),this.page$=this.store.select($),this.pageSize$=this.store.select(M),this.totalElement$=this.store.select(j),this.data$=(0,f.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,m.U)(([A,R,g])=>({page:A,pageSize:R,totalElement:g}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.recapEquipementCategorieFormService.createSearchForm(),this.store.dispatch(n.loadItems())}pageSelected(s){this.store.dispatch(n.changePage({page:s}))}pageSizeChange(s){this.store.dispatch(n.changePageSize({pageSize:s}))}closeButtonClicked(){this.router.navigate(["parc-informatique"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(n.resetSearch())}searchButtonClicked(){this.store.dispatch(n.search({searchModel:this.searchForm.value}))}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(L.F0),e.Y36(r.yh),e.Y36(C),e.Y36(e.soG))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-recap-equipement-categorie-list"]],features:[e._Bn([C,{provide:e.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Stock","pathLevelTwo","Recap Equipement Cat\xe9gorie","pathLevelThree","Liste"],["title","Consultation du Stock",3,"itemSelected","pageSize","currentPage","totalElements","type","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Consultation du Stock",3,"itemSelected","pageSize","currentPage","totalElements","type","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Stock R\xe9el"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","stockReel"],[1,"advance-search",3,"formGroup"],[1,"secondary-actions","d-flex"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable"],["appCellDef","Libell\xe9"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Stock R\xe9el"],["app-header-attribute-def-template","","class","text-start ps-2",4,"appHeaderDefTemplate"],["appCellDef","En Service"],["appCellDef","En Maintenance"],["appCellDef","Hors Service"],["appCellDef","Stock Perdu"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-header-attribute-def-template","",1,"text-start","ps-2"]],template:function(i,l){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Se,12,10,"app-crud-list",2),e.ALo(3,"async")),2&i&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,l.data$)))},dependencies:[c.O5,d.JJ,d.JL,d.sg,d.u,V._,X.N,w.D,ee.h,te.u,re.O,oe.q,se.W,ae.h,ie.Z,ne.V,c.Ov],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return t})();var u=o(6465),ye=o(9207),S=o(6063),xe=o(3186),Te=o(9862),Ie=o(2460),T=o(6328),Ze=o(9026),O=o(6306),Le=o(1631),Ae=o(4664),P=o(2096),Re=o(1946),be=o(9989);let F=(()=>{class t extends be.v{getResourceBasePath(){return`${Re.y}/recap-equipement-categorie`}static#e=this.\u0275fac=function(){let s;return function(l){return(s||(s=e.n5z(t)))(l||t)}}();static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var $e=o(6366),Me=o(797);let Oe=(()=>{class t{constructor(s,i,l,y,A,R){this.recapEquipementCategorieService=s,this.authService=i,this.actions$=l,this.router=y,this.modalService=A,this.store=R,this.loadItems$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(n.loadItems),(0,Ie.M)(this.store.select($),this.store.select(M),this.store.select(J)),(0,T.b)(([g,h,I,b])=>(this.store.dispatch((0,S.Q)()),(0,Ze.$)(this.recapEquipementCategorieService.getAllWithPagination(h,I,b),this.recapEquipementCategorieService.count(b)).pipe((0,m.U)(([x,ze])=>(this.store.dispatch((0,S.Z)()),n.loadItemsSuccess({items:x,totalElement:ze}))),(0,O.K)(x=>(this.store.dispatch((0,S.Z)()),(0,P.of)(n.setError({errors:x})))))))),{dispatch:!0}),this.loadItem$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(n.loadItem),(0,Le.z)(g=>this.recapEquipementCategorieService.findById(g.id).pipe((0,m.U)(h=>n.loadItemSuccess({item:h})),(0,O.K)(h=>(this.store.dispatch((0,S.Z)()),(0,P.of)(n.setError({errors:h}))))))),{dispatch:!0}),this.resetSearch$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(n.resetSearch),(0,T.b)(()=>(0,P.of)(n.changePage({page:1}))))),this.search$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(n.search),(0,T.b)(()=>(0,P.of)(n.changePage({page:1}))))),this.changePage$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(n.changePage),(0,m.U)(g=>n.loadItems()))),this.changePageSize$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(n.changePageSize),(0,T.b)(()=>(0,P.of)(n.changePage({page:1}))))),this.handleError$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(n.setError),(0,Ae.w)(g=>{if(this.store.dispatch((0,S.Q)()),g.errors instanceof Te.UA){if(422===g.errors.status){let h="",I=0;for(const[b,x]of Object.entries(g.errors.error))h+=0===I?x:"\n"+x,I++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:h})}if(403===g.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===g.errors.status){let h="Votre session a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,S.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:h}),(0,P.of)(xe.jM())}}return this.store.dispatch((0,S.Z)()),(0,P.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(i){return new(i||t)(e.LFG(F),e.LFG($e.e),e.LFG(u.eX),e.LFG(L.F0),e.LFG(Me.Z),e.LFG(r.yh))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();const Fe=[{path:"",component:Pe,pathMatch:"prefix"}];let Be=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#r=this.\u0275inj=e.cJS({providers:[F],imports:[c.ez,r.Aw.forFeature("recap-equipement-categories",k),u.sQ.forFeature(Oe),ye.m,L.Bz.forChild(Fe)]})}return t})()},8346:(Z,_,o)=>{o.d(_,{W:()=>m});var c=o(9468),e=o(95),f=o(7394);let m=(()=>{class d{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new f.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new e.NI}writeValue(r){this.control.setValue(r)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r,r?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(r=>{this.onChange(r)})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=c.Xpm({type:d,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[c._Bn([{provide:e.JU,useExisting:(0,c.Gpc)(()=>d),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(p,v){1&p&&c._UZ(0,"input",0),2&p&&(c.Gre("custom-text-field m-0 form-control-sm ",v.otherclass,""),c.s9C("placeholder",v.placeholder),c.Q6J("type",v.type)("formControl",v.control)("readonly",v.readonly))},dependencies:[e.Fj,e.JJ,e.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return d})()},1171:(Z,_,o)=>{o.d(_,{h:()=>e});var c=o(9468);let e=(()=>{class f{constructor(){this.title="",this.class=""}static#e=this.\u0275fac=function(C){return new(C||f)};static#t=this.\u0275cmp=c.Xpm({type:f,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(C,r){1&C&&(c.TgZ(0,"label"),c._uU(1),c.qZA()),2&C&&(c.Tol(r.class),c.xp6(1),c.Oqu(r.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return f})()},547:(Z,_,o)=>{o.d(_,{Z:()=>f});var c=o(9468),e=o(95);let f=(()=>{class m{constructor(C){this.ngControl=C}static#e=this.\u0275fac=function(r){return new(r||m)(c.Y36(e.a5,10))};static#t=this.\u0275dir=c.lG2({type:m,selectors:[["","formControl",""],["","formControlName",""]]})}return m})()}}]);