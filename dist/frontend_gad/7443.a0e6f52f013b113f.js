"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[7443],{7443:(K,U,r)=>{r.r(U),r.d(U,{UtilisateurModule:()=>_e});var _=r(6814),C=r(8281),S=r(2572),g=r(7398),u=r(1686),s=r(676);const d="Utilisateur",v=(0,s.PH)(`[${d} API] Load All`),I=(0,s.PH)(`[${d} API] Load All Success`,(0,s.Ky)()),T=(0,s.PH)(`[${d} API] Create`,(0,s.Ky)()),P=(0,s.PH)(`[${d} API] Create Success`,(0,s.Ky)()),A=(0,s.PH)(`[${d} API] Load`,(0,s.Ky)()),L=(0,s.PH)(`[${d} API] Reset`),w=(0,s.PH)(`[${d} API] Load Success`,(0,s.Ky)()),V=(0,s.PH)(`[${d} API] Delete`,(0,s.Ky)()),X=(0,s.PH)(`[${d} API] Delete Success`,(0,s.Ky)()),q=(0,s.PH)(`[${d} API] Update`,(0,s.Ky)()),tt=(0,s.PH)(`[${d} API] Update Success`,(0,s.Ky)()),et=(0,s.PH)(`[${d} API] Load Form Model`),it=(0,s.PH)(`[${d} API] Reset Form Model`),st=(0,s.PH)(`[${d} API] Load Form Model Success`,(0,s.Ky)()),ot=(0,s.PH)(`[${d} API] Reset Search`),rt=(0,s.PH)(`[${d} API] Search`,(0,s.Ky)()),nt=(0,s.PH)(`[${d} API] Change Page`,(0,s.Ky)()),at=(0,s.PH)(`[${d} API] Change Page Size`,(0,s.Ky)()),a={loadItems:v,loadItemsSuccess:I,resetItem:L,createItem:T,createItemSuccess:P,loadItem:A,loadItemSuccess:w,updateItem:q,updateItemSuccess:tt,deleteItem:V,deleteItemSuccess:X,loadFormModel:et,resetFormModel:it,loadFormModelSuccess:st,setError:(0,s.PH)(`[${d} API] Create Error`,(0,s.Ky)()),resetError:(0,s.PH)(`[${d} API] Reset Error`),resetErrorField:(0,s.PH)(`[${d} API] Reset Error Field`,(0,s.Ky)()),resetSearch:ot,search:rt,changePage:nt,changePageSize:at},dt=(0,s.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,s.on)(a.loadItemsSuccess,(e,n)=>({...e,items:n.items,totalElement:n.totalElement})),(0,s.on)(a.resetItem,(e,n)=>({...e,currentItem:null})),(0,s.on)(a.createItemSuccess,(e,n)=>({...e})),(0,s.on)(a.deleteItemSuccess,(e,n)=>({...e})),(0,s.on)(a.loadItemSuccess,(e,n)=>({...e,currentItem:n.item})),(0,s.on)(a.updateItemSuccess,(e,n)=>({...e})),(0,s.on)(a.loadFormModel,(e,n)=>({...e,formModel:null})),(0,s.on)(a.loadFormModelSuccess,(e,n)=>({...e,formModel:n.formModel})),(0,s.on)(a.resetSearch,(e,n)=>({...e,searchModel:{}})),(0,s.on)(a.search,(e,n)=>({...e,searchModel:n.searchModel})),(0,s.on)(a.changePage,(e,n)=>({...e,page:n.page})),(0,s.on)(a.changePageSize,(e,n)=>({...e,pageSize:n.pageSize})),(0,s.on)(a.setError,(e,n)=>({...e,errors:n.errors})),(0,s.on)(a.resetError,(e,n)=>({...e,errors:{}})),(0,s.on)(a.resetErrorField,(e,n)=>{let i={};return null!==e.errors&&Object.entries(e.errors).forEach(([o,l])=>{o!==n.fieldName&&(i[`${o}`]=l)}),{...e,errors:i}})),b=(0,s.ZF)("utilisateurs"),mt=(0,s.P1)(b,e=>e.items),_t=(0,s.P1)(b,e=>e.currentItem),z=(0,s.P1)(b,e=>e.formModel),ht=(0,s.P1)(b,e=>e.searchModel),H=(0,s.P1)(b,e=>e.page),G=(0,s.P1)(b,e=>e.pageSize),ft=(0,s.P1)(b,e=>e.totalElement),Y=(0,s.P1)(b,e=>e.errors);var gt=r(4849),t=r(9468),k=r(797),Z=r(95),Ct=r(7251),vt=r(166),Pt=r(6327),bt=r(8564),xt=r(8223),Tt=r(602),Mt=r(1469),Ut=r(6326),St=r(8346),It=r(1171),At=r(547),$=r(362),R=r(3849);function Zt(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Login"),t.qZA())}function yt(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.userName)}}function Et(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Nom"),t.qZA())}function Lt(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.firstName)}}function $t(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Pr\xe9nom"),t.qZA())}function Ot(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.lastName)}}function Bt(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Statut"),t.qZA())}function Ft(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.etatOperation)}}function Nt(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"R\xf4le"),t.qZA())}function Dt(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.role.libelle)}}function Kt(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Cr\xe9\xe9(e) Par"),t.qZA())}function zt(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.utilisateurCreation)}}function Ht(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Date Cr\xe9ation"),t.qZA())}function Gt(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function Yt(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Modifi\xe9(e) Par"),t.qZA())}function kt(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.utilisateurModification)}}function Rt(e,n){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Date Derni\xe8re Modif"),t.qZA())}function Qt(e,n){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function Jt(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"table",24),t.NdJ("itemSelected",function(l){t.CHM(i);const h=t.oxw(2);return t.KtG(h.itemSelected(l))}),t.ynx(1,25),t.YNc(2,Zt,2,0,"th",26),t.YNc(3,yt,2,1,"td",27),t.BQk(),t.ynx(4,28),t.YNc(5,Et,2,0,"th",26),t.YNc(6,Lt,2,1,"td",27),t.BQk(),t.ynx(7,29),t.YNc(8,$t,2,0,"th",26),t.YNc(9,Ot,2,1,"td",27),t.BQk(),t.ynx(10,30),t.YNc(11,Bt,2,0,"th",26),t.YNc(12,Ft,2,1,"td",27),t.BQk(),t.ynx(13,31),t.YNc(14,Nt,2,0,"th",26),t.YNc(15,Dt,2,1,"td",27),t.BQk(),t.ynx(16,32),t.YNc(17,Kt,2,0,"th",26),t.YNc(18,zt,2,1,"td",27),t.BQk(),t.ynx(19,33),t.YNc(20,Ht,2,0,"th",26),t.YNc(21,Gt,3,4,"td",27),t.BQk(),t.ynx(22,34),t.YNc(23,Yt,2,0,"th",26),t.YNc(24,kt,2,1,"td",27),t.BQk(),t.ynx(25,35),t.YNc(26,Rt,2,0,"th",26),t.YNc(27,Qt,3,4,"td",27),t.BQk(),t.qZA()}if(2&e){const i=n.ngIf,o=t.oxw(2);t.Q6J("items",i)("headers",o.headerTable)("selectable",!0)}}function Wt(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"app-crud-list",3),t.NdJ("searchButtonClicked",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.searchButtonClicked())})("refreshButtonClicked",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.refreshButtonClicked())})("pageSelected",function(l){t.CHM(i);const h=t.oxw();return t.KtG(h.pageSelected(l))})("pageSizeChange",function(l){t.CHM(i);const h=t.oxw();return t.KtG(h.pageSizeChange(l))})("closeButtonClicked",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.closeButtonClicked())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._UZ(4,"app-form-label",7),t.qZA(),t.TgZ(5,"div",8),t._UZ(6,"app-custom-textfield",9),t.qZA()()(),t.TgZ(7,"div",10)(8,"div",11)(9,"div",6),t._UZ(10,"app-form-label",12),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-custom-textfield",13),t.qZA()()(),t.TgZ(13,"div",14)(14,"app-custom-button",15),t.NdJ("buttonClicked",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.addButtonClicked())}),t.qZA(),t.TgZ(15,"app-custom-button",16),t.NdJ("buttonClicked",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.editButtonClicked())}),t.qZA(),t.TgZ(16,"app-custom-button",17),t.NdJ("buttonClicked",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.deleteButtonClicked())}),t.qZA()(),t.TgZ(17,"div",18),t._UZ(18,"app-custom-button",19)(19,"app-custom-button",20),t.TgZ(20,"app-print-button",21),t.NdJ("printButtonClicked",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.printButtonClicked())}),t.qZA()(),t.TgZ(21,"div",22),t.YNc(22,Jt,28,3,"table",23),t.ALo(23,"async"),t.qZA()()}if(2&e){const i=n.ngIf,o=t.oxw();t.Q6J("itemSelected",o.isItemSelected())("pageSize",i.pageSize)("currentPage",i.page)("totalElements",i.totalElement),t.xp6(1),t.Q6J("formGroup",o.searchForm),t.xp6(6),t.Q6J("formGroup",o.searchForm),t.xp6(8),t.Q6J("disabled",!o.isItemSelected()),t.xp6(1),t.Q6J("disabled",!o.isItemSelected()),t.xp6(6),t.Q6J("ngIf",t.lcZ(23,9,o.items$))}}let jt=(()=>{class e{constructor(i,o,l,h){this.router=i,this.modalService=o,this.store=l,this.utilisateurFormService=h,this.isUpdateActivated=!1,this.headerTable=["Login","Nom","Pr\xe9nom","Statut","Role","Date Cr\xe9ation","Cr\xe9\xe9(e) Par","Date Derni\xe8re Modif","Modifi\xe9(e) Par"],this.items$=this.store.select(mt),this.page$=this.store.select(H),this.pageSize$=this.store.select(G),this.totalElement$=this.store.select(ft),this.data$=(0,S.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,g.U)(([F,N,m])=>({page:F,pageSize:N,totalElement:m}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.utilisateurFormService.createSearchForm(),this.store.dispatch(a.loadItems())}addButtonClicked(){this.router.navigate(["administration","utilisateur","add"])}editButtonClicked(){const i=this.selectedItem?.id;i&&(this.store.dispatch(a.resetItem()),this.router.navigate(["administration","utilisateur","edit",i]))}deleteButtonClicked(){const i=this.selectedItem;i&&this.modalService.openComponent(gt.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(o=>{o&&"yes"===o&&this.store.dispatch(a.deleteItem({item:i}))})}itemSelected(i){this.selectedItem=i}pageSelected(i){this.store.dispatch(a.changePage({page:i}))}pageSizeChange(i){this.store.dispatch(a.changePageSize({pageSize:i}))}closeButtonClicked(){this.router.navigate(["administration"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(a.resetSearch())}searchButtonClicked(){this.store.dispatch(a.search({searchModel:this.searchForm.value}))}printButtonClicked(){}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(C.F0),t.Y36(k.Z),t.Y36(s.yh),t.Y36(u.G))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-utilisateur-list"]],features:[t._Bn([u.G])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Profils et utilisateurs","pathLevelTwo","Comptes utilisateurs","pathLevelThree","Liste"],["title","Liste des Utilisateurs",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Utilisateurs",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search-1"],["title","Nom d'utilisateur"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","userName"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Nom"],["placeholder","","otherclass","item-input","formControlName","firstName"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Importer","url","import.svg"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","Login"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","table-align-left",4,"appCellDefTemplate"],["appCellDef","Nom"],["appCellDef","Pr\xe9nom"],["appCellDef","Statut"],["appCellDef","Role"],["appCellDef","Cr\xe9\xe9(e) Par"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Modifi\xe9(e) Par"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"table-align-left"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,Wt,24,11,"app-crud-list",2),t.ALo(3,"async")),2&o&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,l.data$)))},dependencies:[_.O5,Z.JJ,Z.JL,Z.sg,Z.u,Ct._,vt.x,Pt.N,bt.D,xt.h,Tt.u,Mt.O,Ut.q,St.W,It.h,At.Z,$.V,R.L,_.Ov,_.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return e})();var Q=r(3125);function wt(e,n){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"app-utilisateur-form",3),t.NdJ("formSubmitted",function(l){t.CHM(i);const h=t.oxw();return t.KtG(h.addUtilisateur(l))})("fieldReset",function(l){t.CHM(i);const h=t.oxw();return t.KtG(h.resetBackendError(l))})("returnToList",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.returnToList())}),t.qZA(),t.BQk()}if(2&e){const i=n.ngIf,o=t.oxw();t.xp6(1),t.Q6J("utilisateur",o.utilisateur)("formModel",i)("errors",o.error)}}let Vt=(()=>{class e{constructor(i,o){this.store=i,this.router=o,this.formModel$=this.store.select(z),this.errors$=this.store.select(Y),this.error={},this.utilisateur={id:"",lastName:"",firstName:"",userName:"",pwd:"",pwdConfirm:"",role:null,expirationDelay:90,alertDelay:10,attempsNumber:5,locked:!1,notificationParEmail:!1,notificationParSms:!1,notificationParWhatsapp:!1,notificationParTelegramm:!1,telephone:"",email:""}}ngOnInit(){this.store.dispatch(a.resetItem()),this.store.dispatch(a.resetFormModel()),this.store.dispatch(a.loadFormModel()),this.errors$.subscribe(i=>{null!==i&&(this.error=i)})}addUtilisateur(i){this.store.dispatch(a.createItem({item:i}))}resetBackendError(i){console.log(i),this.store.dispatch(a.resetErrorField({fieldName:i}))}returnToList(){this.router.navigateByUrl("administration/utilisateur")}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.yh),t.Y36(C.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-utilisateur-add"]],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Profils et utilisateurs","pathLevelTwo","Comptes utilisateurs","pathLevelThree","Ajouter"],[4,"ngIf"],[3,"utilisateur","formModel","errors","formSubmitted","fieldReset","returnToList"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,wt,2,3,"ng-container",2),t.ALo(3,"async")),2&o&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,l.formModel$)))},dependencies:[_.O5,$.V,Q.f,_.Ov],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})();var Xt=r(7394);function qt(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"app-utilisateur-form",4),t.NdJ("formSubmitted",function(l){t.CHM(i);const h=t.oxw(2);return t.KtG(h.editUtilisateur(l))})("returnToList",function(){t.CHM(i);const l=t.oxw(2);return t.KtG(l.returnToList())})("fieldReset",function(l){t.CHM(i);const h=t.oxw(2);return t.KtG(h.resetBackendError(l))}),t.qZA()}if(2&e){const i=n.ngIf,o=t.oxw().ngIf,l=t.oxw();t.Q6J("utilisateur",i)("formModel",o)("errors",l.error)("action",l.action)}}function te(e,n){if(1&e&&(t.ynx(0),t.YNc(1,qt,1,4,"app-utilisateur-form",3),t.ALo(2,"async"),t.BQk()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.utilisateur$))}}let ee=(()=>{class e{constructor(i,o,l){this.store=i,this.route=o,this.router=l,this.formModel$=this.store.select(z),this.utilisateur$=this.store.select(_t),this.errors$=this.store.select(Y),this.error={},this.disabledButton="disabled",this.action="edit",this.subscription=new Xt.w0}ngOnInit(){this.store.dispatch(a.resetFormModel()),this.subscription=this.route.params.subscribe(i=>{this.id=i.id,this.id&&this.store.dispatch(a.loadItem({id:this.id}))}),this.store.dispatch(a.resetItem()),this.store.dispatch(a.loadFormModel()),this.errors$.subscribe(i=>{null!==i&&(this.error=i)}),this.utilisateur$.subscribe(i=>{console.log(i)})}ngOnDestroy(){this.subscription.unsubscribe()}editUtilisateur(i){const o={id:this.id,email:i.email,firstName:i.firstName,lastName:i.lastName,userName:i.userName,notificationParEmail:i.notificationParEmail,notificationParSms:i.notificationParSms,telephone:i.telephone,expirationDelay:i.expirationDelay,alertDelay:i.alertDelay,attempsNumber:i.attempsNumber,locked:i.locked,role:i.role};console.log(o),this.store.dispatch(a.updateItem({id:this.id,item:o}))}resetBackendError(i){console.log(i),this.store.dispatch(a.resetErrorField({fieldName:i}))}returnToList(){this.router.navigateByUrl("administration/utilisateur")}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.yh),t.Y36(C.gz),t.Y36(C.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-utilisateur-edit"]],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Profils et utilisateurs","pathLevelTwo","Comptes utilisateurs","pathLevelThree","Editer"],[4,"ngIf"],[3,"utilisateur","formModel","errors","action","formSubmitted","returnToList","fieldReset",4,"ngIf"],[3,"utilisateur","formModel","errors","action","formSubmitted","returnToList","fieldReset"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,te,3,3,"ng-container",2),t.ALo(3,"async")),2&o&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,l.formModel$)))},dependencies:[_.O5,$.V,Q.f,_.Ov],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})();var ie=r(9207),p=r(6465),x=r(6328),se=r(9026),O=r(9397),J=r(6306),M=r(2096),oe=r(1631),B=r(9862),W=r(8504),f=r(6063),re=r(2460),ne=r(3186),ae=r(4664),le=r(9989),ce=r(1946);let j=(()=>{class e extends le.v{getResourceBasePath(){return`${ce.y}/user`}getIdValue(i){return i.id}static#t=this.\u0275fac=function(){let i;return function(l){return(i||(i=t.n5z(e)))(l||e)}}();static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var ue=r(6366);let pe=(()=>{class e{constructor(i,o,l,h,F,N){this.utilisateurService=i,this.authService=o,this.actions$=l,this.router=h,this.modalService=F,this.store=N,this.loadItems$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.loadItems),(0,re.M)(this.store.select(H),this.store.select(G),this.store.select(ht)),(0,x.b)(([m,c,y,D])=>(console.log(c),this.store.dispatch((0,f.Q)()),(0,se.$)(this.utilisateurService.getAllWithPagination(c,y,D),this.utilisateurService.count(D)).pipe((0,g.U)(([E,he])=>(this.store.dispatch((0,f.Z)()),a.loadItemsSuccess({items:E,totalElement:he}))))))),{dispatch:!0}),this.createItem$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.createItem),(0,x.b)(m=>(this.store.dispatch((0,f.Q)()),this.utilisateurService.add(m.item).pipe((0,O.b)(()=>{this.store.dispatch((0,f.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Utilisateur ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("administration/utilisateur")}),(0,g.U)(c=>a.createItemSuccess({item:c})),(0,J.K)(c=>c instanceof B.UA&&422===c.status?(this.store.dispatch((0,f.Z)()),(0,M.of)(a.setError({errors:c.error}))):(this.store.dispatch((0,f.Z)()),(0,W._)(()=>c))))))),{dispatch:!0}),this.loadItem$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.loadItem),(0,oe.z)(m=>this.utilisateurService.findById(m.id).pipe((0,g.U)(c=>a.loadItemSuccess({item:c}))))),{dispatch:!0}),this.deleteItem$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.deleteItem),(0,x.b)(m=>this.utilisateurService.delete(m.item.id,m.item)),(0,O.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Utilisateur supprim\xe9 avec succ\xe8s"})}),(0,g.U)(()=>a.loadItems())),{dispatch:!0}),this.updateItem$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.updateItem),(0,x.b)(m=>(this.store.dispatch((0,f.Q)()),this.utilisateurService.update(m.id,m.item).pipe((0,O.b)(()=>{this.store.dispatch((0,f.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Utilisateur modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("administration/utilisateur")}),(0,g.U)(c=>a.createItemSuccess({item:c})),(0,J.K)(c=>c instanceof B.UA&&422===c.status?(this.store.dispatch((0,f.Z)()),(0,M.of)(a.setError({errors:c.error}))):(this.store.dispatch((0,f.Z)()),(0,W._)(()=>c))))))),{dispatch:!0}),this.loadFormModel$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.loadFormModel),(0,x.b)(()=>this.utilisateurService.getFormModel()),(0,g.U)(m=>a.loadFormModelSuccess({formModel:m})))),this.resetSearch$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.resetSearch),(0,x.b)(()=>(0,M.of)(a.changePage({page:1}))))),this.search$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.search),(0,x.b)(()=>(0,M.of)(a.changePage({page:1}))))),this.changePage$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.changePage),(0,g.U)(m=>a.loadItems()))),this.changePageSize$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.changePageSize),(0,x.b)(()=>(0,M.of)(a.changePage({page:1}))))),this.handleError$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(a.setError),(0,ae.w)(m=>{if(this.store.dispatch((0,f.Q)()),m.errors instanceof B.UA){if(422===m.errors.status){let c="",y=0;for(const[D,E]of Object.entries(m.errors.error))c+=0===y?E:"\n"+E,y++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:c})}if(403===m.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===m.errors.status){let c="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,f.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:c}),(0,M.of)(ne.jM())}}return this.store.dispatch((0,f.Z)()),(0,M.of)({type:"noop"})})),{dispatch:!0})}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(j),t.LFG(ue.e),t.LFG(p.eX),t.LFG(C.F0),t.LFG(k.Z),t.LFG(s.yh))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var de=r(800);const me=[{path:"",component:jt,data:{routeModel:{module:"application",path:"user"}}},{path:"add",component:Vt,data:{routeModel:{module:"application",path:"user",name:"add"}}},{path:"edit/:id",component:ee,data:{routeModel:{module:"application",path:"user",name:"update"}}}];let _e=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({providers:[j],imports:[_.ez,ie.m,R.L,de.L,s.Aw.forFeature("utilisateurs",dt),p.sQ.forFeature(pe),C.Bz.forChild(me)]})}return e})()},4849:(K,U,r)=>{r.d(U,{n:()=>d});var _=r(1892),C=r(6814),S=r(8666),g=r(2463),u=r(9468),s=r(166);let d=(()=>{class v{constructor(T,P){this.modalData=T,this.modalRef=P}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#t=this.\u0275fac=function(P){return new(P||v)(u.Y36(_.S),u.Y36(_.R))};static#e=this.\u0275cmp=u.Xpm({type:v,selectors:[["app-confirm-alert"]],standalone:!0,features:[u.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(P,A){1&P&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),u._uU(3,"Confirmation de Suppression"),u.qZA()()(),u.TgZ(4,"div",3)(5,"div",4)(6,"div",5),u._UZ(7,"img",6),u.qZA(),u.TgZ(8,"div",7),u._uU(9," Voulez-vous vraiment effectuer cette action ? "),u.qZA()(),u.TgZ(10,"div",8)(11,"app-custom-button",9),u.NdJ("buttonClicked",function(){return A.confirmAction()}),u.qZA(),u.TgZ(12,"app-custom-button",10),u.NdJ("buttonClicked",function(){return A.close()}),u.qZA()()())},dependencies:[C.ez,S.a,g.v,s.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return v})()},3849:(K,U,r)=>{r.d(U,{L:()=>u});var _=r(9468),C=r(2463),S=r(6814),g=r(166);let u=(()=>{class s{constructor(){this.printButtonClicked=new _.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#t=this.\u0275fac=function(I){return new(I||s)};static#e=this.\u0275cmp=_.Xpm({type:s,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[_.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(I,T){1&I&&(_.TgZ(0,"app-custom-button",0),_.NdJ("buttonClicked",function(){return T.emitPrintButtonClicked()}),_.qZA())},dependencies:[S.ez,C.v,g.x],styles:["[_nghost-%COMP%]{display:block}"]})}return s})()}}]);