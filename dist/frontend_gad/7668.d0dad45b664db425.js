"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[7668],{8819:(b,_,i)=>{i.d(_,{F:()=>p});var e=i(9468);let p=(()=>{class t{constructor(){this.disabled=!1,this.buttonClicked=new e.vpe}emitButtonClicked(){this.buttonClicked.emit()}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-cancel-button"]],inputs:{title:"title",url:"url",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(n,a){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return a.emitButtonClicked()}),e._uU(1),e.qZA()),2&n&&(e.Gre("cancel-button ",a.otherclass,""),e.Q6J("disabled",a.disabled),e.xp6(1),e.hij(" ",a.title,"\n"))},styles:[".cancel-button[_ngcontent-%COMP%]{color:#000;border:1px solid #6d7582;background-color:#fff;min-width:120px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:25px;padding:.75rem 0rem;border-radius:3px}"]})}return t})()},8145:(b,_,i)=>{i.d(_,{K:()=>O});var e=i(9468),p=i(8764),t=i(2188),s=i(95),u=i(590),n=i(7394),a=i(5153),c=i(3997),d=i(797),r=i(6814),l=i(7491),g=i(5597);const C=["modalTemplate"];function x(f,E){if(1&f&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&f){const o=E.$implicit;e.Q6J("ngValue",o.key),e.xp6(1),e.Oqu(o.value)}}function M(f,E){if(1&f){const o=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h2"),e._uU(3),e.qZA()(),e.TgZ(4,"div",7),e.NdJ("click",function(){e.CHM(o);const m=e.oxw();return e.KtG(m.closeModal())}),e._UZ(5,"fa-icon",8),e.qZA()(),e.TgZ(6,"div",9)(7,"div",10)(8,"app-panel",11)(9,"div",12)(10,"div"),e._UZ(11,"input",13),e.qZA(),e.TgZ(12,"div",14)(13,"select",15),e.YNc(14,x,2,2,"option",16),e.ALo(15,"keyvalue"),e.qZA()()()()(),e.TgZ(16,"div",17)(17,"app-panel",18),e.GkF(18,19),e.qZA()()(),e.TgZ(19,"div",20)(20,"div")(21,"button",21),e.NdJ("click",function(){e.CHM(o);const m=e.oxw();return e.KtG(m.closeModal())}),e._uU(22,"Aucun"),e.qZA()(),e.TgZ(23,"div",22)(24,"button",23),e.NdJ("click",function(){e.CHM(o);const m=e.oxw();return e.KtG(m.setValue())}),e._uU(25,"S\xe9lectionner"),e.qZA(),e.TgZ(26,"button",24),e.NdJ("click",function(){e.CHM(o);const m=e.oxw();return e.KtG(m.closeModal())}),e._uU(27,"Annuler"),e.qZA()()()}if(2&f){const o=e.oxw();e.xp6(3),e.hij(" ",o.title," "),e.xp6(2),e.Q6J("icon",o.closeIcon),e.xp6(6),e.Q6J("formControl",o.searchControl),e.xp6(2),e.Q6J("formControl",o.criteriaControl),e.xp6(1),e.Q6J("ngForOf",e.lcZ(15,7,o.getCriterias())),e.xp6(4),e.Q6J("ngTemplateOutlet",o.itemSelectionTemplate.templateRef),e.xp6(6),e.Q6J("disabled",null===o.selectedItem)}}let O=(()=>{class f{registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}writeValue(o){this.value=o,this.itemSelectionService.selectItem(this.value)}setDisabledState(o){this.disabled=o}constructor(o,h){this.modalService=o,this.itemSelectionService=h,this.placeholder="S\xe9lectionnez un \xe9l\xe9ment",this.test="",this.items=[],this.headers=[],this.title="S\xe9lectionnez un \xe9l\xe9ment",this.disabledButton="",this.otherclass="",this.selectedItem=null,this.value=null,this.searchControl=new s.NI("",{nonNullable:!0}),this.criteriaControl=new s.NI("",{nonNullable:!0}),this.closeIcon=u.YIN,this.subscription=new n.w0,this.disabled=!1,this.onChange=m=>{},this.onTouched=()=>{}}ngOnInit(){const o=this.criteriaControl.valueChanges.subscribe(m=>{this.performFilter()}),h=this.searchControl.valueChanges.pipe((0,a.b)(500),(0,c.x)()).subscribe(m=>{this.performFilter()});this.subscription.add(o),this.subscription.add(h),this.itemSelectionService.setItems(this.items),this.itemSelectionService.setHeaders(this.headers),this.itemSelectionService.selectedItem$.subscribe(m=>{this.selectedItem=m}),""!==this.test&&(this.placeholder=this.test,this.disabled=!0,this.disabledButton="true")}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterViewInit(){}openModal(){this.itemSelectionService.selectItem(null),this.modalService.open(this.modalTemplate,{size:"lg"}).subscribe(o=>{console.log("ModalAction",o)})}closeModal(){this.modalService.close()}setValue(){this.value=this.selectedItem,this.onChange(this.value),this.closeModal()}getDescription(){return null!==this.value?this.itemDescription?this.itemDescription(this.value):"01 \xe9l\xe9ment s\xe9lectionn\xe9":""}performFilter(){this.itemSelectionService.filterItems(this.searchControl.value,this.criteriaControl.value)}getCriterias(){return this.criterias?this.criterias:{}}static#e=this.\u0275fac=function(h){return new(h||f)(e.Y36(d.Z),e.Y36(t.n))};static#t=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-item-selection"]],contentQueries:function(h,m,v){if(1&h&&e.Suo(v,p.T,5),2&h){let D;e.iGM(D=e.CRH())&&(m.itemSelectionTemplate=D.first)}},viewQuery:function(h,m){if(1&h&&e.Gf(C,5),2&h){let v;e.iGM(v=e.CRH())&&(m.modalTemplate=v.first)}},inputs:{test:"test",items:"items",headers:"headers",criterias:"criterias",title:"title",disabledButton:"disabledButton",itemDescription:"itemDescription",otherclass:"otherclass"},features:[e._Bn([t.n,{provide:s.JU,useExisting:(0,e.Gpc)(()=>f),multi:!0}])],decls:6,vars:6,consts:[[1,"item-selection"],["type","text","disabled","",3,"placeholder","value"],[1,"item-selection-button",3,"disabled","click"],[1,"fa","fa-ellipsis-h"],["modalTemplate",""],[1,"item-selection-header"],[1,"item-selection-header-title"],[1,"close-icon",3,"click"],[3,"icon"],[1,"item-selection-content"],[1,"search-panel"],["title","Recherche"],[1,"search-container"],["type","text","placeholder","Saisissez votre filtre de recherche",1,"search-text-field",3,"formControl"],[1,"select-container"],[3,"formControl"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"table-panel"],["title","Liste des \xe9l\xe9ments"],[3,"ngTemplateOutlet"],[1,"button-panel"],[1,"none-button","custom-hover",3,"click"],[1,"button-container"],[1,"confirm-button",3,"disabled","click"],[1,"cancel-button","custom-hover",3,"click"],[3,"ngValue"]],template:function(h,m){1&h&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return m.openModal()}),e._UZ(3,"span",3),e.qZA()(),e.YNc(4,M,28,9,"ng-template",null,4,e.W1O)),2&h&&(e.xp6(1),e.Gre("item-selection-text-field ",m.otherclass,""),e.Q6J("placeholder",m.placeholder)("value",m.getDescription()),e.xp6(1),e.s9C("disabled",m.disabledButton))},dependencies:[r.sg,r.tP,l.y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.oH,g.BN,r.Nd],styles:[".item-selection[_ngcontent-%COMP%]{display:flex;width:100%}.item-selection-text-field[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;flex-grow:1;height:25px!important;font-size:12px!important;border-bottom-left-radius:3px;border-top-left-radius:3px;margin-bottom:2px;background-color:#f0f4f5;margin-left:3px}.item-selection-button[_ngcontent-%COMP%]{border:1px solid #878787;height:22px;display:flex;align-items:center;justify-content:center;color:#000;border-bottom-right-radius:8px;border-top-right-radius:8px;border-left:0px;background-color:#fff}.item-selection-header[_ngcontent-%COMP%]{background-color:#11395d;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.item-selection-header-title[_ngcontent-%COMP%]{flex-grow:1}.item-selection-header-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0;margin:0;font-size:1rem;font-weight:400}.close-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.item-selection-content[_ngcontent-%COMP%]{padding:1rem}.search-panel[_ngcontent-%COMP%]{margin-bottom:1rem}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center}.search-text-field[_ngcontent-%COMP%]{display:block;min-width:250px;padding:.75rem;font-weight:400;line-height:1.5;color:#212529;background-color:#e7eff2;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;height:25px;font-size:.75rem!important;border-radius:10px!important;border:1px solid #9d9d9b;margin-bottom:2px}.search-text-field[_ngcontent-%COMP%]::placeholder{color:#b3b3b3!important}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-width:130px;font-size:.75rem;padding:0;margin-left:5px}select[_ngcontent-%COMP%]{width:100%;font-size:.75rem;border:1px solid #9d9d9b;border-radius:10px;height:26px;margin-bottom:2px;background-color:#e7eff2}option[_ngcontent-%COMP%]{font-size:.75rem}.button-panel[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem}.button-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:right;align-items:center;margin-top:1rem}.confirm-button[_ngcontent-%COMP%]:hover{background-color:#2da899;border:1px solid #2DA899}.confirm-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;border:1px solid #1EA860;background-color:#1ea860;color:#fff;padding:4px 10px;border-radius:5px;cursor:pointer;font-size:.85rem;font-weight:400}.cancel-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;background-color:#fff;padding:4px 10px;border:1px solid #9E9E9E;border-radius:5px;cursor:pointer;font-size:.85rem;font-weight:400;margin-left:.5rem}.none-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;background-color:#fff;padding:4px 10px;border:1px solid #9E9E9E;border-radius:5px;cursor:pointer;font-size:.85rem;font-weight:400}.item-selection-content[_ngcontent-%COMP%]   .table-panel[_ngcontent-%COMP%]{overflow-y:auto;max-height:275px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555;border-radius:10px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:0}"]})}return f})()},7152:(b,_,i)=>{i.d(_,{P:()=>t});var e=i(9468),p=i(1588);let t=(()=>{class s{constructor(n,a){this.elementRef=n,this.itemSelectionCellDefDirective=a,this.itemSelectionCellDefDirective.itemSelectionCellDefTemplateAttributeDirective=this,this.elementRef.nativeElement.setAttribute("style","\n    font-weight: normal;\n    padding: 4px 8px;\n    border: 1px solid #A4A4A4;\n    color: #3A434C;\n    text-align: center;\n    font-weight: 600;\n    ")}static#e=this.\u0275fac=function(a){return new(a||s)(e.Y36(e.SBq),e.Y36(p.o))};static#t=this.\u0275dir=e.lG2({type:s,selectors:[["","app-item-selection-cell-def-template",""]]})}return s})()},7435:(b,_,i)=>{i.d(_,{o:()=>p});var e=i(9468);let p=(()=>{class t{constructor(u,n){this.viewContainer=u,this.templateRef=n}createElement(u){this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:u})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:t,selectors:[["","appItemSelectionCellDefTemplate",""]]})}return t})()},1588:(b,_,i)=>{i.d(_,{o:()=>s});var e=i(7435),p=i(3227),t=i(9468);let s=(()=>{class u{constructor(){this.columnName=""}set column(a){this.columnName=a}ngAfterContentInit(){}static#e=this.\u0275fac=function(c){return new(c||u)};static#t=this.\u0275dir=t.lG2({type:u,selectors:[["","appItemSelectionCellDef",""]],contentQueries:function(c,d,r){if(1&c&&(t.Suo(r,e.o,5),t.Suo(r,p.F,5)),2&c){let l;t.iGM(l=t.CRH())&&(d.itemSelectionCellDefTemplate=l.first),t.iGM(l=t.CRH())&&(d.itemSelectionHeaderDefTemplate=l.first)}},inputs:{column:["appItemSelectionCellDef","column"]}})}return u})()},3846:(b,_,i)=>{i.d(_,{e:()=>t});var e=i(9468),p=i(1588);let t=(()=>{class s{constructor(n,a){this.elementRef=n,this.itemSelectionCellDefDirective=a,this.itemSelectionCellDefDirective.headerDefTemplateElementRef=n,this.elementRef.nativeElement.setAttribute("style","\n    font-weight: normal;\n    padding-top: 4px;\n    padding-bottom: 4px;\n    border: 1px solid #A4A4A4;\n    background-color: #3A434C;\n    color: #fff;\n    font-weight: 600;\n    ")}static#e=this.\u0275fac=function(a){return new(a||s)(e.Y36(e.SBq),e.Y36(p.o))};static#t=this.\u0275dir=e.lG2({type:s,selectors:[["","app-item-selection-header-def-template",""]]})}return s})()},3227:(b,_,i)=>{i.d(_,{F:()=>p});var e=i(9468);let p=(()=>{class t{constructor(u,n){this.viewContainer=u,this.templateRef=n}createElement(){this.viewContainer.clear(),this.viewContainer.createEmbeddedView(this.templateRef)}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:t,selectors:[["","appItemSelectionHeaderDefTemplate",""]]})}return t})()},8795:(b,_,i)=>{i.d(_,{k:()=>u});var e=i(1588),p=i(7394),t=i(9468),s=i(2188);let u=(()=>{class n{constructor(c,d,r,l){this.elementRef=c,this.cd=d,this.itemSelectionService=r,this.renderer=l,this.headers=[],this.items=[],this.isInit=!1,this.selectedItem=null,this.subscription=new p.w0,this.elementRef.nativeElement.setAttribute("style","\n      width: 100%;\n      font-size: 13px;\n      border-collapse: collapse;\n      border: 1px solid #868686;\n    ")}ngOnChanges(c){this.isInit&&(this.table=this.elementRef.nativeElement,this.table&&this.buildBody())}ngAfterViewInit(){if(this.table=this.elementRef.nativeElement,this.table){const c=this.itemSelectionService.headers$.subscribe(l=>{this.headers=l,this.buildHeader()}),d=this.itemSelectionService.filteredItems$.subscribe(l=>{this.items=l,this.buildBody()}),r=this.itemSelectionService.selectedItem$.subscribe(l=>{this.selectedItem=l,this.buildBody()});this.subscription.add(c),this.subscription.add(d),this.subscription.add(r)}}ngOnDestroy(){this.subscription.unsubscribe()}initTable(){}buildBody(){if(this.table){this.tbody&&this.table.removeChild(this.tbody),this.tbody=this.table.createTBody();let c=0;this.items.forEach(d=>{if(this.tbody){const r=this.tbody.insertRow(),l=d===this.selectedItem;l&&this.renderer.setStyle(r,"background-color","#F0F4F5"),this.renderer.listen(r,"click",()=>{this.itemSelectionService.selectItem(d)}),this.renderer.listen(r,"mouseover",()=>{this.renderer.setStyle(r,"background-color","#F0F4F5")}),this.renderer.listen(r,"mouseout",()=>{l||this.renderer.setStyle(r,"background-color","#fff")}),this.headers.forEach(g=>{this.cellDefs.forEach(C=>{C.columnName===g&&(c++,C.itemSelectionCellDefTemplate.createElement(d),C.itemSelectionCellDefTemplateAttributeDirective.elementRef.nativeElement&&r.appendChild(C.itemSelectionCellDefTemplateAttributeDirective.elementRef.nativeElement))})})}})}}buildHeader(){if(this.table){const d=this.table.createTHead().insertRow();this.headers.forEach(r=>{this.cellDefs.forEach(l=>{l.columnName===r&&l.itemSelectionHeaderDefTemplate&&(l.itemSelectionHeaderDefTemplate.createElement(),l.headerDefTemplateElementRef.nativeElement&&d.appendChild(l.headerDefTemplateElementRef.nativeElement))})})}}static#e=this.\u0275fac=function(d){return new(d||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(s.n),t.Y36(t.Qsj))};static#t=this.\u0275dir=t.lG2({type:n,selectors:[["","app-item-selection-template-attribute",""]],contentQueries:function(d,r,l){if(1&d&&t.Suo(l,e.o,4),2&d){let g;t.iGM(g=t.CRH())&&(r.cellDefs=g)}},features:[t.TTD]})}return n})()},8764:(b,_,i)=>{i.d(_,{T:()=>p});var e=i(9468);let p=(()=>{class t{constructor(u,n){this.templateRef=u,this.cd=n}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(e.Rgc),e.Y36(e.sBO))};static#t=this.\u0275dir=e.lG2({type:t,selectors:[["","appItemSelectionTemplate",""]]})}return t})()},2188:(b,_,i)=>{i.d(_,{n:()=>t});var e=i(5619),p=i(9468);let t=(()=>{class s{constructor(){this.items=[],this.filteredItems=new e.X(this.items),this.selectedItem=new e.X(null),this.headers=new e.X([]),this.filteredItems$=this.filteredItems.asObservable(),this.headers$=this.headers.asObservable(),this.selectedItem$=this.selectedItem.asObservable()}setItems(n){this.items=n,this.filteredItems.next(n)}setHeaders(n){this.headers.next(n)}selectItem(n){this.selectedItem.next(n)}filterItems(n,a){const c=this.items.filter(d=>{for(const r in d){const l=d[r];if(r===a&&"string"==typeof l)return l.includes(n)}return!1});this.filteredItems.next(c)}static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac})}return s})()}}]);