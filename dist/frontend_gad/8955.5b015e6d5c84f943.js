(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[8955],{8955:(P,F,n)=>{"use strict";n.r(F),n.d(F,{FournisseurModule:()=>fe});var t=n(9468),l=n(95);let _=(()=>{class e{constructor(){}createForm(r){return new l.cw({refFournisseur:new l.NI(r.refFournisseur,{nonNullable:!0,validators:[l.kI.required]}),nom:new l.NI(r.nom,{nonNullable:!0,validators:[l.kI.required]}),prenom:new l.NI(r.prenom),typeFournisseur:new l.NI(r.typeFournisseur,{nonNullable:!0,validators:[l.kI.required]}),utilisateurModification:new l.NI(r.utilisateurModification),utilisateurCreation:new l.NI(r.utilisateurCreation),dateCreation:new l.NI(r.dateCreation),dateDerniereModification:new l.NI(r.dateDerniereModification)})}createSearchForm(){return new l.cw({refFournisseur:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),nom:new l.NI("",{nonNullable:!0,validators:[l.kI.required]})})}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var x=n(2572),u=n(7398),o=n(676);const i="Fournisseur",g=(0,o.PH)(`[${i} API] Load All`),E=(0,o.PH)(`[${i} API] Load All Success`,(0,o.Ky)()),a=(0,o.PH)(`[${i} API] Create`,(0,o.Ky)()),f=(0,o.PH)(`[${i} API] Create Success`,(0,o.Ky)()),h=(0,o.PH)(`[${i} API] Load`,(0,o.Ky)()),m=(0,o.PH)(`[${i} API] Load Success`,(0,o.Ky)()),v=(0,o.PH)(`[${i} API] Create Error`,(0,o.Ky)()),Z=(0,o.PH)(`[${i} API] Reset Error`),A=(0,o.PH)(`[${i} API] Reset Error Field`,(0,o.Ky)()),S=(0,o.PH)(`[${i} API] Reset`),$=(0,o.PH)(`[${i} API] Delete`,(0,o.Ky)()),R=(0,o.PH)(`[${i} API] Delete Success`,(0,o.Ky)()),c={loadItems:g,loadItemsSuccess:E,resetItem:S,createItem:a,createItemSuccess:f,loadItem:h,loadItemSuccess:m,updateItem:(0,o.PH)(`[${i} API] Update`,(0,o.Ky)()),updateItemSuccess:(0,o.PH)(`[${i} API] Update Success`,(0,o.Ky)()),deleteItem:$,deleteItemSuccess:R,setError:v,resetError:Z,resetErrorField:A,loadFormModel:(0,o.PH)(`[${i} API] Load Form Model`),resetFormModel:(0,o.PH)(`[${i} API] Reset Form Model`),loadFormModelSuccess:(0,o.PH)(`[${i} API] Load Form Model Success`,(0,o.Ky)()),resetSearch:(0,o.PH)(`[${i} API] Reset Search`),search:(0,o.PH)(`[${i} API] Search`,(0,o.Ky)()),changePage:(0,o.PH)(`[${i} API] Change Page`,(0,o.Ky)()),changePageSize:(0,o.PH)(`[${i} API] Change Page Size`,(0,o.Ky)()),downloadFile:(0,o.PH)(`[${i} API] Download File`),downloadFileSuccess:(0,o.PH)(`[${i} API] Download File Success`)},_t=(0,o.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,o.on)(c.loadItemsSuccess,(e,p)=>(console.log(p.items),{...e,items:p.items,totalElement:p.totalElement})),(0,o.on)(c.resetItem,(e,p)=>({...e,currentItem:null})),(0,o.on)(c.createItemSuccess,(e,p)=>({...e})),(0,o.on)(c.deleteItemSuccess,(e,p)=>({...e})),(0,o.on)(c.loadItemSuccess,(e,p)=>({...e,currentItem:p.item})),(0,o.on)(c.updateItemSuccess,(e,p)=>({...e})),(0,o.on)(c.loadFormModel,(e,p)=>({...e,formModel:null})),(0,o.on)(c.loadFormModelSuccess,(e,p)=>({...e,formModel:p.formModel})),(0,o.on)(c.resetSearch,(e,p)=>({...e,searchModel:{}})),(0,o.on)(c.search,(e,p)=>({...e,searchModel:p.searchModel})),(0,o.on)(c.changePage,(e,p)=>({...e,page:p.page})),(0,o.on)(c.changePageSize,(e,p)=>({...e,pageSize:p.pageSize})),(0,o.on)(c.setError,(e,p)=>({...e,errors:p.errors})),(0,o.on)(c.resetError,(e,p)=>({...e,errors:null})),(0,o.on)(c.resetErrorField,(e,p)=>{let r={};return null!==e.errors&&Object.entries(e.errors).forEach(([s,d])=>{s!==p.fieldName&&(r[`${s}`]=d)}),{...e,errors:r}})),O=(0,o.ZF)("fournisseurs"),gt=(0,o.P1)(O,e=>e.items),Ct=(0,o.P1)(O,e=>e.currentItem),H=(0,o.P1)(O,e=>e.formModel),vt=(0,o.P1)(O,e=>e.searchModel),Y=(0,o.P1)(O,e=>e.page),j=(0,o.P1)(O,e=>e.pageSize),bt=(0,o.P1)(O,e=>e.totalElement),yt=(0,o.P1)(O,e=>e.errors);var Ft=n(4849),k=n(8281),z=n(797),X=n(3849),B=n(6814),xt=n(7251),Et=n(166),Mt=n(6327),Tt=n(8564),Pt=n(8223),Zt=n(602),It=n(1469),At=n(6326),V=n(8346),q=n(1171),tt=n(547),G=n(362);function St(e,p){1&e&&(t.TgZ(0,"th",34),t._uU(1,"R\xe9f\xe9rence"),t.qZA())}function Ot(e,p){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const r=p.$implicit;t.xp6(1),t.Oqu(r.refSys)}}function Dt(e,p){1&e&&(t.TgZ(0,"th",34),t._uU(1,"R\xe9f. Fournisseur"),t.qZA())}function Lt(e,p){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const r=p.$implicit;t.xp6(1),t.Oqu(r.refFournisseur)}}function Bt(e,p){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Noms"),t.qZA())}function Ut(e,p){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const r=p.$implicit;t.xp6(1),t.Oqu(r.nom)}}function wt(e,p){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Type Fournisseur"),t.qZA())}function Nt(e,p){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const r=p.$implicit;t.xp6(1),t.Oqu(r.typeFournisseur)}}function $t(e,p){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Date cr\xe9ation"),t.qZA())}function Rt(e,p){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const r=p.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,r.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function kt(e,p){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Date Derni\xe8re Modif"),t.qZA())}function Kt(e,p){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const r=p.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,r.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function Jt(e,p){if(1&e){const r=t.EpF();t.TgZ(0,"table",24),t.NdJ("itemSelected",function(d){t.CHM(r);const M=t.oxw(2);return t.KtG(M.itemSelected(d))}),t.ynx(1,25),t.YNc(2,St,2,0,"th",26),t.YNc(3,Ot,2,1,"td",27),t.BQk(),t.ynx(4,28),t.YNc(5,Dt,2,0,"th",26),t.YNc(6,Lt,2,1,"td",27),t.BQk(),t.ynx(7,29),t.YNc(8,Bt,2,0,"th",26),t.YNc(9,Ut,2,1,"td",27),t.BQk(),t.ynx(10,30),t.YNc(11,wt,2,0,"th",26),t.YNc(12,Nt,2,1,"td",27),t.BQk(),t.ynx(13,31),t.YNc(14,$t,2,0,"th",26),t.YNc(15,Rt,3,4,"td",32),t.BQk(),t.ynx(16,33),t.YNc(17,kt,2,0,"th",26),t.YNc(18,Kt,3,4,"td",32),t.BQk(),t.qZA()}if(2&e){const r=p.ngIf,s=t.oxw(2);t.Q6J("items",r)("headers",s.headerTable)("selectable",!0)}}function Ht(e,p){if(1&e){const r=t.EpF();t.TgZ(0,"app-crud-list",3),t.NdJ("searchButtonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.searchButtonClicked())})("refreshButtonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.refreshButtonClicked())})("pageSelected",function(d){t.CHM(r);const M=t.oxw();return t.KtG(M.pageSelected(d))})("pageSizeChange",function(d){t.CHM(r);const M=t.oxw();return t.KtG(M.pageSizeChange(d))})("closeButtonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.closeButtonClicked())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._UZ(4,"app-form-label",7),t.qZA(),t.TgZ(5,"div",8),t._UZ(6,"app-custom-textfield",9),t.qZA()()(),t.TgZ(7,"div",10)(8,"div",11)(9,"div",6),t._UZ(10,"app-form-label",12),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-custom-textfield",13),t.qZA()()(),t.TgZ(13,"div",14)(14,"app-custom-button",15),t.NdJ("buttonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.addButtonClicked())}),t.qZA(),t.TgZ(15,"app-custom-button",16),t.NdJ("buttonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.editButtonClicked())}),t.qZA(),t.TgZ(16,"app-custom-button",17),t.NdJ("buttonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.deleteButtonClicked())}),t.qZA()(),t.TgZ(17,"div",18),t._UZ(18,"app-custom-button",19)(19,"app-custom-button",20),t.TgZ(20,"app-print-button",21),t.NdJ("printButtonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.printButtonClicked())}),t.qZA()(),t.TgZ(21,"div",22),t.YNc(22,Jt,19,3,"table",23),t.ALo(23,"async"),t.qZA()()}if(2&e){const r=p.ngIf,s=t.oxw();t.Q6J("itemSelected",s.isItemSelected())("pageSize",r.pageSize)("currentPage",r.page)("totalElements",r.totalElement),t.xp6(1),t.Q6J("formGroup",s.searchForm),t.xp6(6),t.Q6J("formGroup",s.searchForm),t.xp6(8),t.Q6J("disabled",!s.isItemSelected()),t.xp6(1),t.Q6J("disabled",!s.isItemSelected()),t.xp6(6),t.Q6J("ngIf",t.lcZ(23,9,s.items$))}}let zt=(()=>{class e{constructor(r,s,d,M,J){this.router=r,this.modalService=s,this.store=d,this.fournisseurFormService=M,this.headerTable=["R\xe9f\xe9rence","R\xe9f. Fournisseur","Noms","Type Fournisseur","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(gt),this.page$=this.store.select(Y),this.pageSize$=this.store.select(j),this.totalElement$=this.store.select(bt),this.data$=(0,x.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,u.U)(([Q,y,C])=>({page:Q,pageSize:y,totalElement:C}))),this.selectedItem=null,this.dateTest=new Date}ngOnInit(){this.searchForm=this.fournisseurFormService.createSearchForm(),this.store.dispatch(c.loadItems())}addButtonClicked(){this.router.navigate(["parc-informatique","fournisseur","add"])}editButtonClicked(){const r=this.selectedItem?.id;r&&(this.store.dispatch(c.resetItem()),this.router.navigate(["parc-informatique","fournisseur","edit",r]))}deleteButtonClicked(){const r=this.selectedItem;r&&this.modalService.openComponent(Ft.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(s=>{s&&"yes"===s&&this.store.dispatch(c.deleteItem({item:r}))})}itemSelected(r){this.selectedItem=r}pageSelected(r){this.store.dispatch(c.changePage({page:r}))}pageSizeChange(r){this.store.dispatch(c.changePageSize({pageSize:r}))}closeButtonClicked(){this.router.navigate(["parc-informatique"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(c.resetSearch())}searchButtonClicked(){this.store.dispatch(c.search({searchModel:this.searchForm.value}))}printButtonClicked(){this.store.dispatch(c.downloadFile())}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(k.F0),t.Y36(z.Z),t.Y36(o.yh),t.Y36(_),t.Y36(t.soG))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-fournisseur-list"]],features:[t._Bn([_,{provide:t.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Fournisseur","pathLevelThree","Liste"],["title","Liste des Fournisseurs",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Fournisseurs",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search-1"],["title","R\xe9f\xe9rence"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","refFournisseur"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Nom Fournisseur"],["placeholder","","otherclass","item-input","formControlName","nom"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Importer","url","import.svg"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","R\xe9f. Fournisseur"],["appCellDef","Noms"],["appCellDef","Type Fournisseur"],["appCellDef","Date Cr\xe9ation"],["app-cell-def-template","",4,"appCellDefTemplate"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-cell-def-template",""]],template:function(s,d){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,Ht,24,11,"app-crud-list",2),t.ALo(3,"async")),2&s&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,d.data$)))},dependencies:[X.L,B.O5,l.JJ,l.JL,l.sg,l.u,xt._,Et.x,Mt.N,Tt.D,Pt.h,Zt.u,It.O,At.q,V.W,q.h,tt.Z,G.V,B.Ov,B.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return e})();var et=n(7394),Gt=n(8819),Wt=n(9543),Qt=n(7426),Yt=n(9887);function jt(e,p){if(1&e&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&e){const r=p.$implicit;t.Q6J("ngValue",r),t.xp6(1),t.hij("",r," ")}}function Xt(e,p){if(1&e){const r=t.EpF();t.TgZ(0,"div",6),t._UZ(1,"app-form-label",31),t.TgZ(2,"div",8)(3,"app-field-error-wrapper",22),t.NdJ("resetField",function(d){t.CHM(r);const M=t.oxw(2);return t.KtG(M.resetBackendError(d))}),t._UZ(4,"app-custom-textfield",32),t.qZA()()()}if(2&e){const r=t.oxw(2);t.xp6(3),t.Q6J("errors",r.errors)}}function Vt(e,p){if(1&e){const r=t.EpF();t.TgZ(0,"form",2)(1,"div",3)(2,"app-panel-custom",4)(3,"div",5)(4,"div",6),t._UZ(5,"app-form-label",7),t.TgZ(6,"div",8),t._UZ(7,"app-custom-textfield",9),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"app-form-label",10),t.TgZ(10,"div",8),t._UZ(11,"app-custom-textfield",11),t.qZA()()(),t.TgZ(12,"div",5)(13,"div",6),t._UZ(14,"app-form-label",12),t.TgZ(15,"div",8),t._UZ(16,"app-custom-textfield",13),t.qZA()(),t.TgZ(17,"div",6),t._UZ(18,"app-form-label",14),t.TgZ(19,"div",8),t._UZ(20,"app-custom-textfield",15),t.qZA()()()(),t.TgZ(21,"app-panel-custom",16)(22,"div",5)(23,"div",6),t._UZ(24,"app-form-label",17),t.TgZ(25,"app-field-error-wrapper",18),t.NdJ("resetField",function(d){t.CHM(r);const M=t.oxw();return t.KtG(M.resetBackendError(d))}),t.TgZ(26,"div",8)(27,"select",19),t.YNc(28,jt,2,2,"option",20),t.qZA()()()(),t.TgZ(29,"div",6),t._UZ(30,"app-form-label",21),t.TgZ(31,"div",8)(32,"app-field-error-wrapper",22),t.NdJ("resetField",function(d){t.CHM(r);const M=t.oxw();return t.KtG(M.resetBackendError(d))}),t._UZ(33,"app-custom-textfield",23),t.qZA()()()(),t.TgZ(34,"div",5)(35,"div",6),t._UZ(36,"app-form-label",24),t.TgZ(37,"div",8),t._UZ(38,"app-custom-textfield",25),t.qZA()(),t.YNc(39,Xt,5,1,"div",26),t.qZA()(),t.TgZ(40,"div",27)(41,"app-primary-button",28),t.NdJ("buttonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.submitForm())}),t.qZA(),t.TgZ(42,"app-cancel-button",29),t.NdJ("buttonClicked",function(){t.CHM(r);const d=t.oxw();return t.KtG(d.returnToList())}),t.qZA()()()()}if(2&e){const r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(7),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("errors",r.errors),t.xp6(3),t.Q6J("ngForOf",r.typeFournisseur),t.xp6(4),t.Q6J("errors",r.errors),t.xp6(7),t.Q6J("ngIf",!r.isEntreprise())}}let rt=(()=>{class e{constructor(r,s,d,M){this.formService=r,this.modalService=s,this.router=d,this.store=M,this.typeFournisseur=["ENTREPRISE","PARTICULIER"],this.errors=null,this.formSubmitted=new t.vpe,this.subscription=new et.w0}ngOnInit(){this.store.select(yt).subscribe(r=>{this.errors=r}),this.store.dispatch(c.resetError()),this.subscription=this.store.select(H).subscribe(r=>{r&&(this.formModel={...this.formModel,...r},this.form=this.formService.createForm(this.fournisseur))}),this.form=this.formService.createForm(this.fournisseur)}ngOnDestroy(){this.subscription.unsubscribe()}submitForm(){this.formSubmitted.emit(this.form.value)}isEntreprise(){return"ENTREPRISE"===this.form.get("typeFournisseur")?.value}returnToList(){this.router.navigateByUrl("parc-informatique/fournisseur")}resetBackendError(r){this.store.dispatch(c.resetErrorField({fieldName:r}))}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(_),t.Y36(z.Z),t.Y36(k.F0),t.Y36(o.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-fournisseur-form"]],inputs:{fournisseur:"fournisseur"},outputs:{formSubmitted:"formSubmitted"},features:[t._Bn([_])],decls:2,vars:1,consts:[["id","main",1,"pe-3","ps-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-4"],["title","Date Cr\xe9ation",1,"col-5","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],["title","Cr\xe9\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"col-5","text-end"],["otherclass","custom-style-form","formControlName","dateDerniereModification","placeholder","",3,"readonly"],["title","Modifi\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","title","Informations g\xe9n\xe9rales"],["title","Type Fournisseur",1,"mr-1","col-5","text-end"],[1,"col",3,"errors","resetField"],["formControlName","typeFournisseur",1,"form-select-sm","col-12","custom-style-select"],[3,"ngValue",4,"ngFor","ngForOf"],["title","R\xe9f\xe9rence",1,"col-5","text-end"],[3,"errors","resetField"],["otherclass","custom-style-form","placeholder","","formControlName","refFournisseur"],["title","Nom Fournisseur",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","nom"],["class","input-container col-4",4,"ngIf"],[1,"form-actions"],["title","Enregistrer",1,"me-1",3,"buttonClicked"],["title","Annuler","otherclass","custom-cancel-button",3,"buttonClicked"],[3,"ngValue"],["title","Pr\xe9nom Fournisseur",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","prenom"]],template:function(s,d){1&s&&(t.TgZ(0,"div",0),t.YNc(1,Vt,43,9,"form",1),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngIf",d.form))},dependencies:[B.sg,B.O5,l._Y,l.YN,l.Kr,l.EJ,l.JJ,l.JL,l.sg,l.u,Gt.F,V.W,q.h,Wt.C,tt.Z,Qt.p,Yt.l],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return e})(),qt=(()=>{class e{constructor(r){this.store=r,this.formModel$=this.store.select(H),this.fournisseur={id:"",refFournisseur:"",nom:"",prenom:"",typeFournisseur:"ENTREPRISE",dateDerniereModification:null,dateCreation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(c.resetItem()),this.store.dispatch(c.resetFormModel())}addFournisseur(r){const s={refFournisseur:r.refFournisseur,nom:r.nom,prenom:r.prenom,typeFournisseur:r.typeFournisseur};console.log(s),this.store.dispatch(c.createItem({item:s}))}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(o.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-fournisseur-add"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Fournisseur","pathLevelThree","Ajouter"],[3,"fournisseur","formSubmitted"]],template:function(s,d){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.TgZ(2,"app-fournisseur-form",2),t.NdJ("formSubmitted",function(J){return d.addFournisseur(J)}),t.qZA()),2&s&&(t.xp6(2),t.Q6J("fournisseur",d.fournisseur))},dependencies:[G.V,rt],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})();function te(e,p){if(1&e){const r=t.EpF();t.TgZ(0,"app-fournisseur-form",3),t.NdJ("formSubmitted",function(d){t.CHM(r);const M=t.oxw();return t.KtG(M.editFournisseur(d))}),t.qZA()}if(2&e){const r=t.oxw();t.Q6J("fournisseur",r.fournisseurDto)}}let ee=(()=>{class e{constructor(r,s){this.store=r,this.route=s,this.formModel$=this.store.select(H),this.fournisseur$=this.store.select(Ct),this.fournisseurDto=null,this.subscription=new et.w0}ngOnInit(){this.store.dispatch(c.resetFormModel()),this.subscription=this.route.params.subscribe(r=>{this.id=r.id,this.id&&this.store.dispatch(c.loadItem({id:this.id}))}),this.fournisseur$.subscribe(r=>{r&&(this.fournisseurDto={id:r.id,refFournisseur:r.refFournisseur,nom:r.nom,prenom:r.prenom,typeFournisseur:r.typeFournisseur,dateDerniereModification:null===r.dateDerniereModification?"":this.formatDate(r.dateDerniereModification),dateCreation:null===r.dateCreation?"":this.formatDate(r.dateCreation),utilisateurCreation:r.utilisateurCreation,utilisateurModification:r.utilisateurModification})})}formatDate(r){if(r){const s=new Date(r);return s.toLocaleDateString()+" \xe0 "+s.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}editFournisseur(r){this.store.dispatch(c.updateItem({id:this.id,item:{id:this.id,refFournisseur:r.refFournisseur,nom:r.nom,prenom:r.prenom,typeFournisseur:r.typeFournisseur}}))}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(o.yh),t.Y36(k.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-fournisseur-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Fournisseur","pathLevelThree","Editer"],[3,"fournisseur","formSubmitted",4,"ngIf"],[3,"fournisseur","formSubmitted"]],template:function(s,d){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,te,1,1,"app-fournisseur-form",2)),2&s&&(t.xp6(2),t.Q6J("ngIf",d.fournisseurDto))},dependencies:[B.O5,G.V,rt],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})();var b=n(6465),re=n(9207),oe=n(9989),ne=n(1946);let ot=(()=>{class e extends oe.v{getResourceBasePath(){return`${ne.y}/fournisseur`}getPrintAll(){return this.http.post(`${this.url}/${this.getResourceBasePath()}/print/all`,{},{observe:"response",responseType:"blob"})}static#t=this.\u0275fac=function(){let r;return function(d){return(r||(r=t.n5z(e)))(d||e)}}();static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var se=n(9862),T=n(6063),ie=n(2460),D=n(6328),ae=n(9026),U=n(6306),W=n(9397),nt=n(1631),I=n(2096),ce=n(3186),le=n(4664),ue=n(217),pe=n(6366);let de=(()=>{class e{constructor(r,s,d,M,J,Q){this.fournisseurService=r,this.authService=s,this.actions$=d,this.router=M,this.modalService=J,this.store=Q,this.loadItems$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.loadItems),(0,ie.M)(this.store.select(Y),this.store.select(j),this.store.select(vt)),(0,D.b)(([y,C,w,K])=>(console.log(C),this.store.dispatch((0,T.Q)()),(0,ae.$)(this.fournisseurService.getAllWithPagination(C,w,K),this.fournisseurService.count(K)).pipe((0,u.U)(([N,he])=>(this.store.dispatch((0,T.Z)()),c.loadItemsSuccess({items:N,totalElement:he}))),(0,U.K)(N=>(this.store.dispatch((0,T.Z)()),(0,I.of)(c.setError({errors:N})))))))),{dispatch:!0}),this.createItem$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.createItem),(0,D.b)(y=>(this.store.dispatch((0,T.Q)()),this.fournisseurService.add(y.item).pipe((0,W.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Fournisseur ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/fournisseur")}),(0,u.U)(C=>c.createItemSuccess({item:C})),(0,U.K)(C=>(this.store.dispatch((0,T.Z)()),(0,I.of)(c.setError({errors:C})))))))),{dispatch:!0}),this.loadItem$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.loadItem),(0,nt.z)(y=>this.fournisseurService.findById(y.id).pipe((0,u.U)(C=>c.loadItemSuccess({item:C})),(0,U.K)(C=>(this.store.dispatch((0,T.Z)()),(0,I.of)(c.setError({errors:C}))))))),{dispatch:!0}),this.deleteItem$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.deleteItem),(0,D.b)(y=>this.fournisseurService.delete(y.item.id,y.item)),(0,W.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Fournisseur supprim\xe9 avec succ\xe8s"})}),(0,u.U)(()=>c.loadItems()),(0,U.K)(y=>(this.store.dispatch((0,T.Z)()),(0,I.of)(c.setError({errors:y}))))),{dispatch:!0}),this.updateItem$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.updateItem),(0,D.b)(y=>(this.store.dispatch((0,T.Q)()),this.fournisseurService.update(y.id,y.item).pipe((0,W.b)(()=>{this.store.dispatch((0,T.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Fournisseur modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/fournisseur")}),(0,u.U)(C=>c.createItemSuccess({item:C})),(0,U.K)(C=>(this.store.dispatch((0,T.Z)()),(0,I.of)(c.setError({errors:C})))))))),{dispatch:!0}),this.downloadFile$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.downloadFile),(0,nt.z)(y=>(this.store.dispatch((0,T.Q)()),this.fournisseurService.getPrintAll().pipe((0,u.U)(C=>{console.log(C),this.store.dispatch((0,T.Z)());let w=C.headers.get("content-disposition")?.split(";")[1].split("=")[1];return(0,ue.saveAs)(C.body,w),c.loadItems()}),(0,U.K)(C=>(this.store.dispatch((0,T.Z)()),(0,I.of)(c.setError({errors:C})))))))),{dispatch:!0}),this.loadFormModel$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.loadFormModel),(0,D.b)(()=>this.fournisseurService.getFormModel()),(0,u.U)(y=>c.loadFormModelSuccess({formModel:y})),(0,U.K)(y=>(0,I.of)(c.setError({errors:y}))))),this.resetSearch$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.resetSearch),(0,D.b)(()=>(0,I.of)(c.changePage({page:1}))))),this.search$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.search),(0,D.b)(()=>(0,I.of)(c.changePage({page:1}))))),this.changePage$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.changePage),(0,u.U)(y=>c.loadItems()))),this.changePageSize$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.changePageSize),(0,D.b)(()=>(0,I.of)(c.changePage({page:1}))))),this.handleError$=(0,b.GW)(()=>this.actions$.pipe((0,b.l4)(c.setError),(0,le.w)(y=>{if(this.store.dispatch((0,T.Q)()),y.errors instanceof se.UA){if(422===y.errors.status){let C="",w=0;for(const[K,N]of Object.entries(y.errors.error))C+=0===w?N:"\n"+N,w++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:C})}if(403===y.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===y.errors.status){let C="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,T.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:C}),(0,I.of)(ce.jM())}}return this.store.dispatch((0,T.Z)()),(0,I.of)({type:"noop"})})),{dispatch:!0})}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(ot),t.LFG(pe.e),t.LFG(b.eX),t.LFG(k.F0),t.LFG(z.Z),t.LFG(o.yh))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();const me=[{path:"",component:zt,pathMatch:"prefix"},{path:"add",component:qt,pathMatch:"prefix"},{path:"edit/:id",component:ee,pathMatch:"prefix"}];let fe=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({providers:[ot],imports:[X.L,B.ez,o.Aw.forFeature("fournisseurs",_t),b.sQ.forFeature(de),re.m,k.Bz.forChild(me)]})}return e})()},8819:(P,F,n)=>{"use strict";n.d(F,{F:()=>l});var t=n(9468);let l=(()=>{class _{constructor(){this.disabled=!1,this.buttonClicked=new t.vpe}emitButtonClicked(){this.buttonClicked.emit()}static#t=this.\u0275fac=function(o){return new(o||_)};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-cancel-button"]],inputs:{title:"title",url:"url",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(o,i){1&o&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.emitButtonClicked()}),t._uU(1),t.qZA()),2&o&&(t.Gre("cancel-button ",i.otherclass,""),t.Q6J("disabled",i.disabled),t.xp6(1),t.hij(" ",i.title,"\n"))},styles:[".cancel-button[_ngcontent-%COMP%]{color:#000;border:1px solid #6d7582;background-color:#fff;min-width:120px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:25px;padding:.75rem 0rem;border-radius:3px}"]})}return _})()},4849:(P,F,n)=>{"use strict";n.d(F,{n:()=>i});var t=n(1892),l=n(6814),_=n(8666),x=n(2463),u=n(9468),o=n(166);let i=(()=>{class g{constructor(a,f){this.modalData=a,this.modalRef=f}close(){this.modalRef.close(void 0)}confirmAction(){this.modalRef.close("yes")}static#t=this.\u0275fac=function(f){return new(f||g)(u.Y36(t.S),u.Y36(t.R))};static#e=this.\u0275cmp=u.Xpm({type:g,selectors:[["app-confirm-alert"]],standalone:!0,features:[u.jDz],decls:13,vars:0,consts:[[1,"alert-header","mb-3"],[1,"alert-header-title"],[1,"mb-0"],[1,"pe-3","ps-3","pt-0"],[1,"d-flex","align-items-center","p-2"],[1,"me-3"],["src","assets/images/warning.svg","width","45px","alt",""],[1,"text"],[1,"form-actions"],["otherclass","custom-cancel-button color-warning","title","Oui",1,"me-1",3,"buttonClicked"],["otherclass","custom-cancel-button","title","Fermer",3,"buttonClicked"]],template:function(f,h){1&f&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),u._uU(3,"Confirmation de Suppression"),u.qZA()()(),u.TgZ(4,"div",3)(5,"div",4)(6,"div",5),u._UZ(7,"img",6),u.qZA(),u.TgZ(8,"div",7),u._uU(9," Voulez-vous vraiment effectuer cette action ? "),u.qZA()(),u.TgZ(10,"div",8)(11,"app-custom-button",9),u.NdJ("buttonClicked",function(){return h.confirmAction()}),u.qZA(),u.TgZ(12,"app-custom-button",10),u.NdJ("buttonClicked",function(){return h.close()}),u.qZA()()())},dependencies:[l.ez,_.a,x.v,o.x],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}.alert-header[_ngcontent-%COMP%]{background-color:#ed6f25;color:#fff;padding:.5rem 1rem;display:flex;align-items:center}.alert-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.close-icon[_ngcontent-%COMP%]{cursor:pointer}.alert-header-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}input[type=file][_ngcontent-%COMP%]{font-size:13px}.circle-content-error[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ed6f25;color:#ed6f25;width:70px;height:70px;display:flex;align-items:center;justify-content:center}.circle-content-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.text[_ngcontent-%COMP%]{font-size:14px!important}"]})}return g})()},8346:(P,F,n)=>{"use strict";n.d(F,{W:()=>x});var t=n(9468),l=n(95),_=n(7394);let x=(()=>{class u{constructor(){this.placeholder="",this.type="text",this.readonly=!1,this.otherclass="",this.subscription=new _.w0,this.disabled=!1,this.onTouched=()=>{},this.onChange=()=>{},this.control=new l.NI}writeValue(i){this.control.setValue(i)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i,i?this.control.disable():this.control.enable()}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(i=>{this.onChange(i)})}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(g){return new(g||u)};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-custom-textfield"]],inputs:{placeholder:"placeholder",type:"type",readonly:"readonly",otherclass:"otherclass"},features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>u),multi:!0}])],decls:1,vars:7,consts:[[3,"type","placeholder","formControl","readonly"]],template:function(g,E){1&g&&t._UZ(0,"input",0),2&g&&(t.Gre("custom-text-field m-0 form-control-sm ",E.otherclass,""),t.s9C("placeholder",E.placeholder),t.Q6J("type",E.type)("formControl",E.control)("readonly",E.readonly))},dependencies:[l.Fj,l.JJ,l.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;appearance:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid #878787!important;margin-bottom:2px}.form-control-sm[_ngcontent-%COMP%]{font-size:12px!important;border-radius:0;min-width:100%}.custom-text-field[_ngcontent-%COMP%]:focus{background-color:#f0f4f5;border:0px!important;outline:0}.custom-text-field[_ngcontent-%COMP%]:read-only:focus{outline:0!important;border:1px solid #878787!important}"]})}return u})()},1171:(P,F,n)=>{"use strict";n.d(F,{h:()=>l});var t=n(9468);let l=(()=>{class _{constructor(){this.title="",this.class=""}static#t=this.\u0275fac=function(o){return new(o||_)};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-form-label"]],inputs:{title:"title",class:"class"},decls:2,vars:4,template:function(o,i){1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o&&(t.Tol(i.class),t.xp6(1),t.Oqu(i.title))},styles:["label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#464445;margin-right:5px;min-width:100%;max-width:100%}"]})}return _})()},9887:(P,F,n)=>{"use strict";n.d(F,{l:()=>i});var t=n(9468),l=n(6814);function _(g,E){if(1&g&&(t.TgZ(0,"h5",3),t._UZ(1,"span"),t._uU(2),t.Hsn(3,1),t.qZA()),2&g){const a=t.oxw();t.xp6(1),t.Tol(a.icon),t.xp6(1),t.hij(" ",a.title," ")}}function x(g,E){1&g&&t._UZ(0,"hr",4)}const u=["*",[["",8,"button-head"]]],o=["*",".button-head"];let i=(()=>{class g{constructor(){this.title="",this.icon="",this.background="white",this.otherclass=""}static#t=this.\u0275fac=function(f){return new(f||g)};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-panel-custom"]],inputs:{title:"title",icon:"icon",background:"background",otherclass:"otherclass"},ngContentSelectors:o,decls:5,vars:6,consts:[["class","title-panel-custom mb-1",4,"ngIf"],["class","mt-0",4,"ngIf"],[1,"panel-custom-body"],[1,"title-panel-custom","mb-1"],[1,"mt-0"]],template:function(f,h){1&f&&(t.F$t(u),t.TgZ(0,"div"),t.YNc(1,_,4,4,"h5",0),t.YNc(2,x,1,0,"hr",1),t.TgZ(3,"div",2),t.Hsn(4),t.qZA()()),2&f&&(t.MT6("panel-custom ",h.background," ",h.otherclass,""),t.xp6(1),t.Q6J("ngIf",h.title),t.xp6(1),t.Q6J("ngIf",h.title))},dependencies:[l.O5],styles:[".panel-custom[_ngcontent-%COMP%]{border:1px solid #c7c5c6;padding:15px;margin-bottom:3px}.title-panel-custom[_ngcontent-%COMP%]{display:flex;align-items:center;color:#045a5e;font-size:15px;font-family:aileronbold}.title-panel-custom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#46ad7e;margin-right:5px}"]})}return g})()},9543:(P,F,n)=>{"use strict";n.d(F,{C:()=>l});var t=n(9468);let l=(()=>{class _{constructor(){this.otherclass="",this.disabled=!1,this.buttonClicked=new t.vpe}emitButtonClicked(u){u.preventDefault(),this.buttonClicked.emit()}static#t=this.\u0275fac=function(o){return new(o||_)};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-primary-button"]],inputs:{title:"title",otherclass:"otherclass",disabled:"disabled"},outputs:{buttonClicked:"buttonClicked"},decls:2,vars:5,consts:[[3,"disabled","click"]],template:function(o,i){1&o&&(t.TgZ(0,"button",0),t.NdJ("click",function(E){return i.emitButtonClicked(E)}),t._uU(1),t.qZA()),2&o&&(t.Gre("primary-button ",i.otherclass,""),t.Q6J("disabled",i.disabled),t.xp6(1),t.hij(" ",i.title,"\n"))},styles:[".primary-button[_ngcontent-%COMP%]{color:#fff;border:1px solid #1EA860;background-color:#1ea860;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:30px;padding:.75rem 1rem;border-radius:6px}.primary-button[_ngcontent-%COMP%]:hover{background-color:#2da899;border:1px solid #2DA899}.primary-button[_ngcontent-%COMP%]:disabled{color:#fff;border:1px solid #3d4957;background-color:#3d4957;min-width:80px;display:flex!important;align-items:center!important;justify-content:center!important;font-size:12px;height:24px;opacity:.7;padding:.75rem 0rem}"]})}return _})()},3849:(P,F,n)=>{"use strict";n.d(F,{L:()=>u});var t=n(9468),l=n(2463),_=n(6814),x=n(166);let u=(()=>{class o{constructor(){this.printButtonClicked=new t.vpe}emitPrintButtonClicked(){this.printButtonClicked.emit()}static#t=this.\u0275fac=function(E){return new(E||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-print-button"]],outputs:{printButtonClicked:"printButtonClicked"},standalone:!0,features:[t.jDz],decls:1,vars:0,consts:[["customClass","btn btn-sm button-action","title","Imprimer","url","print.svg",3,"buttonClicked"]],template:function(E,a){1&E&&(t.TgZ(0,"app-custom-button",0),t.NdJ("buttonClicked",function(){return a.emitPrintButtonClicked()}),t.qZA())},dependencies:[_.ez,l.v,x.x],styles:["[_nghost-%COMP%]{display:block}"]})}return o})()},7426:(P,F,n)=>{"use strict";n.d(F,{p:()=>E});var t=n(9468),l=n(547);const _={required:a=>"Ce champ est obligatoire",minlength:({requiredLength:a})=>`La valeur entr\xe9e doit avoir au minimum ${a} ${a>1?"caract\xe8res":"caract\xe8re"}`,maxlength:({requiredLength:a})=>`La valeur entr\xe9e doit avoir au maximum ${a} ${a>1?"caract\xe8res":"caract\xe8re"}`,actionsLength:a=>"Au moins une action doit \xeatre associ\xe9e au groupe utilisateur",problemeInvalide:a=>"Erreur sur le champ Probl\xe8me",impactInvalide:a=>"Erreur sur le champ Impact",gestionnaireInvalide:a=>"Erreur sur le champ Gestionnaire",demandeurInvalide:a=>"Erreur sur le champ Demandeur",categorieInvalide:a=>"Erreur sur le champ Cat\xe9gorie"};var x=n(8645),u=n(9773),o=n(6814);function i(a,f){if(1&a&&(t.TgZ(0,"div",1),t._uU(1),t.qZA()),2&a){const h=t.oxw();t.xp6(1),t.Oqu(h.errorMessage)}}const g=["*"];let E=(()=>{class a{constructor(){this.errors=null,this.resetField=new t.vpe,this.destoy$=new x.x}ngOnInit(){if(!this.myDirective)throw new Error("MyInputDirective is required!")}ngAfterViewInit(){this.myDirective&&this.myDirective.ngControl.valueChanges?.pipe((0,u.R)(this.destoy$)).subscribe(h=>{const m=this.myDirective.ngControl.control?this.getControlName(this.myDirective.ngControl.control):"";"string"==typeof m&&this.resetField.emit(m)})}ngOnDestroy(){this.destoy$.next(null),this.destoy$.complete()}get errorMessage(){let h=this.getExternErrorMessage();return null===h&&(h=this.getLocalErrorMessage()),h}getExternErrorMessage(){let h=null;return this.errors&&Object.entries(this.errors).forEach(([m,v])=>{m===(this.myDirective.ngControl.control?this.getControlName(this.myDirective.ngControl.control):"")&&(h=v)}),h}getLocalErrorMessage(){const h=this.myDirective?.ngControl.control?.errors;if(h){const m=Object.entries(h||{});if(!m.length)return null;const[v,Z]=m[0];let A=null;return Object.entries(_).forEach(([S,$])=>{S===v&&this.myDirective?.ngControl.control?.dirty&&(A=_[S](Z))}),A}return null}getControlName(h){let m=h.parent;if(!m)return null;let v="";return Object.keys(m.controls).forEach(Z=>{m.get(Z)===h&&(v=Z)}),v}static#t=this.\u0275fac=function(m){return new(m||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-field-error-wrapper"]],contentQueries:function(m,v,Z){if(1&m&&t.Suo(Z,l.Z,7),2&m){let A;t.iGM(A=t.CRH())&&(v.myDirective=A.first)}},inputs:{errors:"errors"},outputs:{resetField:"resetField"},ngContentSelectors:g,decls:2,vars:1,consts:[["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(m,v){1&m&&(t.F$t(),t.Hsn(0),t.YNc(1,i,2,1,"div",0)),2&m&&(t.xp6(1),t.Q6J("ngIf",v.errorMessage))},dependencies:[o.O5],styles:[".error-message[_ngcontent-%COMP%]{color:red;font-size:.75rem}"]})}return a})()},547:(P,F,n)=>{"use strict";n.d(F,{Z:()=>_});var t=n(9468),l=n(95);let _=(()=>{class x{constructor(o){this.ngControl=o}static#t=this.\u0275fac=function(i){return new(i||x)(t.Y36(l.a5,10))};static#e=this.\u0275dir=t.lG2({type:x,selectors:[["","formControl",""],["","formControlName",""]]})}return x})()},217:function(P,F){var n,l;void 0!==(l="function"==typeof(n=function(){"use strict";function x(a,f,h){var m=new XMLHttpRequest;m.open("GET",a),m.responseType="blob",m.onload=function(){E(m.response,f,h)},m.onerror=function(){console.error("could not download file")},m.send()}function u(a){var f=new XMLHttpRequest;f.open("HEAD",a,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function o(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(f)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,g=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(a,f,h){var m=i.URL||i.webkitURL,v=document.createElement("a");v.download=f=f||a.name||"download",v.rel="noopener","string"==typeof a?(v.href=a,v.origin===location.origin?o(v):u(v.href)?x(a,f,h):o(v,v.target="_blank")):(v.href=m.createObjectURL(a),setTimeout(function(){m.revokeObjectURL(v.href)},4e4),setTimeout(function(){o(v)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,h){if(f=f||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(function _(a,f){return typeof f>"u"?f={autoBom:!1}:"object"!=typeof f&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}(a,h),f);else if(u(a))x(a,f,h);else{var m=document.createElement("a");m.href=a,m.target="_blank",setTimeout(function(){o(m)})}}:function(a,f,h,m){if((m=m||open("","_blank"))&&(m.document.title=m.document.body.innerText="downloading..."),"string"==typeof a)return x(a,f,h);var v="application/octet-stream"===a.type,Z=/constructor/i.test(i.HTMLElement)||i.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||v&&Z||g)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var L=S.result;L=A?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=L:location=L,m=null},S.readAsDataURL(a)}else{var $=i.URL||i.webkitURL,R=$.createObjectURL(a);m?m.location=R:location.href=R,m=null,setTimeout(function(){$.revokeObjectURL(R)},4e4)}});i.saveAs=E.saveAs=E,P.exports=E})?n.apply(F,[]):n)&&(P.exports=l)}}]);