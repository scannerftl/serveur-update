"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[9503],{3920:(Le,F,r)=>{r.r(F),r.d(F,{GroupeEquipementModule:()=>Me});var _=r(6814),l=r(6465),b=r(676),J=r(9207),T=r(8281),O=r(2607),v=r(6328),P=r(9026),g=r(7398),N=r(9397),M=r(1631),h=r(2096),f=r(925),n=r(3994),Q=r(9862),C=r(6306),d=r(6063),z=r(2460),w=r(3186),R=r(4664),H=r(217),e=r(9468),K=r(9989),k=r(1946);let I=(()=>{class i extends K.v{getResourceBasePath(){return`${k.y}/groupe-equipement`}getPrintAll(){return this.http.post(`${this.url}/${this.getResourceBasePath()}/print/all`,{},{observe:"response",responseType:"blob"})}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.n5z(i)))(s||i)}}();static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var W=r(6366),y=r(797);let j=(()=>{class i{constructor(t,o,s,m,E,Y){this.groupeEquipementService=t,this.authService=o,this.actions$=s,this.router=m,this.modalService=E,this.store=Y,this.loadItems$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.loadItems),(0,z.M)(this.store.select(f.Zp),this.store.select(f.G1),this.store.select(f.kS)),(0,v.b)(([c,a,x,G])=>(console.log(a),this.store.dispatch((0,d.Q)()),(0,P.$)(this.groupeEquipementService.getAllWithPagination(a,x,G),this.groupeEquipementService.count(G)).pipe((0,g.U)(([Z,Ie])=>(this.store.dispatch((0,d.Z)()),n.NY.loadItemsSuccess({items:Z,totalElement:Ie}))),(0,C.K)(Z=>(this.store.dispatch((0,d.Z)()),(0,h.of)(n.NY.setError({errors:Z})))))))),{dispatch:!0}),this.createItem$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.createItem),(0,v.b)(c=>(this.store.dispatch((0,d.Q)()),this.groupeEquipementService.add(c.item).pipe((0,N.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Groupe equipement ajout\xe9 avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/groupe-equipement")}),(0,g.U)(a=>n.NY.createItemSuccess({item:a})),(0,C.K)(a=>(this.store.dispatch((0,d.Z)()),(0,h.of)(n.NY.setError({errors:a})))))))),{dispatch:!0}),this.loadItem$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.loadItem),(0,M.z)(c=>this.groupeEquipementService.findById(c.id).pipe((0,g.U)(a=>n.NY.loadItemSuccess({item:a})),(0,C.K)(a=>(this.store.dispatch((0,d.Z)()),(0,h.of)(n.NY.setError({errors:a}))))))),{dispatch:!0}),this.deleteItem$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.deleteItem),(0,v.b)(c=>this.groupeEquipementService.delete(c.item.id,c.item)),(0,N.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Groupe \xe9quipement supprim\xe9 avec succ\xe8s"})}),(0,g.U)(()=>n.NY.loadItems()),(0,C.K)(c=>(this.store.dispatch((0,d.Z)()),(0,h.of)(n.NY.setError({errors:c}))))),{dispatch:!0}),this.updateItem$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.updateItem),(0,v.b)(c=>(this.store.dispatch((0,d.Q)()),this.groupeEquipementService.update(c.id,c.item).pipe((0,N.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Groupe utilisateur modifi\xe9 avec succ\xe8s"}),this.router.navigateByUrl("parc-informatique/groupe-equipement")}),(0,g.U)(a=>n.NY.updateItemSuccess({item:a})),(0,C.K)(a=>(this.store.dispatch((0,d.Z)()),(0,h.of)(n.NY.setError({errors:a})))))))),{dispatch:!0}),this.downloadFile$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.downloadFile),(0,M.z)(c=>(this.store.dispatch((0,d.Q)()),this.groupeEquipementService.getPrintAll().pipe((0,g.U)(a=>{console.log(a),this.store.dispatch((0,d.Z)());let x=a.headers.get("content-disposition")?.split(";")[1].split("=")[1];return(0,H.saveAs)(a.body,x),n.NY.loadItems()}),(0,C.K)(a=>(this.store.dispatch((0,d.Z)()),(0,h.of)(n.NY.setError({errors:a})))))))),{dispatch:!0}),this.loadFormModel$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.loadFormModel),(0,v.b)(()=>this.groupeEquipementService.getFormModel()),(0,g.U)(c=>n.NY.loadFormModelSuccess({formModel:c})),(0,C.K)(c=>(0,h.of)(n.NY.setError({errors:c}))))),this.resetSearch$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.resetSearch),(0,v.b)(()=>(0,h.of)(n.NY.changePage({page:1}))))),this.search$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.search),(0,v.b)(()=>(0,h.of)(n.NY.changePage({page:1}))))),this.changePage$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.changePage),(0,g.U)(c=>n.NY.loadItems()))),this.changePageSize$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.changePageSize),(0,v.b)(()=>(0,h.of)(n.NY.changePage({page:1}))))),this.handleError$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(n.NY.setError),(0,R.w)(c=>{if(this.store.dispatch((0,d.Q)()),c.errors instanceof Q.UA){if(422===c.errors.status){let a="",x=0;for(const[G,Z]of Object.entries(c.errors.error))a+=0===x?Z:"\n"+Z,x++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:a})}if(403===c.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===c.errors.status){let a="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,d.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:a}),(0,h.of)(w.jM())}}return this.store.dispatch((0,d.Z)()),(0,h.of)({type:"noop"})})),{dispatch:!0})}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(I),e.LFG(W.e),e.LFG(l.eX),e.LFG(T.F0),e.LFG(y.Z),e.LFG(b.yh))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var V=r(2572),p=r(95);let q=(()=>{class i{constructor(){}createForm(t){return new p.cw({libelle:new p.NI(t.libelle,{nonNullable:!0,validators:[p.kI.required]}),description:new p.NI(t.description),typeResource:new p.NI(t.typeResource,{nonNullable:!0,validators:[p.kI.required]}),utilisateurModification:new p.NI(t.utilisateurModification),utilisateurCreation:new p.NI(t.utilisateurCreation),dateCreation:new p.NI(t.dateCreation),dateDerniereModification:new p.NI(t.dateDerniereModification)})}createSearchForm(){return new p.cw({libelle:new p.NI("",{nonNullable:!0,validators:[p.kI.required]}),description:new p.NI("",{nonNullable:!0,validators:[p.kI.required]})})}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var X=r(1227),ee=r(4849),L=r(3849),te=r(7251),ie=r(166),oe=r(6327),re=r(8564),ne=r(8223),se=r(602),pe=r(1469),ae=r(6326),A=r(8346),$=r(1171),D=r(547),S=r(362);function le(i,u){1&i&&(e.TgZ(0,"th",33),e._uU(1,"R\xe9f\xe9rence"),e.qZA())}function ce(i,u){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(t.refSys)}}function ue(i,u){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Libell\xe9"),e.qZA())}function me(i,u){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(t.libelle)}}function de(i,u){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Description"),e.qZA())}function he(i,u){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(t.description)}}function fe(i,u){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Date cr\xe9ation"),e.qZA())}function ge(i,u){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,t.dateCreation,"dd/MM/y \xe0 HH:mm:ss")," ")}}function _e(i,u){1&i&&(e.TgZ(0,"th",33),e._uU(1,"Date Derni\xe8re Modif"),e.qZA())}function ve(i,u){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,t.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss")," ")}}function Ce(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"table",24),e.NdJ("itemSelected",function(s){e.CHM(t);const m=e.oxw(2);return e.KtG(m.itemSelected(s))}),e.ynx(1,25),e.YNc(2,le,2,0,"th",26),e.YNc(3,ce,2,1,"td",27),e.BQk(),e.ynx(4,28),e.YNc(5,ue,2,0,"th",26),e.YNc(6,me,2,1,"td",27),e.BQk(),e.ynx(7,29),e.YNc(8,de,2,0,"th",26),e.YNc(9,he,2,1,"td",27),e.BQk(),e.ynx(10,30),e.YNc(11,fe,2,0,"th",26),e.YNc(12,ge,3,4,"td",31),e.BQk(),e.ynx(13,32),e.YNc(14,_e,2,0,"th",26),e.YNc(15,ve,3,4,"td",31),e.BQk(),e.qZA()}if(2&i){const t=u.ngIf,o=e.oxw(2);e.Q6J("items",t)("headers",o.headerTable)("selectable",!0)}}function Ee(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"app-crud-list",3),e.NdJ("searchButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchButtonClicked())})("refreshButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.refreshButtonClicked())})("pageSelected",function(s){e.CHM(t);const m=e.oxw();return e.KtG(m.pageSelected(s))})("pageSizeChange",function(s){e.CHM(t);const m=e.oxw();return e.KtG(m.pageSizeChange(s))})("closeButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeButtonClicked())}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"app-form-label",7),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-custom-textfield",9),e.qZA()()(),e.TgZ(7,"div",10)(8,"div",11)(9,"div",6),e._UZ(10,"app-form-label",12),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"app-custom-textfield",13),e.qZA()()(),e.TgZ(13,"div",14)(14,"app-custom-button",15),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addButtonClicked())}),e.qZA(),e.TgZ(15,"app-custom-button",16),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editButtonClicked())}),e.qZA(),e.TgZ(16,"app-custom-button",17),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteButtonClicked())}),e.qZA()(),e.TgZ(17,"div",18),e._UZ(18,"app-custom-button",19)(19,"app-custom-button",20),e.TgZ(20,"app-print-button",21),e.NdJ("printButtonClicked",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.printButtonClicked())}),e.qZA()(),e.TgZ(21,"div",22),e.YNc(22,Ce,16,3,"table",23),e.ALo(23,"async"),e.qZA()()}if(2&i){const t=u.ngIf,o=e.oxw();e.Q6J("itemSelected",o.isItemSelected())("pageSize",t.pageSize)("currentPage",t.page)("totalElements",t.totalElement),e.xp6(1),e.Q6J("formGroup",o.searchForm),e.xp6(6),e.Q6J("formGroup",o.searchForm),e.xp6(8),e.Q6J("disabled",!o.isItemSelected()),e.xp6(1),e.Q6J("disabled",!o.isItemSelected()),e.xp6(6),e.Q6J("ngIf",e.lcZ(23,9,o.items$))}}(0,_.qS)(X.Z,"fr-Fr");let be=(()=>{class i{constructor(t,o,s,m){this.router=t,this.modalService=o,this.store=s,this.groupeEquipementFormService=m,this.headerTable=["R\xe9f\xe9rence","Lib\xe9ll\xe9","Description","Date Cr\xe9ation","Date Derni\xe8re Modif"],this.items$=this.store.select(f.a1),this.page$=this.store.select(f.Zp),this.pageSize$=this.store.select(f.G1),this.totalElement$=this.store.select(f.YF),this.data$=(0,V.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,g.U)(([E,Y,c])=>({page:E,pageSize:Y,totalElement:c}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.groupeEquipementFormService.createSearchForm(),this.store.dispatch(n.NY.loadItems()),this.items$.subscribe(t=>{console.log(t)})}addButtonClicked(){this.router.navigate(["parc-informatique","groupe-equipement","add"])}editButtonClicked(){const t=this.selectedItem?.id;t&&(this.store.dispatch(n.NY.resetItem()),this.router.navigate(["parc-informatique","groupe-equipement","edit",t]))}deleteButtonClicked(){const t=this.selectedItem;t&&this.modalService.openComponent(ee.n,{size:"md",otherclass:"custom-modal-height"}).afterClosed.subscribe(o=>{o&&"yes"===o&&this.store.dispatch(n.NY.deleteItem({item:t}))})}itemSelected(t){this.selectedItem=t}pageSelected(t){this.store.dispatch(n.NY.changePage({page:t}))}pageSizeChange(t){this.store.dispatch(n.NY.changePageSize({pageSize:t}))}closeButtonClicked(){this.router.navigate(["parc-informatique"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(n.NY.resetSearch())}searchButtonClicked(){this.store.dispatch(n.NY.search({searchModel:this.searchForm.value}))}printButtonClicked(){this.store.dispatch(n.NY.downloadFile())}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(T.F0),e.Y36(y.Z),e.Y36(b.yh),e.Y36(q))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-groupe-equipement-list"]],features:[e._Bn([q,{provide:e.soG,useValue:"fr-FR"}])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Groupe Equipement","pathLevelThree","Liste"],["title","Liste des Groupes Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Groupes Equipements",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search"],["title","Libell\xe9"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","libelle"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Description"],["placeholder","","otherclass","item-input","formControlName","description"],[1,"primary-actions"],["icon","icon-plus btn-icon-add fw-bold","title","Ajouter",1,"me-1",3,"buttonClicked"],["icon","icon-edit-alt btn-icon-edit","title","Modifier",1,"me-1",3,"disabled","buttonClicked"],["icon","icon-trash btn-icon-delete","title","Supprimer",3,"disabled","buttonClicked"],[1,"secondary-actions","d-flex"],["customClass","btn btn-sm button-action","title","Importer","url","import.svg"],["customClass","btn btn-sm button-action","title","Exporter","url","export.svg",1,"me-1","ms-1"],[3,"printButtonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","R\xe9f\xe9rence"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","text-start",4,"appCellDefTemplate"],["appCellDef","Lib\xe9ll\xe9"],["appCellDef","Description"],["appCellDef","Date Cr\xe9ation"],["app-cell-def-template","",4,"appCellDefTemplate"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"text-start"],["app-cell-def-template",""]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Ee,24,11,"app-crud-list",2),e.ALo(3,"async")),2&o&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,s.data$)))},dependencies:[L.L,_.O5,p.JJ,p.JL,p.sg,p.u,te._,ie.x,oe.N,re.D,ne.h,se.u,pe.O,ae.q,A.W,$.h,D.Z,S.V,_.Ov,_.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}return i})();var B=r(7394),xe=r(8819),Ze=r(9543),Te=r(7426),Ge=r(9887);function qe(i,u){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij("",t," ")}}function Ne(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"form",3)(1,"div",4)(2,"app-panel-custom",5)(3,"div",6)(4,"div",7),e._UZ(5,"app-form-label",8),e.TgZ(6,"div",9),e._UZ(7,"app-custom-textfield",10),e.qZA()(),e.TgZ(8,"div",11),e._UZ(9,"app-form-label",12),e.TgZ(10,"div",13),e._UZ(11,"app-custom-textfield",14),e.qZA()()(),e.TgZ(12,"div",6)(13,"div",7),e._UZ(14,"app-form-label",15),e.TgZ(15,"div",9),e._UZ(16,"app-custom-textfield",16),e.qZA()(),e.TgZ(17,"div",11),e._UZ(18,"app-form-label",17),e.TgZ(19,"div",13),e._UZ(20,"app-custom-textfield",18),e.qZA()()()(),e.TgZ(21,"app-panel-custom",19)(22,"div",6)(23,"div",20)(24,"div",21),e._UZ(25,"app-form-label",22),e.TgZ(26,"div",13)(27,"app-field-error-wrapper",23),e.NdJ("resetField",function(s){e.CHM(t);const m=e.oxw(2);return e.KtG(m.resetBackendError(s))}),e._UZ(28,"app-custom-textfield",24),e.qZA()()(),e.TgZ(29,"div",25),e._UZ(30,"app-form-label",26),e.TgZ(31,"div",13),e._UZ(32,"textarea",27),e.qZA()()(),e.TgZ(33,"div",20)(34,"div",25),e._UZ(35,"app-form-label",28),e.TgZ(36,"app-field-error-wrapper",29),e.NdJ("resetField",function(s){e.CHM(t);const m=e.oxw(2);return e.KtG(m.resetBackendError(s))}),e.TgZ(37,"div",30)(38,"select",31),e.YNc(39,qe,2,2,"option",32),e.qZA()()()()()()(),e.TgZ(40,"div",33)(41,"app-primary-button",34),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.submitForm())}),e.qZA(),e.TgZ(42,"app-cancel-button",35),e.NdJ("buttonClicked",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.returnToList())}),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(4),e.Q6J("readonly",!0),e.xp6(7),e.Q6J("errors",t.errors),e.xp6(9),e.Q6J("errors",t.errors),e.xp6(3),e.Q6J("ngForOf",t.typeResource)}}function ye(i,u){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,Ne,43,8,"form",2),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form)}}let U=(()=>{class i{constructor(t,o,s,m){this.formService=t,this.modalService=o,this.router=s,this.store=m,this.typeResource=["MATERIEL","LOGICIEL"],this.errors=null,this.formSubmitted=new e.vpe,this.subscription=new B.w0,this.headers=["S\xe9lection","Lib\xe9ll\xe9","Description","Participant"],this.items=[{label:"Hello",description:"Salutation",participant:"Victor"},{label:"Hello",description:"Salutation",participant:"Tanguy"}],this.itemCritterias={label:"Libell\xe9",description:"Description",participant:"Participant"},this.formControl=new p.NI(this.items[0],{nonNullable:!1}),this.itemDescription=E=>E.participant}ngOnInit(){this.store.select(f.i2).subscribe(t=>{this.errors=t}),this.store.dispatch(n.NY.resetError()),this.subscription=this.store.select(f.Gi).subscribe(t=>{t&&(this.formModel={...this.formModel,...t},this.form=this.formService.createForm(this.groupeEquipement))}),this.form=this.formService.createForm(this.groupeEquipement)}ngOnDestroy(){this.subscription.unsubscribe()}submitForm(){console.log(this.form.value),this.formSubmitted.emit(this.form.value)}returnToList(){this.router.navigateByUrl("parc-informatique/groupe-equipement")}resetBackendError(t){this.store.dispatch(n.NY.resetErrorField({fieldName:t}))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(q),e.Y36(y.Z),e.Y36(T.F0),e.Y36(b.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-groupe-equipement-form"]],inputs:{groupeEquipement:"groupeEquipement"},outputs:{formSubmitted:"formSubmitted"},features:[e._Bn([q])],decls:1,vars:1,consts:[["class","pe-3 ps-3 pt-0",4,"ngIf"],[1,"pe-3","ps-3","pt-0"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-main","p-2"],["icon","fa fa-angle-right","title","Historique"],[1,"general-info"],[1,"input-container","col-5"],["title","Date Cr\xe9ation",1,"col-4","text-end"],[1,"input-textfield-container","col-6"],["otherclass","custom-style-form","placeholder","","formControlName","dateCreation",3,"readonly"],[1,"input-container","col-4"],["title","Cr\xe9\xe9 Par",1,"col-5","text-end"],[1,"input-textfield-container","col"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurCreation",3,"readonly"],["title","Date Derni\xe8re Modif",1,"col-4","text-end"],["otherclass","custom-style-form","formControlName","dateDerniereModification","placeholder","",3,"readonly"],["title","Modifi\xe9 Par",1,"col-5","text-end"],["otherclass","custom-style-form","placeholder","","formControlName","utilisateurModification",3,"readonly"],["icon","fa fa-angle-right","title","Informations g\xe9n\xe9rales"],[1,"col-5"],[1,"input-container","col-12","mb-2"],["title","Libell\xe9 Groupe",1,"col-4","text-end"],[3,"errors","resetField"],["otherclass","custom-style-form","placeholder","","formControlName","libelle"],[1,"input-container","col-12"],["title","Description",1,"col-4","text-end"],["placeholder","","formControlName","description",1,"custom-style-textarea"],["title","Type de Ressources",1,"mr-1","col-4","text-end"],[1,"col",3,"errors","resetField"],[1,"input-textfield-container","col-8"],["formControlName","typeResource",1,"form-select-sm","col-12","custom-style-select"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-actions"],["title","Enregistrer",1,"me-1",3,"buttonClicked"],["title","Annuler","otherclass","custom-cancel-button",3,"buttonClicked"],[3,"ngValue"]],template:function(o,s){1&o&&e.YNc(0,ye,2,1,"div",0),2&o&&e.Q6J("ngIf",!s.formModel)},dependencies:[_.sg,_.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.sg,p.u,xe.F,A.W,$.h,Ze.C,D.Z,Te.p,Ge.l],styles:[".general-info[_ngcontent-%COMP%]{display:flex;padding:5px 0;width:100%}.form-main[_ngcontent-%COMP%]{background-color:#e7e8ea;border:1px solid #c7c5c6}.input-container[_ngcontent-%COMP%]{display:flex}.input-textfield-container[_ngcontent-%COMP%]{margin-left:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]   app-primary-button[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return i})();function Ye(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"app-groupe-equipement-form",3),e.NdJ("formSubmitted",function(s){e.CHM(t);const m=e.oxw();return e.KtG(m.editGroupeEquipement(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("groupeEquipement",t.groupeEquipementDto)}}const Fe=[{path:"",component:be,pathMatch:"prefix"},{path:"add",component:(()=>{class i{constructor(t){this.store=t,this.formModel$=this.store.select(f.Gi),this.groupeEquipement={id:"",libelle:"",description:"",typeResource:"MATERIEL",dateDerniereModification:null,dateCreation:null,utilisateurCreation:"",utilisateurModification:""}}ngOnInit(){this.store.dispatch(n.NY.resetItem()),this.store.dispatch(n.NY.resetFormModel())}addGroupeEquipement(t){const o={libelle:t.libelle,description:t.description,typeResource:t.typeResource};console.log(o),this.store.dispatch(n.NY.createItem({item:o}))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(b.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-groupe-equipement-add"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Groupe Equipement","pathLevelThree","Ajouter"],[3,"groupeEquipement","formSubmitted"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.TgZ(2,"app-groupe-equipement-form",2),e.NdJ("formSubmitted",function(E){return s.addGroupeEquipement(E)}),e.qZA()),2&o&&(e.xp6(2),e.Q6J("groupeEquipement",s.groupeEquipement))},dependencies:[S.V,U],styles:["[_nghost-%COMP%]{width:100%}"]})}return i})(),pathMatch:"prefix"},{path:"edit/:id",component:(()=>{class i{constructor(t,o){this.store=t,this.route=o,this.formModel$=this.store.select(f.Gi),this.groupeEquipement$=this.store.select(f.pX),this.groupeEquipementDto=null,this.subscription=new B.w0}ngOnInit(){this.store.dispatch(n.NY.resetFormModel()),this.subscription=this.route.params.subscribe(t=>{this.id=t.id,this.id&&this.store.dispatch(n.NY.loadItem({id:this.id}))}),this.groupeEquipement$.subscribe(t=>{t&&(this.groupeEquipementDto={id:this.id,libelle:t.libelle,description:t.description,typeResource:t.typeResource,dateDerniereModification:null===t.dateDerniereModification?"":this.formatDate(t.dateDerniereModification),dateCreation:null===t.dateCreation?"":this.formatDate(t.dateCreation),utilisateurCreation:t.utilisateurCreation,utilisateurModification:t.utilisateurModification})})}formatDate(t){if(t){const o=new Date(t);return o.toLocaleDateString()+" \xe0 "+o.toLocaleTimeString()}return null}ngOnDestroy(){this.subscription.unsubscribe()}editGroupeEquipement(t){const o={id:this.id,libelle:t.libelle,description:t.description,typeResource:t.typeResource};console.log(o),this.store.dispatch(n.NY.updateItem({id:this.id,item:o}))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(b.yh),e.Y36(T.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-groupe-equipement-edit"]],decls:3,vars:1,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","R\xe9f\xe9rentiel","pathLevelTwo","Groupe Equipement","pathLevelThree","Editer"],[3,"groupeEquipement","formSubmitted",4,"ngIf"],[3,"groupeEquipement","formSubmitted"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-custom-breadcrumb",1),e.qZA(),e.YNc(2,Ye,1,1,"app-groupe-equipement-form",2)),2&o&&(e.xp6(2),e.Q6J("ngIf",s.groupeEquipementDto))},dependencies:[_.O5,S.V,U],styles:["[_nghost-%COMP%]{width:100%}"]})}return i})(),pathMatch:"prefix"}];let Me=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({providers:[I],imports:[L.L,_.ez,b.Aw.forFeature("groupe-equipements",O.n1),l.sQ.forFeature(j),J.m,T.Bz.forChild(Fe)]})}return i})()}}]);