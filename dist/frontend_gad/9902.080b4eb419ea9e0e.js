"use strict";(self.webpackChunkfrontend_gad=self.webpackChunkfrontend_gad||[]).push([[9902],{9902:(me,L,l)=>{l.r(L),l.d(L,{ValidationUtilisateurModule:()=>ue});var f=l(6814),G=l(2572),C=l(7398),s=l(676);const u="Utilisateur Valide",K=(0,s.PH)(`[${u} API] Load All`),Y=(0,s.PH)(`[${u} API] Load All Success`,(0,s.Ky)()),j=(0,s.PH)(`[${u} API] Validate`,(0,s.Ky)()),z=(0,s.PH)(`[${u} API] Validate Success`,(0,s.Ky)()),R=(0,s.PH)(`[${u} API] Load`,(0,s.Ky)()),Q=(0,s.PH)(`[${u} API] Reset`),D=(0,s.PH)(`[${u} API] Load Success`,(0,s.Ky)()),J=(0,s.PH)(`[${u} API] Delete`,(0,s.Ky)()),W=(0,s.PH)(`[${u} API] Delete Success`,(0,s.Ky)()),k=(0,s.PH)(`[${u} API] Reject`,(0,s.Ky)()),w=(0,s.PH)(`[${u} API] Reject Success`,(0,s.Ky)()),X=(0,s.PH)(`[${u} API] Load Form Model`),q=(0,s.PH)(`[${u} API] Reset Form Model`),tt=(0,s.PH)(`[${u} API] Load Form Model Success`,(0,s.Ky)()),et=(0,s.PH)(`[${u} API] Reset Search`),it=(0,s.PH)(`[${u} API] Search`,(0,s.Ky)()),st=(0,s.PH)(`[${u} API] Change Page`,(0,s.Ky)()),rt=(0,s.PH)(`[${u} API] Change Page Size`,(0,s.Ky)()),a={loadItems:K,loadItemsSuccess:Y,resetItem:Q,validateItem:j,validateItemSuccess:z,loadItem:R,loadItemSuccess:D,rejectItem:k,rejectItemSuccess:w,deleteItem:J,deleteItemSuccess:W,loadFormModel:X,resetFormModel:q,loadFormModelSuccess:tt,setError:(0,s.PH)(`[${u} API] Create Error`,(0,s.Ky)()),resetError:(0,s.PH)(`[${u} API] Reset Error`),resetErrorField:(0,s.PH)(`[${u} API] Reset Error Field`,(0,s.Ky)()),resetSearch:et,search:it,changePage:st,changePageSize:rt},ct=(0,s.Lq)({formModel:null,searchModel:{},items:[],currentItem:null,page:1,pageSize:15,totalElement:0,errors:null},(0,s.on)(a.loadItemsSuccess,(e,o)=>({...e,items:o.items,totalElement:o.totalElement})),(0,s.on)(a.resetItem,(e,o)=>({...e,currentItem:null})),(0,s.on)(a.validateItemSuccess,(e,o)=>({...e})),(0,s.on)(a.deleteItemSuccess,(e,o)=>({...e})),(0,s.on)(a.loadItemSuccess,(e,o)=>({...e,currentItem:o.item})),(0,s.on)(a.rejectItemSuccess,(e,o)=>({...e})),(0,s.on)(a.loadFormModel,(e,o)=>({...e,formModel:null})),(0,s.on)(a.loadFormModelSuccess,(e,o)=>({...e,formModel:o.formModel})),(0,s.on)(a.resetSearch,(e,o)=>({...e,searchModel:{}})),(0,s.on)(a.search,(e,o)=>({...e,searchModel:o.searchModel})),(0,s.on)(a.changePage,(e,o)=>({...e,page:o.page})),(0,s.on)(a.changePageSize,(e,o)=>({...e,pageSize:o.pageSize})),(0,s.on)(a.setError,(e,o)=>({...e,errors:o.errors})),(0,s.on)(a.resetError,(e,o)=>({...e,errors:{}})),(0,s.on)(a.resetErrorField,(e,o)=>{let i={};return null!==e.errors&&Object.entries(e.errors).forEach(([r,n])=>{r!==o.fieldName&&(i[`${r}`]=n)}),{...e,errors:i}})),g=(0,s.ZF)("validation-utilisateurs"),dt=(0,s.P1)(g,e=>e.items),M=(0,s.P1)(g,e=>e.currentItem),A=(0,s.P1)(g,e=>e.formModel),ut=(0,s.P1)(g,e=>e.searchModel),V=(0,s.P1)(g,e=>e.page),E=(0,s.P1)(g,e=>e.pageSize),pt=(0,s.P1)(g,e=>e.totalElement),B=(0,s.P1)(g,e=>e.errors);var F=l(1686),t=l(9468),S=l(8281),I=l(95),mt=l(7251),ht=l(166),_t=l(6327),ft=l(8564),gt=l(8223),vt=l(602),Ct=l(1469),St=l(6326),Ut=l(8346),Tt=l(1171),It=l(547),P=l(362);function xt(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Login"),t.qZA())}function Pt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.userName)}}function Zt(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Nom"),t.qZA())}function bt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.firstName)}}function $t(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Pr\xe9nom"),t.qZA())}function yt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.lastName)}}function Lt(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Statut"),t.qZA())}function Mt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.etatOperation)}}function At(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"R\xf4le"),t.qZA())}function Vt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.role.libelle)}}function Et(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Cr\xe9\xe9(e) Par"),t.qZA())}function Bt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.utilisateurCreation)}}function Ft(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Date Cr\xe9ation"),t.qZA())}function Nt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.dateCreation,"dd/MM/y \xe0 HH:mm:ss"))}}function Ht(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Modifi\xe9(e) Par"),t.qZA())}function Ot(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.utilisateurModification)}}function Gt(e,o){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Date Derni\xe8re Modif"),t.qZA())}function Kt(e,o){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.dateDerniereModification,"dd/MM/y \xe0 HH:mm:ss"))}}function Yt(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"table",19),t.NdJ("itemSelected",function(n){t.CHM(i);const p=t.oxw(2);return t.KtG(p.itemSelected(n))}),t.ynx(1,20),t.YNc(2,xt,2,0,"th",21),t.YNc(3,Pt,2,1,"td",22),t.BQk(),t.ynx(4,23),t.YNc(5,Zt,2,0,"th",21),t.YNc(6,bt,2,1,"td",22),t.BQk(),t.ynx(7,24),t.YNc(8,$t,2,0,"th",21),t.YNc(9,yt,2,1,"td",22),t.BQk(),t.ynx(10,25),t.YNc(11,Lt,2,0,"th",21),t.YNc(12,Mt,2,1,"td",22),t.BQk(),t.ynx(13,26),t.YNc(14,At,2,0,"th",21),t.YNc(15,Vt,2,1,"td",22),t.BQk(),t.ynx(16,27),t.YNc(17,Et,2,0,"th",21),t.YNc(18,Bt,2,1,"td",22),t.BQk(),t.ynx(19,28),t.YNc(20,Ft,2,0,"th",21),t.YNc(21,Nt,3,4,"td",22),t.BQk(),t.ynx(22,29),t.YNc(23,Ht,2,0,"th",21),t.YNc(24,Ot,2,1,"td",22),t.BQk(),t.ynx(25,30),t.YNc(26,Gt,2,0,"th",21),t.YNc(27,Kt,3,4,"td",22),t.BQk(),t.qZA()}if(2&e){const i=o.ngIf,r=t.oxw(2);t.Q6J("items",i)("headers",r.headerTable)("selectable",!0)}}function jt(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"app-crud-list",3),t.NdJ("searchButtonClicked",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.searchButtonClicked())})("refreshButtonClicked",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.refreshButtonClicked())})("pageSelected",function(n){t.CHM(i);const p=t.oxw();return t.KtG(p.pageSelected(n))})("pageSizeChange",function(n){t.CHM(i);const p=t.oxw();return t.KtG(p.pageSizeChange(n))})("closeButtonClicked",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.closeButtonClicked())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._UZ(4,"app-form-label",7),t.qZA(),t.TgZ(5,"div",8),t._UZ(6,"app-custom-textfield",9),t.qZA()()(),t.TgZ(7,"div",10)(8,"div",11)(9,"div",6),t._UZ(10,"app-form-label",12),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-custom-textfield",13),t.qZA()()(),t.TgZ(13,"div",14)(14,"app-custom-button",15),t.NdJ("buttonClicked",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.validateButtonClicked())}),t.qZA(),t.TgZ(15,"app-custom-button",16),t.NdJ("buttonClicked",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.rejectButtonClicked())}),t.qZA()(),t.TgZ(16,"div",17),t.YNc(17,Yt,28,3,"table",18),t.ALo(18,"async"),t.qZA()()}if(2&e){const i=o.ngIf,r=t.oxw();t.Q6J("itemSelected",r.isItemSelected())("pageSize",i.pageSize)("currentPage",i.page)("totalElements",i.totalElement),t.xp6(1),t.Q6J("formGroup",r.searchForm),t.xp6(6),t.Q6J("formGroup",r.searchForm),t.xp6(7),t.Q6J("disabled",!r.isItemSelected()),t.xp6(1),t.Q6J("disabled",!r.isItemSelected()),t.xp6(2),t.Q6J("ngIf",t.lcZ(18,9,r.items$))}}let zt=(()=>{class e{constructor(i,r,n){this.router=i,this.store=r,this.utilisateurFormService=n,this.isUpdateActivated=!1,this.headerTable=["Login","Nom","Pr\xe9nom","Statut","Role","Date Cr\xe9ation","Cr\xe9\xe9(e) Par","Date Derni\xe8re Modif","Modifi\xe9(e) Par"],this.items$=this.store.select(dt),this.page$=this.store.select(V),this.pageSize$=this.store.select(E),this.totalElement$=this.store.select(pt),this.data$=(0,G.a)([this.page$,this.pageSize$,this.totalElement$]).pipe((0,C.U)(([p,b,$])=>({page:p,pageSize:b,totalElement:$}))),this.selectedItem=null}ngOnInit(){this.searchForm=this.utilisateurFormService.createSearchForm(),this.store.dispatch(a.loadItems())}validateButtonClicked(){const i=this.selectedItem?.id;i&&(this.store.dispatch(a.resetItem()),this.router.navigate(["administration","validation-utilisateur","validate",i]))}rejectButtonClicked(){const i=this.selectedItem?.id;i&&(this.store.dispatch(a.resetItem()),this.router.navigate(["administration","validation-utilisateur","reject",i]))}itemSelected(i){this.selectedItem=i}pageSelected(i){this.store.dispatch(a.changePage({page:i}))}pageSizeChange(i){this.store.dispatch(a.changePageSize({pageSize:i}))}closeButtonClicked(){this.router.navigate(["administration"])}isItemSelected(){return null!==this.selectedItem}refreshButtonClicked(){this.searchForm.reset(),this.store.dispatch(a.resetSearch())}searchButtonClicked(){this.store.dispatch(a.search({searchModel:this.searchForm.value}))}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(S.F0),t.Y36(s.yh),t.Y36(F.G))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-validation-utilisateur-list"]],features:[t._Bn([F.G])],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Profils et utilisateurs","pathLevelTwo","Validations Comptes utilisateurs","pathLevelThree","Liste"],["title","Liste des Utilisateurs \xe0 valider",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked",4,"ngIf"],["title","Liste des Utilisateurs \xe0 valider",3,"itemSelected","pageSize","currentPage","totalElements","searchButtonClicked","refreshButtonClicked","pageSelected","pageSizeChange","closeButtonClicked"],[1,"normal-search",3,"formGroup"],[1,"d-flex","flex-row","align-items-center"],[1,"text-end","me-1","width-label-search-1"],["title","Nom d'utilisateur"],[1,"input-textfield-container","col-3"],["placeholder","","otherclass","item-input","formControlName","userName"],[1,"advance-search",3,"formGroup"],[1,"d-flex","flex-row","mt-2","align-items-center"],["title","Nom"],["placeholder","","otherclass","item-input","formControlName","firstName"],[1,"primary-actions"],["url","Icones/Actions-01.png","title","Valider",1,"me-1",3,"disabled","buttonClicked"],["url","Icones/Actions-04.png","title","Rejeter",1,"me-1",3,"disabled","buttonClicked"],[1,"table-content"],["appDynamicTable","",3,"items","headers","selectable","itemSelected",4,"ngIf"],["appDynamicTable","",3,"items","headers","selectable","itemSelected"],["appCellDef","Login"],["app-header-attribute-def-template","",4,"appHeaderDefTemplate"],["app-cell-def-template","","class","table-align-left",4,"appCellDefTemplate"],["appCellDef","Nom"],["appCellDef","Pr\xe9nom"],["appCellDef","Statut"],["appCellDef","Role"],["appCellDef","Cr\xe9\xe9(e) Par"],["appCellDef","Date Cr\xe9ation"],["appCellDef","Modifi\xe9(e) Par"],["appCellDef","Date Derni\xe8re Modif"],["app-header-attribute-def-template",""],["app-cell-def-template","",1,"table-align-left"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,jt,19,11,"app-crud-list",2),t.ALo(3,"async")),2&r&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,n.data$)))},dependencies:[f.O5,I.JJ,I.JL,I.sg,I.u,mt._,ht.x,_t.N,ft.D,gt.h,vt.u,Ct.O,St.q,Ut.W,Tt.h,It.Z,P.V,f.Ov,f.uU],styles:["[_nghost-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.primary-actions[_ngcontent-%COMP%]{align-items:center}"]})}return e})();var Rt=l(9207),d=l(6465),v=l(6328),Qt=l(9026),U=l(6306),Z=l(9397),Dt=l(1631),Jt=l(9862),_=l(2096),h=l(6063),Wt=l(2460),kt=l(3186),wt=l(4664),Xt=l(1946),qt=l(9989);let N=(()=>{class e extends qt.v{getResourceBasePath(){return`${Xt.y}/validate-reject-user`}getIdValue(i){return i.id}validate(i,r){return this.http.post(`${this.url}/${this.getResourceBasePath()}/validate/${i}`,r)}reject(i,r){return this.http.post(`${this.url}/${this.getResourceBasePath()}/reject/${i}`,r)}static#t=this.\u0275fac=function(){let i;return function(n){return(i||(i=t.n5z(e)))(n||e)}}();static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var te=l(6366),ee=l(797);let ie=(()=>{class e{constructor(i,r,n,p,b,$){this.validationUtilisateurService=i,this.authService=r,this.actions$=n,this.router=p,this.modalService=b,this.store=$,this.loadItems$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.loadItems),(0,Wt.M)(this.store.select(V),this.store.select(E),this.store.select(ut)),(0,v.b)(([c,m,x,y])=>(console.log(m),this.store.dispatch((0,h.Q)()),(0,Qt.$)(this.validationUtilisateurService.getAllWithPagination(m,x,y),this.validationUtilisateurService.count(y)).pipe((0,C.U)(([T,pe])=>(this.store.dispatch((0,h.Z)()),a.loadItemsSuccess({items:T,totalElement:pe}))),(0,U.K)(T=>(this.store.dispatch((0,h.Z)()),(0,_.of)(a.setError({errors:T})))))))),{dispatch:!0}),this.validateItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.validateItem),(0,v.b)(c=>(this.store.dispatch((0,h.Q)()),this.validationUtilisateurService.validate(c.id,c.item))),(0,Z.b)(()=>{this.store.dispatch((0,h.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Utilisateur a \xe9t\xe9 valid\xe9 avec succ\xe8s"}),this.router.navigateByUrl("administration/validation-utilisateur")}),(0,C.U)(c=>a.validateItemSuccess({item:c})),(0,U.K)(c=>(this.store.dispatch((0,h.Z)()),(0,_.of)(a.setError({errors:c}))))),{dispatch:!0}),this.loadItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.loadItem),(0,Dt.z)(c=>this.validationUtilisateurService.findById(c.id).pipe((0,C.U)(m=>a.loadItemSuccess({item:m})),(0,U.K)(m=>(this.store.dispatch((0,h.Z)()),(0,_.of)(a.setError({errors:m}))))))),{dispatch:!0}),this.deleteItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.deleteItem),(0,v.b)(c=>this.validationUtilisateurService.delete(c.item.id,c.item)),(0,Z.b)(()=>{this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Utilisateur supprim\xe9 avec succ\xe8s"})}),(0,C.U)(()=>a.loadItems()),(0,U.K)(c=>(this.store.dispatch((0,h.Z)()),(0,_.of)(a.setError({errors:c}))))),{dispatch:!0}),this.rejectItem$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.rejectItem),(0,v.b)(c=>(this.store.dispatch((0,h.Q)()),this.validationUtilisateurService.reject(c.item.id,c.item).pipe((0,Z.b)(()=>{this.store.dispatch((0,h.Z)()),this.modalService.openAlert({type:"success",title:"Op\xe9ration r\xe9ussie",message:"Utilisateur a \xe9t\xe9 rejet\xe9 avec succ\xe8s"}),this.router.navigateByUrl("administration/validation-utilisateur")}),(0,U.K)(m=>(this.store.dispatch((0,h.Z)()),(0,_.of)(a.setError({errors:m})))))))),{dispatch:!1}),this.loadFormModel$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.loadFormModel),(0,v.b)(()=>this.validationUtilisateurService.getFormModel()),(0,C.U)(c=>a.loadFormModelSuccess({formModel:c})),(0,U.K)(c=>(0,_.of)(a.setError({errors:c}))))),this.resetSearch$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.resetSearch),(0,v.b)(()=>(0,_.of)(a.changePage({page:1}))))),this.search$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.search),(0,v.b)(()=>(0,_.of)(a.changePage({page:1}))))),this.changePage$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.changePage),(0,C.U)(c=>a.loadItems()))),this.changePageSize$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.changePageSize),(0,v.b)(()=>(0,_.of)(a.changePage({page:1}))))),this.handleError$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(a.setError),(0,wt.w)(c=>{if(this.store.dispatch((0,h.Q)()),c.errors instanceof Jt.UA){if(422===c.errors.status){let m="",x=0;for(const[y,T]of Object.entries(c.errors.error))m+=0===x?T:"\n"+T,x++;this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:m})}if(403===c.errors.status&&this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:"Vous n'avez pas le droit requis pour effectuer cette action"}),401===c.errors.status){let m="Votre token a expir\xe9, veuillez vous reconnecter svp!";return this.authService.removeToken(),this.authService.removeUserInfo(),this.store.dispatch((0,h.Z)()),this.modalService.openAlert({type:"error",title:"Op\xe9ration Erron\xe9e",message:m}),(0,_.of)(kt.jM())}}return this.store.dispatch((0,h.Z)()),(0,_.of)({type:"noop"})})),{dispatch:!0})}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(N),t.LFG(te.e),t.LFG(d.eX),t.LFG(S.F0),t.LFG(ee.Z),t.LFG(s.yh))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var H=l(7394),O=l(3125);function se(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"app-utilisateur-form",4),t.NdJ("formSubmitted",function(n){t.CHM(i);const p=t.oxw(2);return t.KtG(p.validateUtilisateur(n))})("returnToList",function(){t.CHM(i);const n=t.oxw(2);return t.KtG(n.returnToList())})("fieldReset",function(n){t.CHM(i);const p=t.oxw(2);return t.KtG(p.resetBackendError(n))}),t.qZA()}if(2&e){const i=o.ngIf,r=t.oxw().ngIf,n=t.oxw();t.Q6J("utilisateur",i)("formModel",r)("errors",n.error)("readonly",!0)("disabledButton",n.disabledButton)("action",n.action)}}function re(e,o){if(1&e&&(t.ynx(0),t.YNc(1,se,1,6,"app-utilisateur-form",3),t.ALo(2,"async"),t.BQk()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.utilisateur$))}}let ae=(()=>{class e{constructor(i,r,n){this.store=i,this.route=r,this.router=n,this.formModel$=this.store.select(A),this.utilisateur$=this.store.select(M),this.errors$=this.store.select(B),this.error={},this.disabledButton="disabled",this.action="edit",this.subscription=new H.w0}ngOnInit(){this.store.dispatch(a.resetFormModel()),this.subscription=this.route.params.subscribe(i=>{this.id=i.id,this.id&&this.store.dispatch(a.loadItem({id:this.id}))}),this.store.dispatch(a.resetItem()),this.store.dispatch(a.loadFormModel()),this.errors$.subscribe(i=>{null!==i&&(this.error=i)})}ngOnDestroy(){this.subscription.unsubscribe()}validateUtilisateur(i){this.store.dispatch(a.validateItem({id:this.id,item:i}))}resetBackendError(i){console.log(i),this.store.dispatch(a.resetErrorField({fieldName:i}))}returnToList(){this.router.navigateByUrl("administration/validation-utilisateur")}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(s.yh),t.Y36(S.gz),t.Y36(S.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-validation-utilisateur-validate"]],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Profils et utilisateurs","pathLevelTwo","Comptes utilisateurs","pathLevelThree","Valider"],[4,"ngIf"],["actionTitle","Valider",3,"utilisateur","formModel","errors","readonly","disabledButton","action","formSubmitted","returnToList","fieldReset",4,"ngIf"],["actionTitle","Valider",3,"utilisateur","formModel","errors","readonly","disabledButton","action","formSubmitted","returnToList","fieldReset"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,re,3,3,"ng-container",2),t.ALo(3,"async")),2&r&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,n.formModel$)))},dependencies:[f.O5,P.V,O.f,f.Ov],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})();function oe(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"app-utilisateur-form",4),t.NdJ("formSubmitted",function(n){t.CHM(i);const p=t.oxw(2);return t.KtG(p.rejectUtilisateur(n))})("returnToList",function(){t.CHM(i);const n=t.oxw(2);return t.KtG(n.returnToList())})("fieldReset",function(n){t.CHM(i);const p=t.oxw(2);return t.KtG(p.resetBackendError(n))}),t.qZA()}if(2&e){const i=o.ngIf,r=t.oxw().ngIf,n=t.oxw();t.Q6J("utilisateur",i)("formModel",r)("errors",n.error)("readonly",!0)("disabledButton",n.disabledButton)("action",n.action)}}function ne(e,o){if(1&e&&(t.ynx(0),t.YNc(1,oe,1,6,"app-utilisateur-form",3),t.ALo(2,"async"),t.BQk()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.utilisateur$))}}let le=(()=>{class e{constructor(i,r,n){this.store=i,this.route=r,this.router=n,this.formModel$=this.store.select(A),this.utilisateur$=this.store.select(M),this.errors$=this.store.select(B),this.error={},this.disabledButton="disabled",this.action="edit",this.subscription=new H.w0}ngOnInit(){this.store.dispatch(a.resetFormModel()),this.subscription=this.route.params.subscribe(i=>{this.id=i.id,this.id&&this.store.dispatch(a.loadItem({id:this.id}))}),this.store.dispatch(a.resetItem()),this.store.dispatch(a.loadFormModel()),this.errors$.subscribe(i=>{null!==i&&(this.error=i)})}ngOnDestroy(){this.subscription.unsubscribe()}rejectUtilisateur(i){this.store.dispatch(a.validateItem({id:this.id,item:i}))}resetBackendError(i){console.log(i),this.store.dispatch(a.resetErrorField({fieldName:i}))}returnToList(){this.router.navigateByUrl("administration/validation-utilisateur")}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(s.yh),t.Y36(S.gz),t.Y36(S.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-validation-utilisateur-reject"]],decls:4,vars:3,consts:[[1,"pt-3","ps-3","pe-3","pb-0","mb-0"],["pathLevelOne","Profils et utilisateurs","pathLevelTwo","Comptes utilisateurs","pathLevelThree","Rejeter"],[4,"ngIf"],["actionTitle","Rejeter",3,"utilisateur","formModel","errors","readonly","disabledButton","action","formSubmitted","returnToList","fieldReset",4,"ngIf"],["actionTitle","Rejeter",3,"utilisateur","formModel","errors","readonly","disabledButton","action","formSubmitted","returnToList","fieldReset"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"app-custom-breadcrumb",1),t.qZA(),t.YNc(2,ne,3,3,"ng-container",2),t.ALo(3,"async")),2&r&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,n.formModel$)))},dependencies:[f.O5,P.V,O.f,f.Ov],styles:["[_nghost-%COMP%]{width:100%}"]})}return e})();var ce=l(800);const de=[{path:"",component:zt,data:{routeModel:{module:"application",path:"user"}}},{path:"validate/:id",component:ae,data:{routeModel:{module:"application",path:"user"}}},{path:"reject/:id",component:le,data:{routeModel:{module:"application",path:"user"}}}];let ue=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({providers:[N],imports:[f.ez,Rt.m,ce.L,s.Aw.forFeature("validation-utilisateurs",ct),d.sQ.forFeature(ie),S.Bz.forChild(de)]})}return e})()}}]);